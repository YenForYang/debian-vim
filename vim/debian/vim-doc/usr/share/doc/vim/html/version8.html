<HTML>
<HEAD>
<META HTTP-EQUIV="Content-type" content="text/html; charset=ISO-8859-1">
<TITLE>Vim documentation: version8</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<H1>Vim documentation: version8</H1>
<A NAME="top"></A>
<A HREF="index.html">main help file</A>

<HR>
<PRE>

*<A NAME="version8.txt"></A><B>version8.txt</B>*  For Vim version 8.1.  Last change: 2018 May 17


		  VIM REFERENCE MANUAL    by <A HREF="intro.html#Bram">Bram</A> <A HREF="intro.html#Moolenaar">Moolenaar</A>



				*<A NAME="vim8"></A><B>vim8</B>* *<A NAME="vim-8"></A><B>vim-8</B>* *<A NAME="version-8.0"></A><B>version-8.0</B>* *<A NAME="version8.0"></A><B>version8.0</B>*
Welcome to Vim 8!  A large number of bugs have been fixed and several <A HREF="todo.html#nice">nice</A>
features have been added.  This file mentions all the new items and changes to
existing features since Vim 7.4. The patches up to Vim 7.4 can be found here:
|<A HREF="version7.html#vim-7.4">vim-7.4</A>|.

Use this command to see the full version and features information of the Vim
program you are using:
<B>	:version</B>

NEW FEATURES				|<A HREF="#new-8">new-8</A>|
	Vim script enhancements		|<A HREF="#new-vim-script-8">new-vim-script-8</A>|
	Various new items		|<A HREF="#new-items-8">new-items-8</A>|

INCOMPATIBLE CHANGES			|<A HREF="#incompatible-8">incompatible-8</A>|

IMPROVEMENTS				|<A HREF="#improvements-8">improvements-8</A>|

COMPILE TIME CHANGES			|<A HREF="#compile-changes-8">compile-changes-8</A>|

PATCHES					|<A HREF="#patches-8">patches-8</A>|

VERSION 8.1			|<A HREF="#version-8.1">version-8.1</A>|
Changed					|<A HREF="#changed-8.1">changed-8.1</A>|
Added					|<A HREF="#added-8.1">added-8.1</A>|
Patches					|<A HREF="#patches-8.1">patches-8.1</A>|


See |<A HREF="vi_diff.html">vi_diff.txt</A>| for an overview of differences between <A HREF="intro.html#Vi">Vi</A> and Vim 8.0.
See |<A HREF="version4.html">version4.txt</A>|, |<A HREF="version5.html">version5.txt</A>|, |<A HREF="version6.html">version6.txt</A>| and |<A HREF="version7.html">version7.txt</A>| for
differences between other versions.

==============================================================================

NEW FEATURES						*<A NAME="new-8"></A><B>new-8</B>*

First an overview of the more interesting new features.  A comprehensive <A HREF="eval.html#list">list</A>
is below.


<B><FONT COLOR="PURPLE">Asynchronous I/O support, channels </FONT></B>

Vim can now exchange <A HREF="message.html#messages">messages</A> with other processes in the background.  This
makes <A HREF="motion.html#it">it</A> possible to have servers <A HREF="diff.html#do">do</A> work and send back the results to Vim.
See |<A HREF="channel.html#channel-demo">channel-demo</A>| for an example, this shows communicating with a <A HREF="if_pyth.html#Python">Python</A>
server.

Closely related to channels is JSON support.  JSON is widely supported and can
easily be used for inter-process communication, allowing for <A HREF="editing.html#writing">writing</A> a server
in any language.  The <A HREF="eval.html#functions">functions</A> to use are |<A HREF="eval.html#json_encode()">json_encode()</A>| and |<A HREF="eval.html#json_decode()">json_decode()</A>|.

This makes <A HREF="motion.html#it">it</A> possible to build very complex plugins, written in any language
and running in a separate process.


<B><FONT COLOR="PURPLE">Jobs </FONT></B>

Vim can now start a <A HREF="channel.html#job">job</A>, communicate with <A HREF="motion.html#it">it</A> and stop <A HREF="motion.html#it">it</A>.  This is very useful
to run a process for completion, <A HREF="syntax.html#syntax">syntax</A> checking, etc.  <A HREF="eval.html#Channels">Channels</A> are used to
communicate with the <A HREF="channel.html#job">job</A>.  <A HREF="eval.html#Jobs">Jobs</A> can also read from or write to a buffer or a
file.  See |<A HREF="eval.html#job_start()">job_start()</A>|.


<B><FONT COLOR="PURPLE">Timers </FONT></B>

Also asynchronous are <A HREF="eval.html#timers">timers</A>.  They can fire once or repeatedly and invoke a
function to <A HREF="diff.html#do">do</A> any work.  For example:
<B>	let tempTimer = timer_start(4000, 'CheckTemp')</B>
This will call the CheckTemp() function four seconds (4000 milli seconds)
later.  See |<A HREF="eval.html#timer_start()">timer_start()</A>|.


<B><FONT COLOR="PURPLE">Partials </FONT></B>

Vim already had a <A HREF="eval.html#Funcref">Funcref</A>, a reference to a function.  A partial also refers
to a function, and additionally binds arguments and/or a dictionary.  This is
especially useful for callbacks on channels and <A HREF="eval.html#timers">timers</A>.  E.g., for the <A HREF="eval.html#timer">timer</A>
example above, to pass an argument to the function:
<B>	let tempTimer = timer_start(4000, function('CheckTemp', ['out']))</B>
This will call CheckTemp('out') four seconds later.


<B><FONT COLOR="PURPLE">Lambda and Closure </FONT></B>

A short way to create a function has been added: {args -&gt; expr}.  See |<A HREF="eval.html#lambda">lambda</A>|.
This is useful for <A HREF="eval.html#functions">functions</A> such <A HREF="motion.html#as">as</A> `filter()` and `map()`, which now also
accept a function argument.  Example:
<B>	:call filter(mylist, {idx, val -&gt; val &gt; 20})</B>

A <A HREF="eval.html#lambda">lambda</A> can use <A HREF="eval.html#variables">variables</A> defined in the scope where the <A HREF="eval.html#lambda">lambda</A> is defined.
This is usually called a |<A HREF="eval.html#closure">closure</A>|.

<A HREF="autocmd.html#User">User</A> defined <A HREF="eval.html#functions">functions</A> can also be a <A HREF="eval.html#closure">closure</A> by adding the &quot;<A HREF="eval.html#closure">closure</A>&quot; argument
|<A HREF="eval.html#:func-closure">:func-closure</A>|.


<B><FONT COLOR="PURPLE">Packages </FONT></B>

Plugins keep growing and more of them are available than ever before.  To keep
the collection of plugins manageable package support has been added.  This is
a convenient way to get one or more plugins, drop them in a directory and
possibly keep them updated.  Vim will load them automatically, or only when
desired.  See |<A HREF="repeat.html#packages">packages</A>|.


<B><FONT COLOR="PURPLE">New style tests </FONT></B>

This is for Vim developers.  So far <A HREF="editing.html#writing">writing</A> tests for Vim has not been <A HREF="starting.html#easy">easy</A>.
Vim 8 adds assert <A HREF="eval.html#functions">functions</A> and a framework to run tests.  This makes <A HREF="motion.html#it">it</A> a lot
simpler to write tests and keep them updated.  Also new are several <A HREF="eval.html#functions">functions</A>
that are added specifically for <A HREF="eval.html#testing">testing</A>. See |<A HREF="usr_41.html#test-functions">test-functions</A>|.


<B><FONT COLOR="PURPLE">Window IDs </FONT></B>

Previously <A HREF="windows.html#windows">windows</A> could only be accessed by their number. And every time a
<A HREF="windows.html#window">window</A> would open, close or move that number changes.  Each <A HREF="windows.html#window">window</A> now has a
unique ID, so that they are <A HREF="starting.html#easy">easy</A> to find.  See |<A HREF="eval.html#win_getid()">win_getid()</A>| and |<A HREF="eval.html#win_id2win()">win_id2win()</A>|.


<B><FONT COLOR="PURPLE">Viminfo uses timestamps </FONT></B>

Previously the information stored in <A HREF="starting.html#viminfo">viminfo</A> was whatever the last Vim wrote
there.  Now <A HREF="editing.html#timestamps">timestamps</A> are used to always keep the most recent items.
See |<A HREF="starting.html#viminfo-timestamp">viminfo-timestamp</A>|.


<B><FONT COLOR="PURPLE">Wrapping lines with indent </FONT></B>

The <A HREF="options.html#'breakindent'">'breakindent'</A> option has been added to be able to wrap lines without
<A HREF="change.html#changing">changing</A> the amount of indent.


<B><FONT COLOR="PURPLE">Windows: DirectX support </FONT></B>

This adds the <A HREF="options.html#'renderoptions'">'renderoptions'</A> option to allow for switching on DirectX
(DirectWrite) support on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.


<B><FONT COLOR="PURPLE">GTK+ 3 support </FONT></B>

The <A HREF="gui_x11.html#GTK+">GTK+</A> 3 <A HREF="gui.html#GUI">GUI</A> works just like <A HREF="gui_x11.html#GTK+">GTK+</A> 2 except for hardly noticeable technical
differences between them.  Configure still chooses <A HREF="gui_x11.html#GTK+">GTK+</A> 2 if both 2 and 3 are
available.  See src/Makefile for how to use <A HREF="gui_x11.html#GTK+">GTK+</A> 3 instead.  See
|<A HREF="gui_x11.html#gui-x11-compiling">gui-x11-compiling</A>| for other details.



Vim <A HREF="usr_41.html#script">script</A> enhancements					*<A NAME="new-vim-script-8"></A><B>new-vim-script-8</B>*

In Vim <A HREF="usr_41.html#script">script</A> the following types have been added:

	|<A HREF="eval.html#Special">Special</A>|	|<A HREF="eval.html#v:false">v:false</A>|, |<A HREF="eval.html#v:true">v:true</A>|, |<A HREF="eval.html#v:none">v:none</A>| and |<A HREF="eval.html#v:null">v:null</A>|
	|<A HREF="eval.html#Channel">Channel</A>|	connection to another process for asynchronous I/O
	|<A HREF="eval.html#Job">Job</A>|		process <A HREF="intro.html#control">control</A>

Many <A HREF="eval.html#functions">functions</A> and commands have been added to support the new types.

On some systems the numbers used in Vim <A HREF="usr_41.html#script">script</A> are now 64 bit.  This can be
checked with the |<A HREF="various.html#+num64">+num64</A>| feature.

Many items were added to support |<A HREF="eval.html#new-style-testing">new-style-testing</A>|.

<A HREF="eval.html#printf()">printf()</A> now accepts any type of argument for &#37;s.  It is converted to a <A HREF="eval.html#string">string</A>
like with <A HREF="eval.html#string()">string()</A>.



Various new items					*<A NAME="new-items-8"></A><B>new-items-8</B>*

<B><FONT COLOR="PURPLE">Visual mode commands: </FONT></B>

|<A HREF="change.html#v_CTRL-A">v_CTRL-A</A>|	CTRL-A		add N to number in highlighted text
|<A HREF="change.html#v_CTRL-X">v_CTRL-X</A>|	CTRL-X		subtract N from number in highlighted text
|<A HREF="change.html#v_g_CTRL-A">v_g_CTRL-A</A>|	g CTRL-A	add N to number in highlighted text
|<A HREF="change.html#v_g_CTRL-X">v_g_CTRL-X</A>|	g CTRL-X	subtract N from number in highlighted text


<B><FONT COLOR="PURPLE">Insert mode commands: </FONT></B>

|<A HREF="insert.html#i_CTRL-G_U">i_CTRL-G_U</A>|	CTRL-G U	don't break <A HREF="undo.html#undo">undo</A> with next cursor <A HREF="intro.html#movement">movement</A>


<B><FONT COLOR="PURPLE">Cmdline mode commands: </FONT></B>

|<A HREF="cmdline.html#/_CTRL-G">/_CTRL-G</A>|	CTRL-G		move to the next match in <A HREF="options.html#'incsearch'">'incsearch'</A> mode
|<A HREF="cmdline.html#/_CTRL-T">/_CTRL-T</A>|	CTRL-T		move to the previous match in <A HREF="options.html#'incsearch'">'incsearch'</A> mode


<B><FONT COLOR="PURPLE">Options: </FONT></B>

<A HREF="options.html#'belloff'">'belloff'</A>		<A HREF="diff.html#do">do</A> not ring the bell for these reasons
<A HREF="options.html#'breakindent'">'breakindent'</A>		wrapped line repeats indent
<A HREF="options.html#'breakindentopt'">'breakindentopt'</A>	settings for <A HREF="options.html#'breakindent'">'breakindent'</A>.
<A HREF="options.html#'emoji'">'emoji'</A>			emoji characters are considered full width
<A HREF="options.html#'fixendofline'">'fixendofline'</A>		make sure last line in file has <A HREF="intro.html#&lt;EOL&gt;">&lt;EOL&gt;</A>
<A HREF="options.html#'langremap'">'langremap'</A>		<A HREF="diff.html#do">do</A> apply <A HREF="options.html#'langmap'">'langmap'</A> to mapped characters
<A HREF="options.html#'luadll'">'luadll'</A>		name of the <A HREF="if_lua.html#Lua">Lua</A> dynamic library
<A HREF="options.html#'packpath'">'packpath'</A>		<A HREF="eval.html#list">list</A> of directories used for <A HREF="repeat.html#packages">packages</A>
<A HREF="options.html#'perldll'">'perldll'</A>		name of the <A HREF="if_perl.html#Perl">Perl</A> dynamic library
<A HREF="options.html#'pythondll'">'pythondll'</A>		name of the <A HREF="if_pyth.html#Python">Python</A> 2 dynamic library
<A HREF="options.html#'pythonthreedll'">'pythonthreedll'</A>	name of the <A HREF="if_pyth.html#Python">Python</A> 3 dynamic library
<A HREF="options.html#'renderoptions'">'renderoptions'</A>		<A HREF="options.html#options">options</A> for text rendering on Windows
<A HREF="options.html#'rubydll'">'rubydll'</A>		name of the <A HREF="if_ruby.html#Ruby">Ruby</A> dynamic library
<A HREF="options.html#'signcolumn'">'signcolumn'</A>		when to display the sign column
<A HREF="options.html#'tagcase'">'tagcase'</A>		how to handle <A HREF="change.html#case">case</A> when searching in <A HREF="tagsrch.html#tags">tags</A> files
<A HREF="options.html#'tcldll'">'tcldll'</A>		name of the <A HREF="if_tcl.html#Tcl">Tcl</A> dynamic library
<A HREF="options.html#'termguicolors'">'termguicolors'</A>		use <A HREF="gui.html#GUI">GUI</A> colors for the <A HREF="terminal.html#terminal">terminal</A>


<B><FONT COLOR="PURPLE">Ex commands: </FONT></B>

|<A HREF="quickfix.html#:cbottom">:cbottom</A>|		scroll to the bottom of the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>
|<A HREF="quickfix.html#:cdo">:cdo</A>|			execute command in each valid error <A HREF="eval.html#list">list</A> entry
|<A HREF="quickfix.html#:cfdo">:cfdo</A>|			execute command in each file in error <A HREF="eval.html#list">list</A>
|<A HREF="quickfix.html#:chistory">:chistory</A>|		display <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> stack
|<A HREF="motion.html#:clearjumps">:clearjumps</A>|		clear the jump <A HREF="eval.html#list">list</A>
|<A HREF="various.html#:filter">:filter</A>|		only output lines that (do not) match a <A HREF="pattern.html#pattern">pattern</A>
|<A HREF="helphelp.html#:helpclose">:helpclose</A>|		close one help <A HREF="windows.html#window">window</A>
|<A HREF="quickfix.html#:lbottom">:lbottom</A>|		scroll to the bottom of the location <A HREF="windows.html#window">window</A>
|<A HREF="quickfix.html#:ldo">:ldo</A>|			execute command in valid location <A HREF="eval.html#list">list</A> entries
|<A HREF="quickfix.html#:lfdo">:lfdo</A>|			execute command in each file in location <A HREF="eval.html#list">list</A>
|<A HREF="quickfix.html#:lhistory">:lhistory</A>|		display location <A HREF="eval.html#list">list</A> stack
|<A HREF="recover.html#:noswapfile">:noswapfile</A>|		following commands don't create a swap file
|<A HREF="repeat.html#:packadd">:packadd</A>|		add a <A HREF="usr_05.html#plugin">plugin</A> from <A HREF="options.html#'packpath'">'packpath'</A>
|<A HREF="repeat.html#:packloadall">:packloadall</A>|		load all <A HREF="repeat.html#packages">packages</A> under <A HREF="options.html#'packpath'">'packpath'</A>
|<A HREF="index.html#:smile">:smile</A>|		make the user happy


<B><FONT COLOR="PURPLE">Ex command modifiers: </FONT></B>

|<A HREF="cmdline.html#:keeppatterns">:keeppatterns</A>|		following command keeps search pattern <A HREF="cmdline.html#history">history</A>
|<A HREF="map.html#&lt;mods&gt;">&lt;mods&gt;</A>|		supply command modifiers to user defined commands


<B><FONT COLOR="PURPLE">New and extended functions: </FONT></B>

|<A HREF="eval.html#arglistid()">arglistid()</A>|		get id of the argument list
|<A HREF="eval.html#assert_equal()">assert_equal()</A>|	assert that two expressions values are equal
|<A HREF="eval.html#assert_exception()">assert_exception()</A>|	assert that a command throws an exception
|<A HREF="eval.html#assert_fails()">assert_fails()</A>|	assert that a function call fails
|<A HREF="eval.html#assert_false()">assert_false()</A>|	assert that an <A HREF="eval.html#expression">expression</A> is false
|<A HREF="eval.html#assert_inrange()">assert_inrange()</A>|	assert that an <A HREF="eval.html#expression">expression</A> is inside a range
|<A HREF="eval.html#assert_match()">assert_match()</A>|	assert that a <A HREF="pattern.html#pattern">pattern</A> matches the value
|<A HREF="eval.html#assert_notequal()">assert_notequal()</A>|	assert that two expressions values are not equal
|<A HREF="eval.html#assert_notmatch()">assert_notmatch()</A>|	assert that a <A HREF="pattern.html#pattern">pattern</A> does not match the value
|<A HREF="eval.html#assert_true()">assert_true()</A>|		assert that an <A HREF="eval.html#expression">expression</A> is true
|<A HREF="eval.html#bufwinid()">bufwinid()</A>|		get the <A HREF="windows.html#window">window</A> ID of a specific buffer
|<A HREF="eval.html#byteidxcomp()">byteidxcomp()</A>|		like <A HREF="eval.html#byteidx()">byteidx()</A> but <A HREF="intro.html#count">count</A> composing characters
|<A HREF="eval.html#ch_close()">ch_close()</A>|		close a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_close_in()">ch_close_in()</A>|		close the in part of a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_evalexpr()">ch_evalexpr()</A>|		evaluates an <A HREF="eval.html#expression">expression</A> over <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_evalraw()">ch_evalraw()</A>|		evaluates a raw <A HREF="eval.html#string">string</A> over <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_getbufnr()">ch_getbufnr()</A>|		get the buffer number of a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_getjob()">ch_getjob()</A>|		get the job associated with a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_info()">ch_info()</A>|		get <A HREF="channel.html#channel">channel</A> information
|<A HREF="eval.html#ch_log()">ch_log()</A>|		write a message in the <A HREF="channel.html#channel">channel</A> log file
|<A HREF="eval.html#ch_logfile()">ch_logfile()</A>|		set the <A HREF="channel.html#channel">channel</A> log file
|<A HREF="eval.html#ch_open()">ch_open()</A>|		open a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_read()">ch_read()</A>|		read a message from a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_readraw()">ch_readraw()</A>|		read a raw message from a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_sendexpr()">ch_sendexpr()</A>|		send a JSON message over a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_sendraw()">ch_sendraw()</A>|		send a raw message over a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_setoptions()">ch_setoptions()</A>|	set the options for a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#ch_status()">ch_status()</A>|		get status of a <A HREF="channel.html#channel">channel</A>
|<A HREF="eval.html#execute()">execute()</A>|		execute an <A HREF="intro.html#Ex">Ex</A> command and get the output
|<A HREF="eval.html#exepath()">exepath()</A>|		full path of an executable program
|<A HREF="eval.html#funcref()">funcref()</A>|		return a reference to function {name}
|<A HREF="eval.html#getbufinfo()">getbufinfo()</A>|		get a <A HREF="eval.html#list">list</A> with buffer information
|<A HREF="eval.html#getcharsearch()">getcharsearch()</A>|	return character search information
|<A HREF="eval.html#getcmdwintype()">getcmdwintype()</A>|	return the current command-line <A HREF="windows.html#window">window</A> type
|<A HREF="eval.html#getcompletion()">getcompletion()</A>|	return a <A HREF="eval.html#list">list</A> of command-line completion matches
|<A HREF="eval.html#getcurpos()">getcurpos()</A>|		get position of the cursor
|<A HREF="eval.html#gettabinfo()">gettabinfo()</A>|		get a <A HREF="eval.html#list">list</A> with tab page information
|<A HREF="eval.html#getwininfo()">getwininfo()</A>|		get a <A HREF="eval.html#list">list</A> with <A HREF="windows.html#window">window</A> information
|<A HREF="eval.html#glob2regpat()">glob2regpat()</A>|		convert a glob <A HREF="pattern.html#pattern">pattern</A> into a search <A HREF="pattern.html#pattern">pattern</A>
|<A HREF="eval.html#isnan()">isnan()</A>|		check for not a number
|<A HREF="eval.html#job_getchannel()">job_getchannel()</A>|	get the channel used by a job
|<A HREF="eval.html#job_info()">job_info()</A>|		get information about a job
|<A HREF="eval.html#job_setoptions()">job_setoptions()</A>|	set options for a job
|<A HREF="eval.html#job_start()">job_start()</A>|		start a job
|<A HREF="eval.html#job_status()">job_status()</A>|		get the status of a job
|<A HREF="eval.html#job_stop()">job_stop()</A>|		stop a job
|<A HREF="eval.html#js_decode()">js_decode()</A>|		decode a JSON <A HREF="eval.html#string">string</A> to Vim types
|<A HREF="eval.html#js_encode()">js_encode()</A>|		encode an <A HREF="eval.html#expression">expression</A> to a JSON <A HREF="eval.html#string">string</A>
|<A HREF="eval.html#json_decode()">json_decode()</A>|		decode a JSON <A HREF="eval.html#string">string</A> to Vim types
|<A HREF="eval.html#json_encode()">json_encode()</A>|		encode an <A HREF="eval.html#expression">expression</A> to a JSON <A HREF="eval.html#string">string</A>
|<A HREF="eval.html#matchaddpos()">matchaddpos()</A>|		define a <A HREF="eval.html#list">list</A> of positions to highlight
|<A HREF="eval.html#matchstrpos()">matchstrpos()</A>|		match and positions of a <A HREF="pattern.html#pattern">pattern</A> in a <A HREF="eval.html#string">string</A>
|<A HREF="eval.html#perleval()">perleval()</A>|		evaluate <A HREF="if_perl.html#Perl">Perl</A> <A HREF="eval.html#expression">expression</A>
|<A HREF="eval.html#reltimefloat()">reltimefloat()</A>|	convert <A HREF="eval.html#reltime()">reltime()</A> result to a <A HREF="eval.html#Float">Float</A>
|<A HREF="eval.html#setcharsearch()">setcharsearch()</A>|	set character search information
|<A HREF="eval.html#setfperm()">setfperm()</A>|		set the permissions of a file
|<A HREF="eval.html#strcharpart()">strcharpart()</A>|		get part of a <A HREF="eval.html#string">string</A> using char index
|<A HREF="eval.html#strgetchar()">strgetchar()</A>|		get character from a <A HREF="eval.html#string">string</A> using char index
|<A HREF="eval.html#systemlist()">systemlist()</A>|		get the result of a shell command <A HREF="motion.html#as">as</A> a list
|<A HREF="eval.html#test_alloc_fail()">test_alloc_fail()</A>|	make memory allocation fail
|<A HREF="eval.html#test_autochdir()">test_autochdir()</A>|	test <A HREF="options.html#'autochdir'">'autochdir'</A> functionality
test_disable_char_avail() test without typeahead (removed later)
|<A HREF="eval.html#test_garbagecollect_now()">test_garbagecollect_now()</A>| free memory right now
|<A HREF="eval.html#test_null_channel()">test_null_channel()</A>|	return a null <A HREF="eval.html#Channel">Channel</A>
|<A HREF="eval.html#test_null_dict()">test_null_dict()</A>|	return a null Dict
|<A HREF="eval.html#test_null_job()">test_null_job()</A>|	return a null <A HREF="eval.html#Job">Job</A>
|<A HREF="eval.html#test_null_list()">test_null_list()</A>|	return a null <A HREF="eval.html#List">List</A>
|<A HREF="eval.html#test_null_partial()">test_null_partial()</A>|	return a null <A HREF="eval.html#Partial">Partial</A> function
|<A HREF="eval.html#test_null_string()">test_null_string()</A>|	return a null <A HREF="eval.html#String">String</A>
|<A HREF="eval.html#test_settime()">test_settime()</A>|	set the time Vim uses internally
|<A HREF="eval.html#timer_info()">timer_info()</A>|		get information about <A HREF="eval.html#timers">timers</A>
|<A HREF="eval.html#timer_pause()">timer_pause()</A>|		pause or unpause a timer
|<A HREF="eval.html#timer_start()">timer_start()</A>|		create a timer
|<A HREF="eval.html#timer_stop()">timer_stop()</A>|		stop a timer
|<A HREF="eval.html#timer_stopall()">timer_stopall()</A>|	stop all <A HREF="eval.html#timers">timers</A>
|<A HREF="eval.html#uniq()">uniq()</A>|		remove copies of repeated adjacent items
|<A HREF="eval.html#win_findbuf()">win_findbuf()</A>|		find <A HREF="windows.html#windows">windows</A> containing a buffer
|<A HREF="eval.html#win_getid()">win_getid()</A>|		get <A HREF="windows.html#window">window</A> ID of a <A HREF="windows.html#window">window</A>
|<A HREF="eval.html#win_gotoid()">win_gotoid()</A>|		go to <A HREF="windows.html#window">window</A> with ID
|<A HREF="eval.html#win_id2tabwin()">win_id2tabwin()</A>|	get tab and <A HREF="windows.html#window">window</A> nr from <A HREF="windows.html#window">window</A> ID
|<A HREF="eval.html#win_id2win()">win_id2win()</A>|		get <A HREF="windows.html#window">window</A> nr from <A HREF="windows.html#window">window</A> ID
|<A HREF="eval.html#wordcount()">wordcount()</A>|		get byte/word/char count of buffer


<B><FONT COLOR="PURPLE">New Vim variables: </FONT></B>

|<A HREF="eval.html#v:beval_winid">v:beval_winid</A>|		Window ID of the <A HREF="windows.html#window">window</A> where the mouse pointer is
|<A HREF="eval.html#v:completed_item">v:completed_item</A>|	complete items for the most recently completed <A HREF="motion.html#word">word</A>
|<A HREF="eval.html#v:errors">v:errors</A>|		errors found by assert <A HREF="eval.html#functions">functions</A>
|<A HREF="eval.html#v:false">v:false</A>|		a <A HREF="eval.html#Number">Number</A> with value zero
|<A HREF="eval.html#v:hlsearch">v:hlsearch</A>|		indicates whether search highlighting is on
|<A HREF="eval.html#v:mouse_winid">v:mouse_winid</A>|		Window ID for a mouse click obtained with |<A HREF="eval.html#getchar()">getchar()</A>|
|<A HREF="eval.html#v:none">v:none</A>|		an empty <A HREF="eval.html#String">String</A>, used for JSON
|<A HREF="eval.html#v:null">v:null</A>|		an empty <A HREF="eval.html#String">String</A>, used for JSON
|<A HREF="eval.html#v:option_new">v:option_new</A>|    	new value of the option, used by |<A HREF="autocmd.html#OptionSet">OptionSet</A>|
|<A HREF="eval.html#v:option_old">v:option_old</A>|    	old value of the option, used by |<A HREF="autocmd.html#OptionSet">OptionSet</A>|
|<A HREF="eval.html#v:option_type">v:option_type</A>|   	scope of the set command, used by |<A HREF="autocmd.html#OptionSet">OptionSet</A>|
|<A HREF="eval.html#v:progpath">v:progpath</A>|		the command with which Vim was invoked
|<A HREF="eval.html#v:t_bool">v:t_bool</A>|		value of Boolean type
|<A HREF="eval.html#v:t_channel">v:t_channel</A>|		value of <A HREF="eval.html#Channel">Channel</A> type
|<A HREF="eval.html#v:t_dict">v:t_dict</A>|		value of <A HREF="eval.html#Dictionary">Dictionary</A> type
|<A HREF="eval.html#v:t_float">v:t_float</A>|		value of <A HREF="eval.html#Float">Float</A> type
|<A HREF="eval.html#v:t_func">v:t_func</A>|		value of <A HREF="eval.html#Funcref">Funcref</A> type
|<A HREF="eval.html#v:t_job">v:t_job</A>|		value of <A HREF="eval.html#Job">Job</A> type
|<A HREF="eval.html#v:t_list">v:t_list</A>|		value of <A HREF="eval.html#List">List</A> type
|<A HREF="eval.html#v:t_none">v:t_none</A>|		value of None type
|<A HREF="eval.html#v:t_number">v:t_number</A>|		value of <A HREF="eval.html#Number">Number</A> type
|<A HREF="eval.html#v:t_string">v:t_string</A>|		value of <A HREF="eval.html#String">String</A> type
|<A HREF="eval.html#v:testing">v:testing</A>|		must be set before using `test_garbagecollect_now()`
|<A HREF="eval.html#v:true">v:true</A>|		a <A HREF="eval.html#Number">Number</A> with value one
|<A HREF="eval.html#v:vim_did_enter">v:vim_did_enter</A>|	set just before <A HREF="autocmd.html#VimEnter">VimEnter</A> <A HREF="autocmd.html#autocommands">autocommands</A> are triggered


<B><FONT COLOR="PURPLE">New autocommand events: </FONT></B>

|<A HREF="autocmd.html#CmdUndefined">CmdUndefined</A>|		a user command is used but <A HREF="motion.html#it">it</A> isn't defined
|<A HREF="autocmd.html#OptionSet">OptionSet</A>|		after setting any option
|<A HREF="autocmd.html#TabClosed">TabClosed</A>|		after closing a <A HREF="intro.html#tab">tab</A> page
|<A HREF="autocmd.html#TabNew">TabNew</A>|		after creating a new <A HREF="intro.html#tab">tab</A> page
|<A HREF="autocmd.html#TextChangedI">TextChangedI</A>|		after a change was made to the text in <A HREF="insert.html#Insert">Insert</A> mode
|<A HREF="autocmd.html#TextChanged">TextChanged</A>|		after a change was made to the text in <A HREF="intro.html#Normal">Normal</A> mode
|<A HREF="autocmd.html#WinNew">WinNew</A>|		after creating a new <A HREF="windows.html#window">window</A>


<B><FONT COLOR="PURPLE">New highlight groups: </FONT></B>

EndOfBuffer		filler lines (~) after the last line in the buffer.
			|<A HREF="syntax.html#hl-EndOfBuffer">hl-EndOfBuffer</A>|


<B><FONT COLOR="PURPLE">New items in search patterns: </FONT></B>

|<A HREF="pattern.html#/\&#37;C">/\&#37;C</A>|	\&#37;C		match any composing characters


<B><FONT COLOR="PURPLE">New Syntax/Indent/FTplugin files: </FONT></B>

AVR Assembler (Avra) <A HREF="syntax.html#syntax">syntax</A>
Arduino <A HREF="syntax.html#syntax">syntax</A>
Bazel <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Dockerfile <A HREF="syntax.html#syntax">syntax</A> and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Eiffel <A HREF="usr_41.html#ftplugin">ftplugin</A>
Euphoria 3 and 4 <A HREF="syntax.html#syntax">syntax</A>
Go <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Godoc <A HREF="syntax.html#syntax">syntax</A>
Groovy <A HREF="usr_41.html#ftplugin">ftplugin</A>
HGcommit <A HREF="usr_41.html#ftplugin">ftplugin</A>
Hog indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Innovation Data Processing upstream.pt <A HREF="syntax.html#syntax">syntax</A>
<A HREF="change.html#J">J</A> <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Jproperties <A HREF="usr_41.html#ftplugin">ftplugin</A>
Json <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Kivy <A HREF="syntax.html#syntax">syntax</A>
Less <A HREF="syntax.html#syntax">syntax</A> and indent
Mix <A HREF="syntax.html#syntax">syntax</A>
Motorola S-Record <A HREF="syntax.html#syntax">syntax</A>
<A HREF="change.html#R">R</A> <A HREF="usr_41.html#ftplugin">ftplugin</A>
ReStructuredText <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Registry <A HREF="usr_41.html#ftplugin">ftplugin</A>
Rhelp indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Rmd (markdown with <A HREF="change.html#R">R</A> code chunks) <A HREF="syntax.html#syntax">syntax</A> and indent
Rmd <A HREF="usr_41.html#ftplugin">ftplugin</A>
Rnoweb <A HREF="usr_41.html#ftplugin">ftplugin</A>
Rnoweb indent
Scala <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
SystemVerilog <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Systemd <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>
Teraterm (TTL) <A HREF="syntax.html#syntax">syntax</A> and indent
Text <A HREF="usr_41.html#ftplugin">ftplugin</A>
Vroom <A HREF="syntax.html#syntax">syntax</A> and indent and <A HREF="usr_41.html#ftplugin">ftplugin</A>


<B><FONT COLOR="PURPLE">New Keymaps: </FONT></B>

Armenian eastern and western
<A HREF="russian.html#Russian">Russian</A> jcukenwintype
Vietnamese telex and vni

==============================================================================

INCOMPATIBLE CHANGES				*<A NAME="incompatible-8"></A><B>incompatible-8</B>*

These changes are incompatible with previous releases.  Check this <A HREF="eval.html#list">list</A> if you
run into a problem when upgrading from Vim 7.4 to 8.0.


<B><FONT COLOR="PURPLE">Better defaults without a vimrc </FONT></B>

When no <A HREF="starting.html#vimrc">vimrc</A> file is found, the |<A HREF="defaults.html">defaults.vim</A>| <A HREF="usr_41.html#script">script</A> is loaded to set more
useful default values for new users.  That includes setting <A HREF="options.html#'nocompatible'">'nocompatible'</A>.
Thus Vim no longer starts up in <A HREF="intro.html#Vi">Vi</A> compatible mode.  If you <A HREF="diff.html#do">do</A> want that,
either create a <A HREF="starting.html#.vimrc">.vimrc</A> file that does &quot;set compatible&quot; or start Vim with
&quot;vim -C&quot;.


<B><FONT COLOR="PURPLE">Support removed </FONT></B>

The support for <A HREF="os_msdos.html#MS-DOS">MS-DOS</A> has been removed.  It hasn't been working for a while
(Vim doesn't fit in memory) and removing <A HREF="motion.html#it">it</A> cleans up the code quite a bit.

The support for Windows 16 bit (Windows 95 and older) has been removed.

The support for <A HREF="os_os2.html#OS/2">OS/2</A> has been removed.  It probably hasn't been working for a
while since nobody uses <A HREF="motion.html#it">it</A>.

The SNiFF+ support has been removed.


<B><FONT COLOR="PURPLE">Minor incompatibilities: </FONT></B>

Probably...

==============================================================================

IMPROVEMENTS						*<A NAME="improvements-8"></A><B>improvements-8</B>*

The existing <A HREF="options.html#blowfish">blowfish</A> <A HREF="editing.html#encryption">encryption</A> turned out to be much weaker than <A HREF="motion.html#it">it</A> was
supposed to be.  The <A HREF="options.html#blowfish2">blowfish2</A> method has been added to fix that.  Note that
this still isn't a state-of-the-art <A HREF="editing.html#encryption">encryption</A>, but good enough for most
usage.  See <A HREF="options.html#'cryptmethod'">'cryptmethod'</A>.


==============================================================================

COMPILE TIME CHANGES					*<A NAME="compile-changes-8"></A><B>compile-changes-8</B>*

The Vim repository was moved from Google code to github, since Google code
was shut down.  It can now be found at https://github.com/vim/vim.

Functions now use <A HREF="develop.html#ANSI-C">ANSI-C</A> declarations.  At least a C-89 compatible compiler is
required.

The <A HREF="various.html#+visual">+visual</A> feature is now always included.

==============================================================================

PATCHES						*<A NAME="patches-8"></A><B>patches-8</B>* *<A NAME="bug-fixes-8"></A><B>bug-fixes-8</B>*

The <A HREF="eval.html#list">list</A> of patches that got included since 7.4.0.  This includes all the new
features, but does not include runtime file changes (syntax, indent, help,
etc.)

Patch 7.4.001
Problem:    Character classes such <A HREF="motion.html#as">as</A> [a-z] <A HREF="diff.html#do">do</A> not react to <A HREF="options.html#'ignorecase'">'ignorecase'</A>.
	    Breaks man page highlighting. (Mario Grgic)
Solution:   Add separate items for classes that react to <A HREF="options.html#'ignorecase'">'ignorecase'</A>.  Clean
	    up logic handling character classes.  Add more tests.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.002
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> with two alternative look-behind matches does not match.
	    (Amadeus Demarzi)
Solution:   When comparing PIMs also compare their state ID to see if they are
	    different.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.003
Problem:    Memory access error in <A HREF="if_ruby.html#Ruby">Ruby</A> <A HREF="syntax.html#syntax">syntax</A> highlighting. (Christopher Chow)
Solution:   Refresh stale pointer. (James McCoy)
Files:	    src/regexp_nfa.c

Patch 7.4.004
Problem:    When closing a <A HREF="windows.html#window">window</A> fails &quot;<A HREF="windows.html#:bwipe">:bwipe</A>&quot; may hang.
Solution:   Let win_close() return FAIL and break out of the loop.
Files:	    src/window.c, src/proto/window.pro, src/buffer.c

Patch 7.4.005
Problem:    Using &quot;vaB&quot; while <A HREF="options.html#'virtualedit'">'virtualedit'</A> is set selects the wrong area.
	    (Dimitar Dimitrov)
Solution:   Reset coladd when finding a match.
Files:	    src/search.c

Patch 7.4.006
Problem:    mkdir(&quot;foo/bar/&quot;, &quot;<A HREF="change.html#p">p</A>&quot;) gives an error message. (David Barnett)
Solution:   Remove the trailing slash. (lcd)
Files:	    src/eval.c

Patch 7.4.007
Problem:    Creating a preview <A HREF="windows.html#window">window</A> on <A HREF="starting.html#startup">startup</A> leaves the screen layout in a
	    messed up state. (Marius Gedminas)
Solution:   Don't change firstwin. (Christian Brabandt)
Files:	    src/main.c

Patch 7.4.008
Problem:    New <A HREF="pattern.html#regexp">regexp</A> engine can't be interrupted.
Solution:   Check for <A HREF="pattern.html#CTRL-C">CTRL-C</A> pressed. (Yasuhiro Matsumoto)
Files:	    src/regexp_nfa.c, src/regexp.c

Patch 7.4.009
Problem:    When a file was not decrypted (yet), <A HREF="editing.html#writing">writing</A> <A HREF="motion.html#it">it</A> may destroy the
	    contents.
Solution:   <A HREF="motion.html#Mark">Mark</A> the file <A HREF="motion.html#as">as</A> readonly until decryption was done. (Christian
	    Brabandt)
Files:	    src/fileio.c

Patch 7.4.010 (after 7.4.006)
Problem:    Crash with invalid argument to <A HREF="eval.html#mkdir()">mkdir()</A>.
Solution:   Check for empty <A HREF="eval.html#string">string</A>. (lcd47)
Files:	    src/eval.c

Patch 7.4.011
Problem:    Cannot find out if &quot;acl&quot; and &quot;xpm&quot; features are supported.
Solution:   Add &quot;acl&quot; and &quot;xpm&quot; to the <A HREF="eval.html#list">list</A> of features. (Ken Takata)
Files:	    src/eval.c, src/version.c

Patch 7.4.012
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: resolving shortcut does not work properly with
	    <A HREF="mbyte.html#multi-byte">multi-byte</A> characters.
Solution:   Use wide system <A HREF="eval.html#functions">functions</A>. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.013
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: File name buffer too small for <A HREF="mbyte.html#utf-8">utf-8</A>.
Solution:   Use character <A HREF="intro.html#count">count</A> instead of byte <A HREF="intro.html#count">count</A>. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.014
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: check for <A HREF="editing.html#writing">writing</A> to device does not work.
Solution:   Fix #ifdefs. (Ken Takata)
Files:	    src/fileio.c

Patch 7.4.015
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Detecting node type does not work for <A HREF="mbyte.html#multi-byte">multi-byte</A>
	    characters.
Solution:   Use wide character function when needed. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.016
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: File name <A HREF="change.html#case">case</A> can be wrong.
Solution:   Add fname_casew(). (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.017
Problem:    &quot;<A HREF="helphelp.html#:help">:help</A> !!&quot; does not find the &quot;<A HREF="change.html#!!">!!</A>&quot; <A HREF="tagsrch.html#tag">tag</A> in the help file. (Ben
	    Fritz)
Solution:   When reading the start of the <A HREF="tagsrch.html#tags">tags</A> file <A HREF="diff.html#do">do</A> parse lines that are
	    not header lines.
Files:	    src/tag.c

Patch 7.4.018
Problem:    When completing item becomes unselected. (Shougo Matsu)
Solution:   Revert patch 7.3.1269.
Files:	    src/edit.c

Patch 7.4.019
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: File name completion doesn't work properly with
	    <A HREF="mbyte.html#Chinese">Chinese</A> characters. (Yue Wu)
Solution:   Take care of <A HREF="mbyte.html#multi-byte">multi-byte</A> characters when looking for the start of
	    the file name. (Ken Takata)
Files:	    src/edit.c

Patch 7.4.020
Problem:    <A HREF="pattern.html#NFA">NFA</A> engine matches too much with \@&gt;. (John McGowan)
Solution:   When a whole <A HREF="pattern.html#pattern">pattern</A> match is found stop searching.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.021
Problem:    <A HREF="pattern.html#NFA">NFA</A> <A HREF="pattern.html#regexp">regexp</A>: Using \ze in one branch which doesn't match may cause
	    end of another branch to be wrong. (William Fugh)
Solution:   Set end position if <A HREF="motion.html#it">it</A> wasn't set yet.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.022
Problem:    Deadlock while <A HREF="starting.html#exiting">exiting</A>, because of allocating memory.
Solution:   Do not use gettext() in deathtrap(). (James McCoy)
Files:	    src/os_unix.c, src/misc1.c

Patch 7.4.023
Problem:    Compiler warning on 64 bit <A HREF="windows.html#windows">windows</A>.
Solution:   Add type cast. (Mike Williams)
Files:	    src/edit.c

Patch 7.4.024
Problem:    When root edits a file the <A HREF="undo.html#undo">undo</A> file is owned by root while the
	    edited file may be owned by another user, which is not allowed.
	    (cac2s)
Solution:   Accept an <A HREF="undo.html#undo">undo</A> file owned by the current user.
Files:	    src/undo.c

Patch 7.4.025 (after 7.4.019)
Problem:    Reading before start of a <A HREF="eval.html#string">string</A>.
Solution:   Do not call mb_ptr_back() at start of a <A HREF="eval.html#string">string</A>. (Dominique Pelle)
Files:	    src/edit.c

Patch 7.4.026
Problem:    Clang warning for int <A HREF="intro.html#shift">shift</A> overflow.
Solution:   Use unsigned and cast back to int. (Dominique Pelle)
Files:	    src/misc2.c

Patch 7.4.027 (after 7.4.025)
Problem:    Another <A HREF="debug.html#valgrind">valgrind</A> error when using <A HREF="change.html#CTRL-X">CTRL-X</A> <A HREF="scroll.html#CTRL-F">CTRL-F</A> at the start of
	    the line. (Dominique Pelle)
Solution:   Don't call mb_ptr_back() at the start of the line.  Add a test.
Files:	    src/edit.c, src/testdir/test32.in

Patch 7.4.028
Problem:    Equivalence classes are not working for <A HREF="mbyte.html#multi-byte">multi-byte</A> characters.
Solution:   Copy the rules from the old to the new <A HREF="pattern.html#regexp">regexp</A> engine. Add a test
	    to check both engines.
Files:	    src/regexp_nfa.c, src/testdir/test44.in, src/testdir/test99.in,
	    src/testdir/test99.ok, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile

Patch 7.4.029
Problem:    An error in a <A HREF="pattern.html#pattern">pattern</A> is reported <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Remove the retry with the backtracking engine, <A HREF="motion.html#it">it</A> won't work.
Files:	    src/regexp.c

Patch 7.4.030
Problem:    The -mno-cygwin argument is no longer supported by Cygwin.
Solution:   Remove the arguments. (Steve Hall)
Files:	    src/GvimExt/Make_cyg.mak, src/Make_cyg.mak, src/xxd/Make_cyg.mak

Patch 7.4.031
Problem:    &quot;:diffoff!&quot; resets <A HREF="options.html#options">options</A> even when <A HREF="options.html#'diff'">'diff'</A> is not set. (Charles
	    Cooper)
Solution:   Only resets related <A HREF="options.html#options">options</A> in a <A HREF="windows.html#window">window</A> where <A HREF="options.html#'diff'">'diff'</A> is set.
Files:	    src/diff.c

Patch 7.4.032
Problem:    <A HREF="pattern.html#NFA">NFA</A> engine does not match the NUL character. (Jonathon Merz)
Solution:   Use 0x0a instead of NUL. (Christian Brabandt)
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.033
Problem:    When the <A HREF="terminal.html#terminal">terminal</A> has only 20 lines test 92 and 93 overwrite the
	    input file.
Solution:   Explicitly write test.out. Check that the <A HREF="terminal.html#terminal">terminal</A> is large enough
	    to run the tests.  (Hirohito Higashi)
Files:	    src/testdir/test92.in, src/testdir/test93.in,
	    src/testdir/test1.in, src/testdir/Makefile

Patch 7.4.034
Problem:    Using &quot;<A HREF="change.html#p">p</A>&quot; in <A HREF="visual.html#Visual">Visual</A> block mode only changes the first line.
Solution:   Repeat the put in all text in the block. (Christian Brabandt)
Files:	    runtime/doc/change.txt, src/ops.c, src/normal.c,
	    src/testdir/test20.in, src/testdir/test20.ok

Patch 7.4.035
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: The mouse pointer flickers when going from command
	    line mode to <A HREF="intro.html#Normal">Normal</A> mode.
Solution:   Check for WM_NCMOUSEMOVE. (Ken Takata)
Files:	    src/gui_w48.c

Patch 7.4.036
Problem:    <A HREF="pattern.html#NFA">NFA</A> engine does not capture group correctly when using \@&gt;. (ZyX)
Solution:   Copy submatches before doing the recursive match.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.037
Problem:    Using &quot;\ze&quot; in a sub-pattern does not result in the end of the
	    match to be set. (Axel Bender)
Solution:   Copy the end of match position when a recursive match was
	    successful.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.038
Problem:    Using &quot;<A HREF="spell.html#zw">zw</A>&quot; and &quot;<A HREF="spell.html#zg">zg</A>&quot; when <A HREF="options.html#'spell'">'spell'</A> is off give a confusing error
	    message. (Gary Johnson)
Solution:   Ignore the error when locating the <A HREF="motion.html#word">word</A>.  Explicitly mention what
	    <A HREF="motion.html#word">word</A> was added. (Christian Brabandt)
Files:	    src/normal.c, src/spell.c

Patch 7.4.039
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: MSVC10 and earlier can't handle symlinks to a
	    directory properly.
Solution:   Add stat_symlink_aware() and wstat_symlink_aware(). (Ken Takata)
Files:	    src/os_mswin.c, src/os_win32.c, src/os_win32.h

Patch 7.4.040
Problem:    Valgrind error on exit when a <A HREF="map.html#script-local">script-local</A> variable holds a
	    reference to the scope of another <A HREF="usr_41.html#script">script</A>.
Solution:   First clear all <A HREF="eval.html#variables">variables</A>, then free the scopes. (ZyX)
Files:	    src/eval.c

Patch 7.4.041 (after 7.4.034)
Problem:    <A HREF="visual.html#Visual">Visual</A> selection does not remain after being copied over. (Axel
	    Bender)
Solution:   Move when VIsual_active is reset. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.042
Problem:    When using &quot;<A HREF="options.html#:setlocal">:setlocal</A>&quot; for <A HREF="options.html#'spell'">'spell'</A> and <A HREF="options.html#'spelllang'">'spelllang'</A> then <A HREF="spell.html#:spelldump">:spelldump</A>
	    doesn't work. (Dimitar Dimitrov)
Solution:   Copy the option <A HREF="eval.html#variables">variables</A> to the new <A HREF="windows.html#window">window</A> used to show the dump.
	    (Christian Brabandt)
Files:	    src/spell.c

Patch 7.4.043
Problem:    <A HREF="os_vms.html#VMS">VMS</A> can't handle long function names.
Solution:   Shorten may_req_ambiguous_character_width. (Samuel Ferencik)
Files:	    src/main.c, src/term.c, src/proto/term.pro


Patch 7.4.044 (after 7.4.039)
Problem:    Can't build with old MSVC. (Wang Shoulin)
Solution:   Define OPEN_OH_ARGTYPE instead of using intptr_t directly.
Files:	    src/os_mswin.c

Patch 7.4.045
Problem:    <A HREF="eval.html#substitute()">substitute()</A> does not work properly when the <A HREF="pattern.html#pattern">pattern</A> starts with
	    &quot;\ze&quot;.
Solution:   Detect an empty match. (Christian Brabandt)
Files:	    src/eval.c, src/testdir/test80.in, src/testdir/test80.ok

Patch 7.4.046
Problem:    Can't use <A HREF="if_tcl.html#Tcl">Tcl</A> 8.6.
Solution:   Change how Tcl_FindExecutable is called. (Jan Nijtmans)
Files:	    src/if_tcl.c

Patch 7.4.047
Problem:    When using <A HREF="eval.html#input()">input()</A> in a function invoked by a <A HREF="map.html#mapping">mapping</A> <A HREF="motion.html#it">it</A> doesn't
	    work.
Solution:   Temporarily reset ex_normal_busy. (Yasuhiro Matsumoto)
Files:	    src/eval.c

Patch 7.4.048
Problem:    Recent clang version complains about -fno-strength-reduce.
Solution:   Add a configure check for the clang version. (Kazunobu Kuriyama)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.049
Problem:    In <A HREF="intro.html#Ex">Ex</A> mode, when line numbers are enabled the substitute prompt is
	    wrong.
Solution:   Adjust for the line number size. (Benoit Pierre)
Files:	    src/ex_cmds.c

Patch 7.4.050
Problem:    &quot;<A HREF="visual.html#gn">gn</A>&quot; selects too much for the <A HREF="pattern.html#pattern">pattern</A> &quot;\d&quot; when there are two
	    lines with a single digit. (Ryan Carney)
Solution:   Adjust the logic of is_one_char(). (Christian Brabandt)
Files:	    src/search.c, src/testdir/test53.in, src/testdir/test53.ok

Patch 7.4.051
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> highlighting a Yaml file causes a crash. (Blake Preston)
Solution:   Copy the pim structure before calling addstate() to avoid <A HREF="motion.html#it">it</A>
	    becoming invalid when the state <A HREF="eval.html#list">list</A> is reallocated.
Files:	    src/regexp_nfa.c

Patch 7.4.052
Problem:    With <A HREF="options.html#'fo'">'fo'</A> set to &quot;a2&quot; <A HREF="insert.html#inserting">inserting</A> a space in the first column may
	    cause the cursor to jump to the previous line.
Solution:   Handle the <A HREF="change.html#case">case</A> when there is no comment leader properly. (Tor
	    Perkins)  Also fix that cursor is in the wrong place when spaces
	    get replaced with a <A HREF="intro.html#Tab">Tab</A>.
Files:	    src/misc1.c, src/ops.c, src/testdir/test68.in,
	    src/testdir/test68.ok

Patch 7.4.053
Problem:    Test75 has a wrong header. (ZyX)
Solution:   Fix the text and remove leading &quot;.
Files:	    src/testdir/test75.in

Patch 7.4.054
Problem:    Reading past end of the <A HREF="options.html#'stl'">'stl'</A> <A HREF="eval.html#string">string</A>.
Solution:   Don't increment pointer when already at the NUL. (Christian
	    Brabandt)
Files:	    src/buffer.c

Patch 7.4.055
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: Where availability macros are defined depends on the system.
Solution:   Add a configure check. (Felix Bnemann)
Files:	    src/config.h.in, src/configure.in, src/auto/configure,
	    src/os_mac.h

Patch 7.4.056
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: Compilation problem with OS X <A HREF="usr_10.html#10.9">10.9</A> Mavericks.
Solution:   Include AvailabilityMacros.h when available. (Kazunobu Kuriyama)
Files:	    src/os_unix.c

Patch 7.4.057
Problem:    <A HREF="eval.html#byteidx()">byteidx()</A> does not work for composing characters.
Solution:   Add <A HREF="eval.html#byteidxcomp()">byteidxcomp()</A>.
Files:	    src/eval.c, src/testdir/test69.in, src/testdir/test69.ok,
	    runtime/doc/eval.txt

Patch 7.4.058
Problem:    Warnings on 64 bit Windows.
Solution:   Add type casts. (Mike Williams)
Files:	    src/ops.c

Patch 7.4.059
Problem:    set_last_cursor() may encounter w_buffer being NULL.  (Matt
	    Mkaniaris)
Solution:   Check for NULL.
Files:	    src/mark.c

Patch 7.4.060
Problem:    Declaration has wrong return type for PyObject_SetAttrString().
Solution:   Use int instead of PyObject. (Andreas Schwab)
Files:	    src/if_python.c, src/if_python3.c

Patch 7.4.061 (after 7.4.055 and 7.4.056)
Problem:    Availability macros configure check in wrong place.
Solution:   Also check when not using Darwin. Remove version check.
Files:	    src/configure.in, src/auto/configure, src/os_unix.c

Patch 7.4.062 (after 7.4.061)
Problem:    Configure check for AvailabilityMacros.h is wrong.
Solution:   Use AC_CHECK_HEADERS().
Files:	    src/configure.in, src/auto/configure

Patch 7.4.063
Problem:    Crash when using invalid key in <A HREF="if_pyth.html#Python">Python</A> dictionary.
Solution:   Check for object to be NULL.  Add tests. (ZyX)
Files:	    src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.064
Problem:    When <A HREF="change.html#replacing">replacing</A> a character in <A HREF="visual.html#Visual">Visual</A> block mode, entering a CR
	    does not cause a repeated line break.
Solution:   Recognize the situation and repeat the line break. (Christian
	    Brabandt)
Files:	    src/normal.c, src/ops.c, src/testdir/test39.in,
	    src/testdir/test39.ok

Patch 7.4.065
Problem:    When <A HREF="repeat.html#recording">recording</A>, the character typed at the <A HREF="message.html#hit-enter">hit-enter</A> prompt is
	    recorded <A HREF="if_cscop.html#twice">twice</A>. (Urtica Dioica)
Solution:   Avoid <A HREF="repeat.html#recording">recording</A> the character <A HREF="if_cscop.html#twice">twice</A>. (Christian Brabandt)
Files:	    src/message.c

Patch 7.4.066
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: When there is a colon in the file name (sub-stream
	    feature) the swap file name is wrong.
Solution:   Change the colon to &quot;<A HREF="motion.html#&#37;">&#37;</A>&quot;. (Yasuhiro Matsumoto)
Files:	    src/fileio.c, src/memline.c, src/misc1.c, src/proto/misc1.pro

Patch 7.4.067
Problem:    After <A HREF="insert.html#inserting">inserting</A> comment leader, CTRL-\ <A HREF="motion.html#CTRL-O">CTRL-O</A> does move the
	    cursor. (Wiktor Ruben)
Solution:   Avoid moving the cursor. (Christian Brabandt)
Files:	    src/edit.c

Patch 7.4.068
Problem:    Cannot build Vim on <A HREF="os_mac.html#Mac">Mac</A> with non-Apple compilers.
Solution:   Remove the -no-cpp-precomp flag. (Misty De Meo)
Files:	    src/configure.in, src/auto/configure, src/osdef.sh

Patch 7.4.069
Problem:    Cannot right <A HREF="intro.html#shift">shift</A> lines starting with #.
Solution:   Allow the right <A HREF="intro.html#shift">shift</A> when <A HREF="options.html#'cino'">'cino'</A> contains #N with N <A HREF="change.html#&gt;">&gt;</A> 0.
	    (Christian Brabandt)
	    Refactor parsing <A HREF="options.html#'cino'">'cino'</A>, store the values in the buffer.
Files:	    runtime/doc/indent.txt, src/buffer.c, src/edit.c, src/eval.c,
	    src/ex_getln.c, src/fold.c, src/misc1.c, src/ops.c,
	    src/proto/misc1.pro, src/proto/option.pro, src/structs.h,
	    src/option.c

Patch 7.4.070 (after 7.4.069)
Problem:    Can't compile with tiny features. (Tony Mechelynck)
Solution:   Add #ifdef.
Files:	    src/buffer.c

Patch 7.4.071 (after 7.4.069)
Problem:    Passing <A HREF="vi_diff.html#limits">limits</A> around too often.
Solution:   Use <A HREF="vi_diff.html#limits">limits</A> from buffer.
Files:	    src/edit.c, src/misc1.c, src/proto/misc1.pro

Patch 7.4.072
Problem:    Crash when using <A HREF="insert.html#Insert">Insert</A> mode completion.
Solution:   Avoid going past the end of pum_array. (idea by Francisco Lopes)
Files:	    src/popupmnu.c

Patch 7.4.073
Problem:    Setting undolevels for one buffer changes <A HREF="undo.html#undo">undo</A> in another.
Solution:   Make <A HREF="options.html#'undolevels'">'undolevels'</A> a <A HREF="options.html#global-local">global-local</A> option. (Christian Brabandt)
Files:	    runtime/doc/options.txt, src/buffer.c, src/option.c, src/option.h
	    src/structs.h, src/undo.c

Patch 7.4.074
Problem:    When undo'ing all changes and creating a new change the <A HREF="undo.html#undo">undo</A>
	    structure is incorrect. (Christian Brabandt)
Solution:   When <A HREF="change.html#deleting">deleting</A> the branch starting at the old header, delete the
	    whole branch, not just the first entry.
Files:	    src/undo.c

Patch 7.4.075
Problem:    Locally setting <A HREF="options.html#'undolevels'">'undolevels'</A> is not tested.
Solution:   Add a test. (Christian Brabandt)
Files:	    src/testdir/test100.in, src/testdir/test100.ok,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile, src/Makefile

Patch 7.4.076
Problem:    &quot;cgn&quot; does not wrap around the end of the file. (Dimitar Dimitrov)
Solution:   Restore <A HREF="options.html#'wrapscan'">'wrapscan'</A> earlier. (Christian Brabandt)
Files:	    src/search.c

Patch 7.4.077
Problem:    <A HREF="os_dos.html#DOS">DOS</A> installer creates shortcut without a path, resulting in the
	    current directory to be C:\Windows\system32.
Solution:   Use environment <A HREF="eval.html#variables">variables</A>.
Files:	    src/dosinst.c

Patch 7.4.078
Problem:    MSVC 2013 is not supported.
Solution:   Recognize and support MSVC 2013. (Ed Brown)
Files:	    src/Make_mvc.mak

Patch 7.4.079
Problem:    A <A HREF="usr_41.html#script">script</A> cannot detect whether <A HREF="options.html#'hlsearch'">'hlsearch'</A> highlighting is actually
	    displayed.
Solution:   Add the &quot;<A HREF="eval.html#v:hlsearch">v:hlsearch</A>&quot; variable. (ZyX)
Files:	    src/eval.c, src/ex_docmd.c,
	    src/option.c, src/screen.c, src/search.c, src/tag.c, src/vim.h,
	    src/testdir/test101.in, src/testdir/test101.ok, 
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.080 (after 7.4.079)
Problem:    Missing documentation for <A HREF="eval.html#v:hlsearch">v:hlsearch</A>.
Solution:   Include the right file in the patch.
Files:	    runtime/doc/eval.txt

Patch 7.4.081 (after 7.4.078)
Problem:    Wrong logic when ANALYZE is &quot;yes&quot;.
Solution:   Use or instead of and. (KF Leong)
Files:	    src/Make_mvc.mak

Patch 7.4.082
Problem:    Using &quot;<A HREF="editing.html#gf">gf</A>&quot; in a changed buffer suggests adding &quot;<A HREF="change.html#!">!</A>&quot;, which is not
	    possible. (Tim Chase)
Solution:   Pass a flag to check_changed() whether adding ! make sense.
Files:	    src/vim.h, src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/globals.h,
	    src/ex_cmds.c, src/ex_docmd.c

Patch 7.4.083
Problem:    It's hard to avoid adding a used <A HREF="pattern.html#pattern">pattern</A> to the search <A HREF="cmdline.html#history">history</A>.
Solution:   Add the &quot;<A HREF="cmdline.html#:keeppatterns">:keeppatterns</A>&quot; modifier. (Christian Brabandt)
Files:	    runtime/doc/cmdline.txt, src/ex_cmds.h, src/ex_docmd.c,
	    src/ex_getln.c, src/structs.h

Patch 7.4.084
Problem:    <A HREF="if_pyth.html#Python">Python</A>: interrupt not being properly discarded. (Yggdroot Chen)
Solution:   Discard interrupt in VimTryEnd. (ZyX)
Files:	    src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.085
Problem:    When <A HREF="insert.html#inserting">inserting</A> text in <A HREF="visual.html#Visual">Visual</A> block mode and moving the cursor the
	    wrong text gets repeated in other lines.
Solution:   Use the <A HREF="motion.html#'[">'[</A> <A HREF="motion.html#mark">mark</A> to find the start of the actually inserted text.
	    (Christian Brabandt)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.086
Problem:    Skipping over an <A HREF="eval.html#expression">expression</A> when not evaluating <A HREF="motion.html#it">it</A> does not work
	    properly for <A HREF="eval.html#dict">dict</A> members.
Solution:   Skip over unrecognized <A HREF="eval.html#expression">expression</A>. (ZyX)
Files:	    src/eval.c, src/testdir/test34.in, src/testdir/test34.ok

Patch 7.4.087
Problem:    Compiler warning on 64 bit Windows systems.
Solution:   Fix type cast. (Mike Williams)
Files:	    src/ops.c

Patch 7.4.088
Problem:    When <A HREF="spell.html#spell">spell</A> checking is enabled Asian characters are always marked
	    <A HREF="motion.html#as">as</A> error.
Solution:   When <A HREF="options.html#'spelllang'">'spelllang'</A> contains &quot;cjk&quot; <A HREF="diff.html#do">do</A> not <A HREF="motion.html#mark">mark</A> Asian characters <A HREF="motion.html#as">as</A>
	    error. (Ken Takata)
Files:	    runtime/doc/options.txt, runtime/doc/spell.txt, src/mbyte.c,
	    src/option.c, src/spell.c, src/structs.h

Patch 7.4.089
Problem:    When editing a file in a directory mounted through sshfs Vim
	    doesn't set the security context on a renamed file.
Solution:   Add mch_copy_sec() to vim_rename(). (Peter Backes)
Files:	    src/fileio.c

Patch 7.4.090
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: When a directory name contains an exclamation <A HREF="motion.html#mark">mark</A>,
	    completion doesn't complete the contents of the directory.
Solution:   Escape the exclamation <A HREF="motion.html#mark">mark</A>. (Jan Stocker)
Files:	    src/ex_getln.c, src/testdir/test102.in, src/testdir/test102.ok,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.091 (after 7.4.089)
Problem:    Missing semicolon.
Solution:   Add the semicolon.
Files:	    src/fileio.c

Patch 7.4.092 (after 7.4.088)
Problem:    Can't build small version.
Solution:   Add #ifdef where the b_cjk flag is used. (Ken Takata)
Files:	    src/spell.c

Patch 7.4.093
Problem:    Configure can't use LuaJIT on ubuntu 12.04.
Solution:   Adjust the configure <A HREF="pattern.html#regexp">regexp</A> that locates the version number.
	    (Charles Strahan)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.094
Problem:    Configure may not find that -lint is needed for gettext().
Solution:   Check for gettext() with empty $LIBS.  (Thomas De Schampheleire)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.095 (after 7.4.093)
Problem:    Regexp for LuaJIT version doesn't work on BSD.
Solution:   Use &quot;*&quot; instead of &quot;\+&quot; and &quot;\?&quot;. (Ozaki Kiichi)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.096
Problem:    Can't change directory to an UNC path.
Solution:   Use win32_getattrs() in mch_getperm(). (Christian Brabandt)
Files:	    src/os_win32.c

Patch 7.4.097 (after 7.4.034)
Problem:    Unexpected behavior change related to <A HREF="options.html#'virtualedit'">'virtualedit'</A>. (Ingo Karkat)
Solution:   Update the valid cursor position. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.098
Problem:    When using &quot;:'&lt;,'&gt;del&quot; <A HREF="message.html#errors">errors</A> may be given for the visual line
	    numbers being out of range.
Solution:   Reset <A HREF="visual.html#Visual">Visual</A> mode in &quot;<A HREF="change.html#:del">:del</A>&quot;. (Lech Lorens)
Files:	    src/ex_docmd.c, src/testdir/test103.in, src/testdir/test103.ok,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.099
Problem:    Append in blockwise <A HREF="visual.html#Visual">Visual</A> mode with &quot;<A HREF="motion.html#$">$</A>&quot; is wrong.
Solution:   After &quot;<A HREF="motion.html#$">$</A>&quot; don't use the code that checks if the cursor was moved.
	    (Hirohito Higashi, Ken Takata)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.100
Problem:    <A HREF="pattern.html#NFA">NFA</A> <A HREF="pattern.html#regexp">regexp</A> doesn't handle backreference correctly. (Ryuichi
	    Hayashida, Urtica Dioica)
Solution:   Always add NFA_SKIP, also when <A HREF="motion.html#it">it</A> already exists at the start
	    position.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.101
Problem:    Using \1 in <A HREF="pattern.html#pattern">pattern</A> goes one line too far. (Bohr Shaw, John Little)
Solution:   Only advance the match end for the matched characters in the last
	    line.
Files:	    src/regexp.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.102
Problem:    Crash when interrupting &quot;<A HREF="spell.html#z=">z=</A>&quot;.
Solution:   Add safety check for <A HREF="motion.html#word">word</A> length. (Christian Brabandt, Dominique
	    Pelle)
Files:	    src/spell.c

Patch 7.4.103
Problem:    Dos installer uses an old way to <A HREF="intro.html#escape">escape</A> spaces in the <A HREF="diff.html#diff">diff</A>
	    command.
Solution:   Adjust the quoting to the new default shellxquote. (Ben Fritz)
Files:	    src/dosinst.c

Patch 7.4.104
Problem:    &quot;<A HREF="helphelp.html#:help">:help</A> s/\_&quot; reports an internal error. (John Beckett)
Solution:   Check for NUL and invalid character classes.
Files:	    src/regexp_nfa.c

Patch 7.4.105
Problem:    Completing a <A HREF="tagsrch.html#tag">tag</A> <A HREF="pattern.html#pattern">pattern</A> may give an error for invalid <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Suppress the error, just return no matches.
Files:	    src/tag.c

Patch 7.4.106
Problem:    Can't build with <A HREF="if_ruby.html#Ruby">Ruby</A> using Cygwin.
Solution:   Fix library name in makefile. (Steve Hall)
Files:	    src/Make_cyg.mak

Patch 7.4.107
Problem:    <A HREF="if_pyth.html#Python">Python</A>: When vim.eval() encounters a Vim error, a try/catch in the
	    <A HREF="if_pyth.html#Python">Python</A> code doesn't catch <A HREF="motion.html#it">it</A>. (Yggdroot Chen)
Solution:   Throw exceptions on <A HREF="message.html#errors">errors</A> in vim.eval(). (ZyX)
Files:	    src/ex_eval.c, src/if_py_both.h, src/proto/ex_eval.pro,
	    src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.108
Problem:    &quot;<A HREF="spell.html#zG">zG</A>&quot; and &quot;<A HREF="spell.html#zW">zW</A>&quot; leave temp files around on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Delete the temp files when <A HREF="starting.html#exiting">exiting</A>. (Ken Takata)
Files:	    src/memline.c, src/proto/spell.pro, src/spell.c

Patch 7.4.109
Problem:    <A HREF="autocmd.html#ColorScheme">ColorScheme</A> <A HREF="autocmd.html#autocommand">autocommand</A> matches with the current buffer name.
Solution:   Match with the colorscheme name. (Christian Brabandt)
Files:	    runtime/doc/autocmd.txt, src/fileio.c, src/syntax.c

Patch 7.4.110
Problem:    &quot;gUgn&quot; cannot be repeated. (Dimitar Dimitrov)
Solution:   Don't put &quot;<A HREF="visual.html#gn">gn</A>&quot; in a different order in the <A HREF="undo.html#redo">redo</A> buffer.  Restore
	    <A HREF="options.html#'wrapscan'">'wrapscan'</A> when the <A HREF="pattern.html#pattern">pattern</A> isn't found. (Christian Wellenbrock)
Files:	    src/normal.c, src/search.c, src/test53.in, src/test53.ok

Patch 7.4.111
Problem:    Memory leak in <A HREF="if_pyth.html#Python">Python</A> OptionsAssItem. (Ken Takata)
Solution:   Call Py_XDECREF() where needed. (ZyX)
Files:	    src/if_py_both.h

Patch 7.4.112
Problem:    The defaults for <A HREF="options.html#'directory'">'directory'</A> and <A HREF="options.html#'backupdir'">'backupdir'</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="diff.html#do">do</A> not
	    include a directory that exists.
Solution:   Use $TEMP.
Files:	    src/os_dos.h

Patch 7.4.113
Problem:    MSVC static analysis gives warnings.
Solution:   Avoid the warnings and avoid possible bugs. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.114
Problem:    New GNU make outputs <A HREF="message.html#messages">messages</A> about <A HREF="change.html#changing">changing</A> directory in another
	    format.
Solution:   Recognize the new format.
Files:	    src/option.h

Patch 7.4.115
Problem:    When using Zsh expanding ~abc doesn't work when the result
	    contains a space.
Solution:   Off-by-one error in detecting the NUL. (Pavol Juhas)
Files:	    src/os_unix.c

Patch 7.4.116
Problem:    When a <A HREF="map.html#mapping">mapping</A> starts with a space, the typed space does not show
	    up for <A HREF="options.html#'showcmd'">'showcmd'</A>.
Solution:   Show &quot;&lt;20&gt;&quot;. (Brook Hong)
Files:	    src/normal.c

Patch 7.4.117
Problem:    Can't build with Cygwin/MingW and <A HREF="if_perl.html#Perl">Perl</A> 5.18.
Solution:   Add a linker argument for the <A HREF="if_perl.html#Perl">Perl</A> library. (Cesar Romani)
	    Adjust CFLAGS and LIB. (Cesar Romani)
	    Move including inline.h further down. (Ken Takata)
Files:	    src/Make_cyg.mak, src/Make_ming.mak, src/if_perl.xs

Patch 7.4.118
Problem:    It's possible that redrawing the status lines causes
	    win_redr_custom() to be called recursively.
Solution:   Protect against recursiveness. (Yasuhiro Matsumoto)
Files:	    src/screen.c

Patch 7.4.119
Problem:    Vim doesn't work well on OpenVMS.
Solution:   Fix various problems. (Samuel Ferencik)
Files:	    src/os_unix.c, src/os_unix.h, src/os_vms.c

Patch 7.4.120 (after 7.4.117)
Problem:    Can't build with <A HREF="if_perl.html#Perl">Perl</A> 5.18 on Linux. (Lcd 47)
Solution:   Add #ifdef. (Ken Takata)
Files:	    src/if_perl.xs

Patch 7.4.121
Problem:    Completion doesn't work for &quot;:py3d&quot; and &quot;:py3f&quot;. (Bohr Shaw)
Solution:   Skip over letters after &quot;<A HREF="if_pyth.html#:py3">:py3</A>&quot;.
Files:	    src/ex_docmd.c

Patch 7.4.122
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: When <A HREF="options.html#'encoding'">'encoding'</A> is set to &quot;<A HREF="mbyte.html#utf-8">utf-8</A>&quot; and the active codepage
	    is cp932 then &quot;<A HREF="quickfix.html#:grep">:grep</A>&quot; and other commands don't work for <A HREF="mbyte.html#multi-byte">multi-byte</A>
	    characters.
Solution:   (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.123
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: Getting user name does not use wide function.
Solution:   Use GetUserNameW() if possible. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.124
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: Getting host name does not use wide function.
Solution:   Use GetComputerNameW() if possible. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.125
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: Dealing with <A HREF="message.html#messages">messages</A> may not work for <A HREF="mbyte.html#multi-byte">multi-byte</A> chars.
Solution:   Use pDispatchMessage(). (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.126
Problem:    Compiler warnings for &quot;const&quot; and incompatible types.
Solution:   Remove &quot;const&quot;, add type cast. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.127
Problem:    <A HREF="if_perl.html#Perl">Perl</A> 5.18 on <A HREF="os_unix.html#Unix">Unix</A> doesn't work.
Solution:   Move workaround to after including vim.h. (Ken Takata)
Files:	    src/if_perl.xs

Patch 7.4.128
Problem:    <A HREF="if_perl.html#Perl">Perl</A> 5.18 for MSVC doesn't work.
Solution:   Add check in makefile and define __inline. (Ken Takata)
Files:	    src/Make_mvc.mak, src/if_perl.xs

Patch 7.4.129
Problem:    getline(-1) returns zero. (mvxxc)
Solution:   Return an empty <A HREF="eval.html#string">string</A>.
Files:	    src/eval.c

Patch 7.4.130
Problem:    Relative line numbers mix up <A HREF="windows.html#windows">windows</A> when using <A HREF="fold.html#folds">folds</A>.
Solution:   Use hasFoldingWin() instead of hasFolding(). (Lech Lorens)
Files:	    src/misc2.c

Patch 7.4.131
Problem:    Syncbind causes <A HREF="message.html#E315">E315</A> <A HREF="message.html#errors">errors</A> in some situations. (Liang Li)
Solution:   Set and restore curbuf in ex_syncbind(). (Christian Brabandt)
Files:	    src/ex_docmd.c, src/testdir/test37.ok

Patch 7.4.132 (after 7.4.122)
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: flags and inherit_handles arguments mixed up.
Solution:   Swap the argument. (cs86661)
Files:	    src/os_win32.c

Patch 7.4.133
Problem:    Clang warns for using NUL.
Solution:   Change NUL to NULL. (Dominique Pelle)
Files:	    src/eval.c, src/misc2.c

Patch 7.4.134
Problem:    Spurious space in MingW Makefile.
Solution:   Remove the space. (Michael Soyka)
Files:	    src/Make_ming.mak

Patch 7.4.135
Problem:    Missing dot in MingW test Makefile.
Solution:   Add the dot. (Michael Soyka)
Files:	    src/testdir/Make_ming.mak

Patch 7.4.136 (after 7.4.096)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: When saving a file with a UNC path the file becomes
	    read-only.
Solution:   Don't mix up <A HREF="os_win32.html#Win32">Win32</A> attributes and <A HREF="os_unix.html#Unix">Unix</A> attributes. (Ken Takata)
Files:	    src/os_mswin.c, src/os_win32.c

Patch 7.4.137
Problem:    Cannot use <A HREF="mbyte.html#IME">IME</A> with Windows 8 console.
Solution:   Change the user of ReadConsoleInput() and PeekConsoleInput().
	    (Nobuhiro Takasaki)
Files:	    src/os_win32.c

Patch 7.4.138 (after 7.4.114)
Problem:    Directory change <A HREF="message.html#messages">messages</A> are not recognized.
Solution:   Fix using a character range literally. (Lech Lorens)
Files:	    src/option.h

Patch 7.4.139
Problem:    Crash when using <A HREF="editing.html#:cd">:cd</A> in <A HREF="autocmd.html#autocommand">autocommand</A>. (Franois Ingelrest)
Solution:   Set w_localdir to NULL after freeing <A HREF="motion.html#it">it</A>. (Dominique Pelle)
Files:	    src/ex_docmd.c, src/window.c

Patch 7.4.140
Problem:    Crash when wiping out buffer triggers <A HREF="autocmd.html#autocommand">autocommand</A> that wipes out
	    only other buffer.
Solution:   Do not delete the last buffer, make <A HREF="motion.html#it">it</A> empty. (Hirohito Higashi)
Files:	    src/buffer.c

Patch 7.4.141
Problem:    Problems when building with Borland: st_mode is signed short;
	    can't build with <A HREF="if_pyth.html#Python">Python</A>; temp files not ignored by Mercurial;
	    building with DEBUG doesn't define _DEBUG.
Solution:   Fix the problems. (Ken Takata)
Files:	    src/Make_bc5.mak, src/if_py_both.h, src/os_win32.c

Patch 7.4.142 (after 7.4.137)
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> 8 <A HREF="mbyte.html#IME">IME</A> input doesn't work correctly.
Solution:   Work around the problem. (Nobuhiro Takasaki)
Files:	    src/os_win32.c

Patch 7.4.143
Problem:    <A HREF="autocmd.html#TextChangedI">TextChangedI</A> is not triggered.
Solution:   Reverse check for &quot;ready&quot;. (lilydjwg)
Files:	    src/edit.c

Patch 7.4.144
Problem:    MingW also supports intptr_t for OPEN_OH_ARGTYPE.
Solution:   Adjust #ifdef. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.145
Problem:    <A HREF="eval.html#getregtype()">getregtype()</A> does not return zero for unknown <A HREF="sponsor.html#register">register</A>.
Solution:   Adjust documentation: return empty <A HREF="eval.html#string">string</A> for unknown <A HREF="sponsor.html#register">register</A>.
	    Check the <A HREF="sponsor.html#register">register</A> name to be valid. (Yukihiro Nakadaira)
Files:	    runtime/doc/eval.txt, src/ops.c

Patch 7.4.146
Problem:    When starting Vim with &quot;<A HREF="starting.html#-u">-u</A> NONE&quot; <A HREF="eval.html#v:oldfiles">v:oldfiles</A> is NULL.
Solution:   Set <A HREF="eval.html#v:oldfiles">v:oldfiles</A> to an empty <A HREF="eval.html#list">list</A>. (Yasuhiro Matsumoto)
Files:	    src/main.c

Patch 7.4.147
Problem:    Cursor moves to wrong position when using &quot;<A HREF="motion.html#gj">gj</A>&quot; after &quot;<A HREF="motion.html#$">$</A>&quot; and
	    virtual editing is active.
Solution:   Make &quot;<A HREF="motion.html#gj">gj</A>&quot; behave differently when virtual editing is active.
	    (Hirohito Higashi)
Files:	    src/normal.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.148
Problem:    Cannot build with Cygwin and <A HREF="options.html#X11">X11</A>.
Solution:   Include Xwindows.h instead of windows.h. (Lech Lorens)
Files:	    src/mbyte.c

Patch 7.4.149
Problem:    Get <A HREF="message.html#E685">E685</A> error when assigning a function to an <A HREF="eval.html#autoload">autoload</A> variable.
	    (Yukihiro Nakadaira)
Solution:   Instead of having a global no_autoload variable, pass an <A HREF="eval.html#autoload">autoload</A>
	    flag down to where <A HREF="motion.html#it">it</A> is used. (ZyX)
Files:	    src/eval.c, src/testdir/test55.in, src/testdir/test55.ok,
	    src/testdir/test60.in, src/testdir/test60.ok,
	    src/testdir/sautest/autoload/footest.vim

Patch 7.4.150
Problem:    <A HREF="cmdline.html#:keeppatterns">:keeppatterns</A> is not respected for <A HREF="change.html#:s">:s</A>.
Solution:   Check the keeppatterns flag. (Yasuhiro Matsumoto)
Files:	    src/search.c, src/testdir/test14.in, src/testdir/test14.ok

Patch 7.4.151
Problem:    <A HREF="if_pyth.html#Python">Python</A>: slices with steps are not supported.
Solution:   Support slices in <A HREF="if_pyth.html#Python">Python</A> vim.List. (ZyX)
Files:	    src/eval.c, src/if_py_both.h, src/if_python3.c, src/if_python.c,
	    src/proto/eval.pro, src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.152
Problem:    <A HREF="if_pyth.html#Python">Python</A>: Cannot iterate over <A HREF="options.html#options">options</A>.
Solution:   Add <A HREF="options.html#options">options</A> iterator. (ZyX)
Files:	    src/if_py_both.h, src/option.c, src/proto/option.pro,
	    src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok, src/vim.h

Patch 7.4.153
Problem:    Compiler warning for pointer type.
Solution:   Add type cast.
Files:	    src/if_py_both.h, src/if_python.c, src/if_python3.c

Patch 7.4.154 (after 7.4.149)
Problem:    Still a problem with auto-loading.
Solution:   Pass no_autoload to deref_func_name(). (Yukihiro Nakadaira)
Files:	    src/eval.c

Patch 7.4.155
Problem:    &quot;<A HREF="cmdline.html#:keeppatterns">:keeppatterns</A> /pat&quot; does not keep search <A HREF="pattern.html#pattern">pattern</A> offset.
Solution:   Restore the offset after doing the search.
Files:	    src/search.c, src/testdir/test14.in, src/testdir/test14.ok

Patch 7.4.156
Problem:    Test file missing from <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add new directory to file <A HREF="eval.html#list">list</A>.
Files:	    Filelist

Patch 7.4.157
Problem:    Error number used <A HREF="if_cscop.html#twice">twice</A>. (Yukihiro Nakadaira)
Solution:   Change the one not referred in the docs.
Files:	    src/undo.c

Patch 7.4.158 (after 7.4.045)
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> containing \zs is not handled correctly by <A HREF="eval.html#substitute()">substitute()</A>.
Solution:   Change how an empty match is skipped. (Yukihiro Nakadaira)
Files:	    src/eval.c, src/testdir/test80.in, src/testdir/test80.ok

Patch 7.4.159
Problem:    Completion hangs when scanning the current buffer after doing
	    keywords. (Christian Brabandt)
Solution:   Set the first match position when starting to scan the current
	    buffer.
Files:	    src/edit.c

Patch 7.4.160
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: Crash when executing external command.
Solution:   Only close the handle when <A HREF="motion.html#it">it</A> was created. (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.161
Problem:    Crash in <A HREF="if_pyth.html#Python">Python</A> exception handling.
Solution:   Only use exception <A HREF="eval.html#variables">variables</A> if did_throw is set. (ZyX)
Files:	    src/if_py_both.h

Patch 7.4.162
Problem:    Running tests in shadow dir doesn't work.
Solution:   Add testdir/sautest to the shadow target. (James McCoy)
Files:	    src/Makefile

Patch 7.4.163 (after 7.4.142)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> input doesn't work properly on Windows 7 and earlier.
Solution:   Add a check for Windows 8. (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.164 (after 7.4.163)
Problem:    Problem with event handling on Windows 8.
Solution:   Ignore duplicate WINDOW_BUFFER_SIZE_EVENTs. (Nobuhiro Takasaki)
Files:	    src/os_win32.c

Patch 7.4.165
Problem:    By default, after closing a buffer changes can't be undone.
Solution:   In the example <A HREF="starting.html#vimrc">vimrc</A> file set <A HREF="options.html#'undofile'">'undofile'</A>.
Files:	    runtime/vimrc_example.vim

Patch 7.4.166
Problem:    Auto-loading a function for code that won't be executed.
Solution:   Do not auto-load when evaluation is off. (Yasuhiro Matsumoto)
Files:	    src/eval.c

Patch 7.4.167 (after 7.4.149)
Problem:    Fixes are not tested.
Solution:   Add a test for not autoloading on assignment. (Yukihiro Nakadaira)
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/sautest/autoload/Test104.vim, src/testdir/test104.in,
	    src/testdir/test104.ok

Patch 7.4.168
Problem:    Can't compile with <A HREF="if_ruby.html#Ruby">Ruby</A> 2.1.0.
Solution:   Add support for new GC. (Kohei Suzuki)
Files:	    src/if_ruby.c

Patch 7.4.169
Problem:    &quot;<A HREF="various.html#:sleep">:sleep</A>&quot; puts cursor in the wrong column. (Liang Li)
Solution:   Add the <A HREF="windows.html#window">window</A> offset. (Christian Brabandt)
Files:	    src/ex_docmd.c

Patch 7.4.170
Problem:    Some help <A HREF="tagsrch.html#tags">tags</A> don't work with &quot;<A HREF="helphelp.html#:help">:help</A>&quot;. (Tim Chase)
Solution:   Add exceptions.
Files:	    src/ex_cmds.c

Patch 7.4.171
Problem:    Redo does not set <A HREF="eval.html#v:count">v:count</A> and <A HREF="eval.html#v:count1">v:count1</A>.
Solution:   Use a separate buffer for <A HREF="undo.html#redo">redo</A>, so that we can set the counts when
	    performing <A HREF="undo.html#redo">redo</A>.
Files:	    src/getchar.c, src/globals.h, src/normal.c, src/proto/getchar.pro,
	    src/structs.h

Patch 7.4.172
Problem:    The <A HREF="options.html#blowfish">blowfish</A> code mentions output feedback, but the code is
	    actually doing cipher feedback.
Solution:   Adjust names and comments.
Files:	    src/blowfish.c, src/fileio.c, src/proto/blowfish.pro,
	    src/memline.c

Patch 7.4.173
Problem:    When using scrollbind the cursor can end up below the last line.
	    (mvxxc)
Solution:   Reset w_botfill when <A HREF="scroll.html#scrolling">scrolling</A> up. (Christian Brabandt)
Files:	    src/move.c

Patch 7.4.174
Problem:    Compiler warnings for <A HREF="if_pyth.html#Python">Python</A> interface. (Tony Mechelynck)
Solution:   Add type casts, initialize variable.
Files:	    src/if_py_both.h

Patch 7.4.175
Problem:    When a wide library function fails, falling back to the non-wide
	    function may <A HREF="diff.html#do">do</A> the wrong thing.
Solution:   Check the platform, when the wide function is supported don't fall
	    back to the non-wide function. (Ken Takata)
Files:	    src/os_mswin.c, src/os_win32.c

Patch 7.4.176
Problem:    Dictionary.update() throws an error when used without arguments.
	    <A HREF="if_pyth.html#Python">Python</A> programmers don't expect that.
Solution:   Make Dictionary.update() without arguments <A HREF="diff.html#do">do</A> nothing. (ZyX)
Files:	    src/if_py_both.h, src/testdir/test86.in, src/testdir/test87.in

Patch 7.4.177
Problem:    Compiler warning for unused variable. (Tony Mechelynck)
Solution:   Add #ifdef.
Files:	    src/move.c

Patch 7.4.178
Problem:    The <A HREF="change.html#J">J</A> command does not update <A HREF="motion.html#'[">'[</A> and <A HREF="motion.html#']">']</A> marks. (William Gardner)
Solution:   Set the marks. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.179
Problem:    Warning for type-punned pointer. (Tony Mechelynck)
Solution:   Use intermediate variable.
Files:	    src/if_py_both.h

Patch 7.4.180 (after 7.4.174)
Problem:    Older <A HREF="if_pyth.html#Python">Python</A> versions don't support &#37;ld.
Solution:   Use &#37;d instead. (ZyX)
Files:	    src/if_py_both.h

Patch 7.4.181
Problem:    When using <A HREF="options.html#'pastetoggle'">'pastetoggle'</A> the status lines are not updated. (Samuel
	    Ferencik, Jan Christoph Ebersbach)
Solution:   Update the status lines. (Nobuhiro Takasaki)
Files:	    src/getchar.c

Patch 7.4.182
Problem:    Building with <A HREF="if_mzsch.html#mzscheme">mzscheme</A> and racket does not work. (David Chimay)
Solution:   Adjust autoconf. (Sergey Khorev)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.183
Problem:    MSVC <A HREF="visual.html#Visual">Visual</A> Studio update not supported.
Solution:   Add version number. (Mike Williams)
Files:	    src/Make_mvc.mak

Patch 7.4.184
Problem:    <A HREF="eval.html#match()">match()</A> does not work properly with a {count} argument.
Solution:   Compute the length once and update <A HREF="motion.html#it">it</A>.  Quit the loop when at the
	    end. (Hirohito Higashi)
Files:	    src/eval.c, src/testdir/test53.in, src/testdir/test53.ok

Patch 7.4.185
Problem:    Clang gives warnings.
Solution:   Adjust how bigness is set. (Dominique Pelle)
Files:	    src/ex_cmds.c

Patch 7.4.186 (after 7.4.085)
Problem:    <A HREF="insert.html#Insert">Insert</A> in <A HREF="visual.html#Visual">Visual</A> mode sometimes gives incorrect results.
	    (Dominique Pelle)
Solution:   Remember the original insert start position. (Christian Brabandt,
	    Dominique Pelle)
Files:	    src/edit.c, src/globals.h, src/ops.c, src/structs.h

Patch 7.4.187
Problem:    Delete that crosses line break splits <A HREF="mbyte.html#multi-byte">multi-byte</A> character.
Solution:   Advance a character instead of a byte. (Cade Foster)
Files:	    src/normal.c, src/testdir/test69.in, src/testdir/test69.ok

Patch 7.4.188
Problem:    SIZEOF_LONG clashes with similar defines in header files.
Solution:   Rename to a name starting with VIM_.  Also for SIZEOF_INT.
Files:	    src/if_ruby.c, src/vim.h, src/configure.in, src/auto/configure,
	    src/config.h.in, src/fileio.c, src/if_python.c, src/message.c,
	    src/spell.c, src/feature.h, src/os_os2_cfg.h, src/os_vms_conf.h,
	    src/os_win16.h, src/structs.h

Patch 7.4.189
Problem:    Compiler warning for unused argument.
Solution:   Add UNUSED.
Files:	    src/eval.c

Patch 7.4.190
Problem:    Compiler warning for using &#37;lld for off_t.
Solution:   Add type cast.
Files:	    src/fileio.c

Patch 7.4.191
Problem:    Escaping a file name for shell commands can't be done without a
	    function.
Solution:   Add the :S file name modifier.
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test105.in, src/testdir/test105.ok,
	    runtime/doc/cmdline.txt, runtime/doc/eval.txt,
	    runtime/doc/map.txt, runtime/doc/options.txt,
	    runtime/doc/quickfix.txt, runtime/doc/usr_30.txt,
	    runtime/doc/usr_40.txt, runtime/doc/usr_42.txt,
	    runtime/doc/vi_diff.txt, src/eval.c, src/misc2.c, src/normal.c,
	    src/proto/misc2.pro

Patch 7.4.192
Problem:    Memory leak when giving <A HREF="eval.html#E853">E853</A>.
Solution:   Free the argument. (Dominique Pelle)
Files:	    src/eval.c

Patch 7.4.193
Problem:    Typos in <A HREF="message.html#messages">messages</A>.
Solution:   &quot;then&quot; -&gt; &quot;than&quot;. (Dominique Pelle)
Files:	    src/if_py_both.h, src/spell.c

Patch 7.4.194
Problem:    Can't build for Android.
Solution:   Add #if condition. (Fredrik Fornwall)
Files:	    src/mbyte.c

Patch 7.4.195 (after 7.4.193)
Problem:    <A HREF="if_pyth.html#Python">Python</A> tests fail.
Solution:   Change &quot;then&quot; to &quot;than&quot; in more places. (Dominique Pelle, Taro
	    Muraoka)
Files:	    src/testdir/test86.in, src/testdir/test86.ok,
	    src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.196
Problem:    Tests fail on Solaris 9 and 10.
Solution:   Use &quot;test -f&quot; instead of &quot;test -e&quot;.  (Laurent Blume)
Files:	    src/testdir/Makefile

Patch 7.4.197
Problem:    Various problems on <A HREF="os_vms.html#VMS">VMS</A>.
Solution:   Fix several <A HREF="os_vms.html#VMS">VMS</A> problems. (Zoltan Arpadffy)
Files:	    runtime/doc/os_vms.txt, src/Make_vms.mms, src/fileio.c,
	    src/os_unix.c, src/os_unix.h, src/os_vms.c, src/os_vms_conf.h,
	    src/proto/os_vms.pro, src/testdir/Make_vms.mms,
	    src/testdir/test72.in, src/testdir/test77a.com,
	    src/testdir/test77a.in, src/testdir/test77a.ok src/undo.c

Patch 7.4.198
Problem:    Can't build Vim with <A HREF="if_perl.html#Perl">Perl</A> when -Dusethreads is not specified for
	    building <A HREF="if_perl.html#Perl">Perl</A>, and building Vim with --enable-perlinterp=dynamic.
Solution:   Adjust #ifdefs. (Yasuhiro Matsumoto)
Files:	    src/if_perl.xs

Patch 7.4.199
Problem:    (issue 197) <A HREF="change.html#]P">]P</A> doesn't paste over <A HREF="visual.html#Visual">Visual</A> selection.
Solution:   Handle <A HREF="visual.html#Visual">Visual</A> mode specifically. (Christian Brabandt)
Files:	    src/normal.c

Patch 7.4.200
Problem:    Too many #ifdefs in the code.
Solution:   Enable FEAT_VISUAL always, await any complaints
Files:	    src/feature.h

Patch 7.4.201
Problem:    <A HREF="options.html#'lispwords'">'lispwords'</A> is a global option.
Solution:   Make <A HREF="options.html#'lispwords'">'lispwords'</A> <A HREF="options.html#global-local">global-local</A>. (Sung Pae)
Files:	    runtime/doc/options.txt, runtime/optwin.vim, src/buffer.c,
	    src/misc1.c, src/option.c, src/option.h, src/structs.h,
	    src/testdir/test100.in, src/testdir/test100.ok

Patch 7.4.202
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: non-ASCII font names don't work.
Solution:   Convert between the current code page and <A HREF="options.html#'encoding'">'encoding'</A>. (Ken Takata)
Files:	    src/gui_w48.c, src/os_mswin.c, src/proto/winclip.pro,
	    src/winclip.c

Patch 7.4.203
Problem:    Parsing <A HREF="options.html#'errorformat'">'errorformat'</A> is not correct.
Solution:   Reset &quot;multiignore&quot; at the start of a multi-line message. (Lcd)
Files:	    src/quickfix.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test106.in,
	    src/testdir/test106.ok

Patch 7.4.204
Problem:    A <A HREF="map.html#mapping">mapping</A> where the second byte is 0x80 doesn't work.
Solution:   Unescape before checking for incomplete <A HREF="mbyte.html#multi-byte">multi-byte</A> char. (Nobuhiro
	    Takasaki)
Files:	    src/getchar.c, src/testdir/test75.in, src/testdir/test75.ok

Patch 7.4.205
Problem:    &quot;<A HREF="starting.html#:mksession">:mksession</A>&quot; writes command to move to second argument while <A HREF="motion.html#it">it</A>
	    does not exist.  When <A HREF="motion.html#it">it</A> does exist the order might be wrong.
Solution:   Use &quot;<A HREF="editing.html#:argadd">:argadd</A>&quot; for each argument instead of using &quot;<A HREF="editing.html#:args">:args</A>&quot; with a
	    <A HREF="eval.html#list">list</A> of names. (Nobuhiro Takasaki)
Files:	    src/ex_docmd.c

Patch 7.4.206
Problem:    Compiler warnings on 64 bit Windows.
Solution:   Add type casts. (Mike Williams)
Files:	    src/gui_w48.c, src/os_mswin.c

Patch 7.4.207
Problem:    The cursor report sequence is sometimes not recognized and results
	    in entering replace mode.
Solution:   Also check for the cursor report when not asked for.
Files:	    src/term.c

Patch 7.4.208
Problem:    Mercurial picks up some files that are not distributed.
Solution:   Add patterns to the ignore <A HREF="eval.html#list">list</A>. (Cade Forester)
Files:	    .hgignore

Patch 7.4.209
Problem:    When <A HREF="repeat.html#repeating">repeating</A> a <A HREF="change.html#filter">filter</A> command &quot;<A HREF="motion.html#&#37;">&#37;</A>&quot; and &quot;<A HREF="pattern.html##">#</A>&quot; are expanded.
Solution:   Escape the command when storing for <A HREF="undo.html#redo">redo</A>. (Christian Brabandt)
Files:	    src/ex_cmds.c

Patch 7.4.210
Problem:    <A HREF="visual.html#Visual">Visual</A> block mode plus virtual edit doesn't work well with tabs.
	    (Liang Li) 
Solution:   Take coladd into account. (Christian Brabandt)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.211
Problem:    &quot;<A HREF="map.html#:lu">:lu</A>&quot; is an abbreviation for &quot;<A HREF="if_lua.html#:lua">:lua</A>&quot;, but <A HREF="motion.html#it">it</A> should be &quot;<A HREF="map.html#:lunmap">:lunmap</A>&quot;.
	    (ZyX)
Solution:   Move &quot;lunmap&quot; to above &quot;<A HREF="if_lua.html#lua">lua</A>&quot;.
Files:	    src/ex_cmds.h

Patch 7.4.212 (after 7.4.200)
Problem:    Now that the <A HREF="various.html#+visual">+visual</A> feature is always enabled the #ifdefs for <A HREF="motion.html#it">it</A>
	    are not useful.
Solution:   Remove the checks for FEAT_VISUAL.
Files:	    src/buffer.c, src/charset.c, src/edit.c, src/eval.c,
	    src/ex_cmds.c, src/ex_docmd.c, src/fold.c, src/getchar.c,
	    src/gui.c, src/gui_mac.c, src/gui_w48.c, src/main.c, src/mark.c,
	    src/menu.c, src/misc2.c, src/move.c, src/netbeans.c, src/normal.c,
	    src/ops.c, src/option.c, src/os_msdos.c, src/os_qnx.c,
	    src/quickfix.c, src/regexp.c, src/regexp_nfa.c, src/screen.c,
	    src/search.c, src/spell.c, src/syntax.c, src/term.c, src/ui.c,
	    src/undo.c, src/version.c, src/window.c, src/feature.h,
	    src/globals.h, src/option.h, src/os_win32.h, src/structs.h

Patch 7.4.213
Problem:    It's not possible to open a new buffer without creating a swap
	    file.
Solution:   Add the &quot;<A HREF="recover.html#:noswapfile">:noswapfile</A>&quot; modifier. (Christian Brabandt)
Files:	    runtime/doc/recover.txt, src/ex_cmds.h, src/ex_docmd.c,
	    src/memline.c, src/structs.h

Patch 7.4.214
Problem:    Compilation problems on HP_nonStop (Tandem).
Solution:   Add #defines. (Joachim Schmitz)
Files:	    src/vim.h

Patch 7.4.215
Problem:    Inconsistency: &quot;<A HREF="windows.html#:sp">:sp</A> foo&quot; does not <A HREF="editing.html#reload">reload</A> &quot;foo&quot;, unless &quot;foo&quot; is
	    the current buffer. (Liang Li)
Solution:   Do not <A HREF="editing.html#reload">reload</A> the current buffer on a split command.
Files:	    runtime/doc/windows.txt, src/ex_docmd.c

Patch 7.4.216
Problem:    Compiler warnings. (Tony Mechelynck)
Solution:   Initialize <A HREF="eval.html#variables">variables</A>, add #ifdef.
Files:	    src/term.c, src/os_unix.h

Patch 7.4.217
Problem:    When src/auto/configure was updated, &quot;make clean&quot; would run
	    configure pointlessly.
Solution:   Do not run configure for &quot;make clean&quot; and &quot;make distclean&quot; when
	    the make program supports $MAKECMDGOALS. (Ken Takata)
Files:	    src/Makefile

Patch 7.4.218
Problem:    It's not <A HREF="starting.html#easy">easy</A> to remove duplicates from a <A HREF="eval.html#list">list</A>.
Solution:   Add the <A HREF="eval.html#uniq()">uniq()</A> function. (Lcd)
Files:	    runtime/doc/change.txt, runtime/doc/eval.txt,
	    runtime/doc/usr_41.txt, runtime/doc/version7.txt, src/eval.c,
	    src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.219
Problem:    When <A HREF="options.html#'relativenumber'">'relativenumber'</A> or <A HREF="options.html#'cursorline'">'cursorline'</A> are set the <A HREF="windows.html#window">window</A> is
	    redrawn much to often. (Patrick Hemmer, Dominique Pelle)
Solution:   Check the VALID_CROW flag instead of VALID_WROW.
Files:	    src/move.c

Patch 7.4.220
Problem:    Test 105 does not work in a shadow dir. (James McCoy)
Solution:   Omit &quot;src/&quot; from the checked path.
Files:	    src/testdir/test105.in, src/testdir/test105.ok

Patch 7.4.221
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> doesn't resize on &quot;<A HREF="quickfix.html#:copen">:copen</A> 20&quot;. (issue 199)
Solution:   Resize the <A HREF="windows.html#window">window</A> when requested. (Christian Brabandt)
Files:	    src/quickfix.c

Patch 7.4.222
Problem:    The <A HREF="if_ruby.html#Ruby">Ruby</A> directory is constructed from parts.
Solution:   Use 'rubyarchhdrdir' if <A HREF="motion.html#it">it</A> exists. (James McCoy)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.223
Problem:    Still using an older autoconf version.
Solution:   Switch to autoconf 2.69.
Files:	    src/Makefile, src/configure.in, src/auto/configure

Patch 7.4.224
Problem:    /usr/bin/grep on Solaris does not support <A HREF="starting.html#-F">-F</A>.
Solution:   Add configure check to find a good <A HREF="quickfix.html#grep">grep</A>. (Danek Duvall)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.225
Problem:    Dynamic <A HREF="if_ruby.html#Ruby">Ruby</A> doesn't work on Solaris.
Solution:   Always use the stubs. (Danek Duvall, Yukihiro Nakadaira)
Files:	    src/if_ruby.c

Patch 7.4.226 (after 7.4.219)
Problem:    Cursorline highlighting not redrawn when <A HREF="scroll.html#scrolling">scrolling</A>. (John
	    Marriott)
Solution:   Check for required redraw in two places.
Files:	    src/move.c

Patch 7.4.227 (after 7.4.225)
Problem:    Can't build with <A HREF="if_ruby.html#Ruby">Ruby</A> 1.8.
Solution:   Do include a check for the <A HREF="if_ruby.html#Ruby">Ruby</A> version. (Ken Takata)
Files:	    src/if_ruby.c

Patch 7.4.228
Problem:    Compiler warnings when building with <A HREF="if_pyth.html#Python">Python</A> 3.2.
Solution:   Make type cast depend on <A HREF="if_pyth.html#Python">Python</A> version. (Ken Takata)
Files:	    src/if_py_both.h, src/if_python.c, src/if_python3.c

Patch 7.4.229
Problem:    Using &quot;<A HREF="eval.html#:let">:let</A>&quot; for listing <A HREF="eval.html#variables">variables</A> and the second one is a curly
	    braces <A HREF="eval.html#expression">expression</A> may fail.
Solution:   Check for an &quot;<A HREF="change.html#=">=</A>&quot; in a better way. (ZyX)
Files:	    src/eval.c, src/testdir/test104.in, src/testdir/test104.ok

Patch 7.4.230
Problem:    Error when using &quot;<A HREF="options.html#:options">:options</A>&quot;.
Solution:   Fix the entry for <A HREF="options.html#'lispwords'">'lispwords'</A>. (Kenichi Ito)
Files:	    runtime/optwin.vim

Patch 7.4.231
Problem:    An error in &quot;<A HREF="options.html#:options">:options</A>&quot; is not caught by the tests.
Solution:   Add a test for &quot;<A HREF="options.html#:options">:options</A>&quot;.  Set <A HREF="starting.html#$VIMRUNTIME">$VIMRUNTIME</A> for the tests so that
	    <A HREF="motion.html#it">it</A> uses the current runtime files instead of the installed ones.
Files:	    src/Makefile, src/testdir/Makefile, src/testdir/test_options.in,
	    src/testdir/test_options.ok, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms

Patch 7.4.232
Problem:    &quot;:&#37;s/\n//&quot; uses a lot of memory. (Aidan Marlin)
Solution:   Turn this into a join command. (Christian Brabandt)
Files:	    src/ex_cmds.c, src/ex_docmd.c, src/proto/ex_docmd.pro

Patch 7.4.233
Problem:    Escaping special characters for using &quot;<A HREF="motion.html#&#37;">&#37;</A>&quot; with a shell command is
	    inconsistent, parentheses are escaped but spaces are not.
Solution:   Only <A HREF="intro.html#escape">escape</A> &quot;<A HREF="change.html#!">!</A>&quot;. (Gary Johnson)
Files:	    src/ex_docmd.c

Patch 7.4.234
Problem:    Can't get the command that was used to start Vim.
Solution:   Add <A HREF="eval.html#v:progpath">v:progpath</A>. (Viktor Kojouharov)
Files:	    runtime/doc/eval.txt, src/eval.c, src/main.c, src/vim.h

Patch 7.4.235
Problem:    It is not <A HREF="starting.html#easy">easy</A> to get the full path of a command.
Solution:   Add the <A HREF="eval.html#exepath()">exepath()</A> function.
Files:	    src/eval.c, src/misc1.c, src/os_amiga.c, src/os_msdos.c,
	    src/os_unix.c, src/os_vms.c, src/os_win32.c,
	    src/proto/os_amiga.pro, src/proto/os_msdos.pro,
	    src/proto/os_unix.pro, src/proto/os_win32.pro,
	    runtime/doc/eval.txt

Patch 7.4.236
Problem:    It's not that <A HREF="starting.html#easy">easy</A> to check the Vim patch version.
Solution:   Make has(&quot;patch-7.4.123&quot;) work. (partly by Marc Weber)
Files:	    runtime/doc/eval.txt, src/eval.c, src/testdir/test60.in,
	    src/testdir/test60.ok

Patch 7.4.237 (after 7.4.236)
Problem:    When some patches were not included has(&quot;patch-7.4.123&quot;) may return
	    true falsely.
Solution:   Check for the specific patch number.
Files:	    runtime/doc/eval.txt, src/eval.c

Patch 7.4.238
Problem:    Vim does not support the smack library.
Solution:   Add smack support (Jose Bollo)
Files:	    src/config.h.in, src/configure.in, src/fileio.c, src/memfile.c,
	    src/os_unix.c, src/undo.c, src/auto/configure

Patch 7.4.239
Problem:    &quot;<A HREF="editing.html#:e">:e</A> +&quot; does not position cursor at end of the file.
Solution:   Check for &quot;<A HREF="motion.html#+">+</A>&quot; being the last character (ZyX)
Files:	    src/ex_docmd.c

Patch 7.4.240
Problem:    &quot;<A HREF="tagsrch.html#:tjump">:tjump</A>&quot; shows &quot;\n&quot; <A HREF="motion.html#as">as</A> &quot;\\n&quot;.
Solution:   Skip over &quot;\&quot; that escapes a <A HREF="intro.html#backslash">backslash</A>. (Gary Johnson)
Files:	    src/tag.c

Patch 7.4.241
Problem:    The <A HREF="eval.html#string">string</A> returned by <A HREF="eval.html#submatch()">submatch()</A> does not distinguish between a
	    NL from a line break and a NL that stands for a NUL character.
Solution:   Add a second argument to return a <A HREF="eval.html#list">list</A>. (ZyX)
Files:	    runtime/doc/eval.txt, src/eval.c, src/proto/regexp.pro,
	    src/regexp.c, src/testdir/test79.in, src/testdir/test79.ok,
	    src/testdir/test80.in, src/testdir/test80.ok

Patch 7.4.242
Problem:    <A HREF="eval.html#getreg()">getreg()</A> does not distinguish between a NL used for a line break
	    and a NL used for a NUL character.
Solution:   Add another argument to return a <A HREF="eval.html#list">list</A>. (ZyX)
Files:	    runtime/doc/eval.txt, src/eval.c src/ops.c, src/proto/ops.pro,
	    src/vim.h, src/Makefile, src/testdir/test_eval.in,
	    src/testdir/test_eval.ok, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms

Patch 7.4.243
Problem:    Cannot use <A HREF="eval.html#setreg()">setreg()</A> to add text that includes a NUL.
Solution:   Make <A HREF="eval.html#setreg()">setreg()</A> accept a <A HREF="eval.html#list">list</A>.
Files:	    runtime/doc/eval.txt, src/eval.c, src/ops.c, src/proto/ops.pro,
	    src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.244 (after 7.4.238)
Problem:    The smack feature causes stray error <A HREF="message.html#messages">messages</A>.
Solution:   Remove the error <A HREF="message.html#messages">messages</A>.
Files:	    src/os_unix.c

Patch 7.4.245
Problem:    Crash for &quot;vim <A HREF="starting.html#-u">-u</A> NONE <A HREF="starting.html#-N">-N</A>  <A HREF="starting.html#-c">-c</A> '&amp;&amp;&#39;&#34;'.
Solution:   Check for the <A HREF="pattern.html#pattern">pattern</A> to be NULL. (Dominique Pelle)
Files:	    src/ex_cmds.c

Patch 7.4.246
Problem:    Configure message for detecting smack are out of sequence.
Solution:   Put the <A HREF="message.html#messages">messages</A> in the right place. (Kazunobu Kuriyama)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.247
Problem:    When passing input to <A HREF="eval.html#system()">system()</A> there is no way to keep NUL and
	    NL characters separate.
Solution:   Optionally use a <A HREF="eval.html#list">list</A> for the <A HREF="eval.html#system()">system()</A> input. (ZyX)
Files:	    runtime/doc/eval.txt, src/eval.c

Patch 7.4.248
Problem:    Cannot distinguish between NL and NUL in output of <A HREF="eval.html#system()">system()</A>.
Solution:   Add <A HREF="eval.html#systemlist()">systemlist()</A>. (ZyX)
Files:	    runtime/doc/eval.txt, src/eval.c, src/ex_cmds2.c, src/misc1.c,
	    src/proto/misc1.pro

Patch 7.4.249
Problem:    Using <A HREF="eval.html#setreg()">setreg()</A> with a <A HREF="eval.html#list">list</A> of numbers does not work.
Solution:   Use a separate buffer for numbers. (ZyX)
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.250
Problem:    Some test files missing from <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add <A HREF="pattern.html#pattern">pattern</A> for newly added tests.
Files:	    Filelist

Patch 7.4.251
Problem:    Crash when <A HREF="autocmd.html#BufAdd">BufAdd</A> <A HREF="autocmd.html#autocommand">autocommand</A> wipes out the buffer.
Solution:   Check for buffer to still be valid. Postpone freeing the buffer
	    structure. (Hirohito Higashi)
Files:	    src/buffer.c, src/ex_cmds.c, src/fileio.c, src/globals.h

Patch 7.4.252
Problem:    Critical error in <A HREF="gui_x11.html#GTK">GTK</A>, removing <A HREF="eval.html#timer">timer</A> <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Clear the <A HREF="eval.html#timer">timer</A> after removing <A HREF="motion.html#it">it</A>. (James McCoy)
Files:	    src/gui_gtk_x11.c

Patch 7.4.253
Problem:    Crash when using cpp <A HREF="syntax.html#syntax">syntax</A> file with <A HREF="pattern.html#pattern">pattern</A> using external
	    match. (Havard Garnes)
Solution:   Discard match when end column is before start column.
Files:	    src/regexp.c, src/regexp_nfa.c

Patch 7.4.254
Problem:    Smack support detection is incomplete.
Solution:   Check for attr/xattr.h and specific <A HREF="map.html#macro">macro</A>.
Files:	    src/configure.in, src/auto/configure

Patch 7.4.255
Problem:    Configure check for smack doesn't work with all shells. (David
	    Larson)
Solution:   Remove spaces in set command.
Files:	    src/configure.in, src/auto/configure

Patch 7.4.256 (after 7.4.248)
Problem:    Using <A HREF="eval.html#systemlist()">systemlist()</A> may cause a crash and does not handle NUL
	    characters properly.
Solution:   Increase the reference <A HREF="intro.html#count">count</A>, allocate memory by length. (Yasuhiro
	    Matsumoto)
Files:	    src/eval.c

Patch 7.4.257
Problem:    Compiler warning, possibly for mismatch in parameter name.
Solution:   Rename the parameter in the declaration.
Files:	    src/ops.c

Patch 7.4.258
Problem:    Configure fails if $CC contains <A HREF="options.html#options">options</A>.
Solution:   Remove <A HREF="quotes.html#quotes">quotes</A> around $CC. (Paul Barker)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.259
Problem:    Warning for misplaced &quot;const&quot;.
Solution:   Move the &quot;const&quot;. (Yukihiro Nakadaira)
Files:	    src/os_unix.c

Patch 7.4.260
Problem:    It is possible to define a function with a colon in the name.  It
	    is possible to define a function with a lower <A HREF="change.html#case">case</A> character if a
	    &quot;<A HREF="pattern.html##">#</A>&quot; appears after the name.
Solution:   Disallow using a colon other than with &quot;s:&quot;.  Ignore &quot;<A HREF="pattern.html##">#</A>&quot; after the
	    name.
Files:	    runtime/doc/eval.txt, src/eval.c, src/testdir/test_eval.in,
	    src/testdir/test_eval.ok

Patch 7.4.261
Problem:    When updating the <A HREF="windows.html#window">window</A> involves a <A HREF="pattern.html#regexp">regexp</A> <A HREF="pattern.html#pattern">pattern</A>, an interactive
	    substitute to replace a &quot;\n&quot; with a line break fails. (Ingo
	    Karkat)
Solution:   Set reg_line_lbr in vim_regsub() and vim_regsub_multi().
Files:	    src/regexp.c, src/testdir/test79.in, src/testdir/test79.ok

Patch 7.4.262
Problem:    Duplicate code in regexec().
Solution:   Add line_lbr flag to regexec_nl().
Files:	    src/regexp.c, src/regexp_nfa.c, src/regexp.h

Patch 7.4.263
Problem:    GCC 4.8 compiler warning for hiding a declaration (Franois Gannaz)
Solution:   Remove the second declaration.
Files:	    src/eval.c

Patch 7.4.264 (after 7.4.260)
Problem:    Can't define a function starting with &quot;<A HREF="eval.html#g:">g:</A>&quot;.  Can't assign a
	    funcref to a buffer-local variable.
Solution:   Skip &quot;<A HREF="eval.html#g:">g:</A>&quot; at the start of a function name.  Don't check for colons
	    when assigning to a variable.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.265 (after 7.4.260)
Problem:    Can't call a global function with &quot;<A HREF="eval.html#g:">g:</A>&quot; in an <A HREF="eval.html#expression">expression</A>.
Solution:   Skip the &quot;<A HREF="eval.html#g:">g:</A>&quot; when looking up the function.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.266
Problem:    Test 62 fails.
Solution:   Set the language to C. (Christian Brabandt)
Files:	    src/testdir/test62.in

Patch 7.4.267 (after 7.4.178)
Problem:    The <A HREF="motion.html#'[">'[</A> <A HREF="motion.html#mark">mark</A> is in the wrong position after &quot;<A HREF="change.html#gq">gq</A>&quot;. (Ingo Karkat)
Solution:   Add the setmark argument to do_join(). (Christian Brabandt)
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_autoformat_join.in,
	    src/testdir/test_autoformat_join.ok, src/Makefile, src/edit.c,
	    src/ex_cmds.c, src/ex_docmd.c, src/normal.c, src/ops.c,
	    src/proto/ops.pro

Patch 7.4.268
Problem:    Using <A HREF="eval.html#exists()">exists()</A> on a funcref for a <A HREF="map.html#script-local">script-local</A> function does not
	    work.
Solution:   Translate <A HREF="map.html#&lt;SNR&gt;">&lt;SNR&gt;</A> to the special byte sequence.  Add a test.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,
	    src/testdir/test_eval_func.vim, Filelist

Patch 7.4.269
Problem:    <A HREF="scroll.html#CTRL-U">CTRL-U</A> in <A HREF="insert.html#Insert">Insert</A> mode does not work after using a cursor key.
	    (Pine Wu)
Solution:   Use the original insert start position. (Christian Brabandt)
Files:	    src/edit.c, src/testdir/test29.in, src/testdir/test29.ok

Patch 7.4.270
Problem:    Comparing pointers instead of the <A HREF="eval.html#string">string</A> they point to.
Solution:   Use strcmp(). (Ken Takata)
Files:	    src/gui_gtk_x11.c

Patch 7.4.271
Problem:    Compiler warning on 64 bit <A HREF="windows.html#windows">windows</A>.
Solution:   Add type cast. (Mike Williams)
Files:	    src/ops.c

Patch 7.4.272
Problem:    Using just &quot;<A HREF="motion.html#$">$</A>&quot; does not cause an error message.
Solution:   Check for empty environment variable name. (Christian Brabandt)
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.273
Problem:    &quot;make autoconf&quot; and &quot;make reconfig&quot; may first run configure and
	    then remove the output.
Solution:   Add these targets to the exceptions. (Ken Takata)
Files:	    src/Makefile

Patch 7.4.274
Problem:    When doing &quot;<A HREF="editing.html#:update">:update</A>&quot; just before running an external command that
	    changes the file, the <A HREF="editing.html#timestamp">timestamp</A> may be unchanged and the file
	    is not reloaded.
Solution:   Also check the file size.
Files:	    src/fileio.c

Patch 7.4.275
Problem:    When <A HREF="change.html#changing">changing</A> the type of a sign that hasn't been placed there is
	    no error message.
Solution:   Add an error message. (Christian Brabandt)
Files:	    src/ex_cmds.c

Patch 7.4.276
Problem:    The fish shell is not supported.
Solution:   Use begin/end instead of () for fish. (Andy Russell)
Files:	    src/ex_cmds.c, src/misc1.c, src/option.c, src/proto/misc1.pro

Patch 7.4.277
Problem:    Using &quot;<A HREF="sign.html#:sign">:sign</A> unplace *&quot; may leave the cursor in the wrong position
	    (Christian Brabandt)
Solution:   Update the cursor position when removing all <A HREF="sign.html#signs">signs</A>.
Files:	    src/buffer.c

Patch 7.4.278
Problem:    list_remove() conflicts with function defined in Sun header file.
Solution:   Rename the function. (Richard Palo)
Files:	    src/eval.c, src/if_lua.c, src/if_py_both.h, src/proto/eval.pro

Patch 7.4.279
Problem:    <A HREF="eval.html#globpath()">globpath()</A> returns a <A HREF="eval.html#string">string</A>, making <A HREF="motion.html#it">it</A> difficult to get a <A HREF="eval.html#list">list</A> of
	    matches. (Greg Novack)
Solution:   Add an optional argument like with <A HREF="eval.html#glob()">glob()</A>. (Adnan Zafar)
Files:	    runtime/doc/eval.txt, src/eval.c, src/ex_getln.c, src/misc1.c,
	    src/misc2.c, src/proto/ex_getln.pro, src/proto/misc2.pro,
	    src/testdir/test97.in, src/testdir/test97.ok

Patch 7.4.280
Problem:    When using a session file the relative position of the cursor is
	    not restored if there is another <A HREF="intro.html#tab">tab</A>. (Nobuhiro Takasaki)
Solution:   Update w_wrow before calculating the fraction.
Files:	    src/window.c

Patch 7.4.281
Problem:    When a session file has more than one <A HREF="tabpage.html#tabpage">tabpage</A> and <A HREF="options.html#'showtabline'">'showtabline'</A> is
	    one the positions may be slightly off.
Solution:   Set <A HREF="options.html#'showtabline'">'showtabline'</A> to two while positioning <A HREF="windows.html#windows">windows</A>.
Files:	    src/ex_docmd.c

Patch 7.4.282 (after 7.4.279)
Problem:    Test 97 fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Do not ignore <A HREF="change.html#case">case</A> in file names. (Jun Takimoto)
Files:	    src/testdir/test97.in

Patch 7.4.283 (after 7.4.276)
Problem:    Compiler warning about unused variable. (Charles Cooper)
Solution:   Move the variable inside the #if block.
Files:	    src/ex_cmds.c

Patch 7.4.284
Problem:    Setting <A HREF="options.html#'langmap'">'langmap'</A> in the <A HREF="options.html#modeline">modeline</A> can cause trouble.  E.g. <A HREF="map.html#mapping">mapping</A>
	    &quot;<A HREF="cmdline.html#:">:</A>&quot; breaks many commands. (Jens-Wolfhard Schicke-Uffmann)
Solution:   Disallow setting <A HREF="options.html#'langmap'">'langmap'</A> from the <A HREF="options.html#modeline">modeline</A>.
Files:	    src/option.c

Patch 7.4.285
Problem:    When <A HREF="options.html#'relativenumber'">'relativenumber'</A> is set and <A HREF="change.html#deleting">deleting</A> lines or undoing that,
	    line numbers are not always updated. (Robert Arkwright)
Solution:   (Christian Brabandt)
Files:	    src/misc1.c

Patch 7.4.286
Problem:    Error <A HREF="message.html#messages">messages</A> are inconsistent. (ZyX)
Solution:   Change &quot;<A HREF="eval.html#Lists">Lists</A>&quot; to &quot;<A HREF="eval.html#list">list</A>&quot;.
Files:	    src/eval.c

Patch 7.4.287
Problem:    Patches for .hgignore don't work, since the file is not in the
	    <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add .hgignore to the <A HREF="intro.html#distribution">distribution</A>.  Will be effective with the
	    next version.
Files:	    Filelist

Patch 7.4.288
Problem:    When <A HREF="options.html#'spellfile'">'spellfile'</A> is set the screen is not redrawn.
Solution:   Redraw when updating the spelling info. (Christian Brabandt)
Files:	    src/spell.c

Patch 7.4.289
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> with repeated backreference does not match with new <A HREF="pattern.html#regexp">regexp</A>
	    engine. (Urtica Dioica)
Solution:   Also check the end of a submatch when deciding to put a state in
	    the state <A HREF="eval.html#list">list</A>.
Files:	    src/testdir/test64.in, src/testdir/test64.ok, src/regexp_nfa.c

Patch 7.4.290
Problem:    A <A HREF="pattern.html#non-greedy">non-greedy</A> match followed by a branch is too greedy. (Ingo
	    Karkat)
Solution:   Add NFA_MATCH when <A HREF="motion.html#it">it</A> is already in the state <A HREF="eval.html#list">list</A> if the position
	    differs.
Files:	    src/testdir/test64.in, src/testdir/test64.ok, src/regexp_nfa.c

Patch 7.4.291
Problem:    Compiler warning for int to pointer of different size when DEBUG
	    is defined.
Solution:   use smsg() instead of EMSG3().
Files:	    src/regexp.c

Patch 7.4.292
Problem:    Searching for &quot;<A HREF="insert.html#a">a</A>&quot; does not match accented &quot;<A HREF="insert.html#a">a</A>&quot; with new <A HREF="pattern.html#regexp">regexp</A>
	    engine, does match with old engine. (David Brgin)
	    &quot;ca&quot; does not match &quot;ca&quot; with accented &quot;<A HREF="insert.html#a">a</A>&quot; with either engine.
Solution:   Change the old engine, check for following composing character
	    also for single-byte patterns.
Files:	    src/regexp.c, src/testdir/test95.in, src/testdir/test95.ok

Patch 7.4.293
Problem:    It is not possible to ignore composing characters at a specific
	    point in a <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Add the &#37;C item.
Files:	    src/regexp.c, src/regexp_nfa.c, src/testdir/test95.in,
	    src/testdir/test95.ok, runtime/doc/pattern.txt

Patch 7.4.294 (7.4.293)
Problem:    Test files missing from patch.
Solution:   Patch the test files.
Files:	    src/testdir/test95.in, src/testdir/test95.ok

Patch 7.4.295
Problem:    Various typos, bad white space and unclear comments.
Solution:   Fix typos.  Improve white space. Update comments.
Files:	    src/testdir/test49.in, src/macros.h, src/screen.c, src/structs.h,
	    src/gui_gtk_x11.c, src/os_unix.c

Patch 7.4.296
Problem:    Can't run tests on Solaris.
Solution:   Change the way VIMRUNTIME is set. (Laurent Blume)
Files:	    src/testdir/Makefile

Patch 7.4.297
Problem:    Memory leak from result of get_isolated_shell_name().
Solution:   Free the memory. (Dominique Pelle)
Files:	    src/ex_cmds.c, src/misc1.c

Patch 7.4.298
Problem:    Can't have a funcref start with &quot;<A HREF="eval.html#t:">t:</A>&quot;.
Solution:   Add &quot;<A HREF="motion.html#t">t</A>&quot; to the <A HREF="eval.html#list">list</A> of accepted names. (Yukihiro Nakadaira)
Files:	    src/eval.c

Patch 7.4.299
Problem:    When running configure <A HREF="if_cscop.html#twice">twice</A> DYNAMIC_PYTHON_DLL may become empty.
Solution:   Use AC_CACHE_VAL. (Ken Takata)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.300
Problem:    The way config.cache is removed doesn't always work.
Solution:   Always remove config.cache. (Ken Takata)
Files:	    src/Makefile

Patch 7.4.301 (after 7.4.280)
Problem:    Still a <A HREF="scroll.html#scrolling">scrolling</A> problem when loading a session file.
Solution:   Fix off-by-one mistake. (Nobuhiro Takasaki)
Files:	    src/window.c

Patch 7.4.302
Problem:    Signs placed with <A HREF="options.html#'foldcolumn'">'foldcolumn'</A> set don't show up after filler
	    lines.
Solution:   Take filler lines into account. (Olaf Dabrunz)
Files:	    src/screen.c

Patch 7.4.303
Problem:    When using double-width characters the text displayed on the
	    command line is sometimes truncated.
Solution:   Reset the <A HREF="eval.html#string">string</A> length. (Nobuhiro Takasaki)
Files:	    src/screen.c

Patch 7.4.304
Problem:    Cannot always use <A HREF="if_pyth.html#Python">Python</A> with Vim.
Solution:   Add the manifest to the executable. (Jacques Germishuys)
Files:	    src/Make_mvc.mak

Patch 7.4.305
Problem:    Making <A HREF="options.html#'ttymouse'">'ttymouse'</A> empty after the xterm version was requested
	    causes problems. (Elijah Griffin)
Solution:   Do not check for DEC mouse sequences when the xterm version was
	    requested.  Also don't request the xterm version when DEC mouse
	    was enabled.
Files:	    src/term.c, src/os_unix.c, src/proto/term.pro, src/globals.h

Patch 7.4.306
Problem:    getchar(0) does not return Esc.
Solution:   Do not wait for an Esc sequence to be complete.  (Yasuhiro
	    Matsumoto)
Files:	    src/eval.c, src/getchar.c

Patch 7.4.307 (after 7.4.305)
Problem:    Can't build without the <A HREF="various.html#+termresponse">+termresponse</A> feature.
Solution:   Add proper #ifdefs.
Files:	    src/os_unix.c, src/term.c

Patch 7.4.308
Problem:    When using &quot;<A HREF="diff.html#:diffsplit">:diffsplit</A>&quot; on an empty file the cursor is displayed
	    on the command line.
Solution:   Limit the value of w_topfill.
Files:	    src/diff.c

Patch 7.4.309
Problem:    When increasing the size of the lower <A HREF="windows.html#window">window</A>, the upper <A HREF="windows.html#window">window</A>
	    jumps back to the top. (Ron Aaron)
Solution:   Change setting the topline. (Nobuhiro Takasaki)
Files:	    src/window.c

Patch 7.4.310
Problem:    getpos()/setpos() don't include curswant.
Solution:   Add a fifth number when getting/setting the cursor.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,
	    runtime/doc/eval.txt

Patch 7.4.311
Problem:    Can't use winrestview to only restore part of the <A HREF="starting.html#view">view</A>.
Solution:   Handle missing items in the <A HREF="eval.html#dict">dict</A>. (Christian Brabandt)
Files:	    src/eval.c, runtime/doc/eval.txt

Patch 7.4.312
Problem:    Cannot figure out what argument <A HREF="eval.html#list">list</A> is being used for a <A HREF="windows.html#window">window</A>.
Solution:   Add the <A HREF="eval.html#arglistid()">arglistid()</A> function. (Marcin Szamotulski)
Files:	    runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,
	    src/ex_docmd.c, src/globals.h, src/structs.h, src/main.c

Patch 7.4.313 (after 7.4.310)
Problem:    Changing the return value of <A HREF="eval.html#getpos()">getpos()</A> causes an error. (Jie Zhu)
Solution:   Revert <A HREF="eval.html#getpos()">getpos()</A> and add <A HREF="eval.html#getcurpos()">getcurpos()</A>.
Files:	    src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,
	    runtime/doc/eval.txt

Patch 7.4.314
Problem:    Completion <A HREF="message.html#messages">messages</A> can get in the way of a <A HREF="usr_05.html#plugin">plugin</A>.
Solution:   Add '<A HREF="change.html#c">c</A>' flag to <A HREF="options.html#'shortmess'">'shortmess'</A> option. (Shougo Matsu)
Files:	    runtime/doc/options.txt, src/edit.c, src/option.h, src/screen.c

Patch 7.4.315 (after 7.4.309)
Problem:    Fixes for computation of topline not tested.
Solution:   Add test. (Hirohito Higashi)
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test107.in, src/testdir/test107.ok

Patch 7.4.316
Problem:    Warning from 64-bit compiler.
Solution:   Add type cast. (Mike Williams)
Files:	    src/ex_getln.c

Patch 7.4.317
Problem:    Crash when starting <A HREF="starting.html#gvim">gvim</A>.  Issue 230.
Solution:   Check for a pointer to be NULL. (Christian Brabandt)
Files:	    src/window.c

Patch 7.4.318
Problem:    Check for whether a highlight group has settings ignores fg and bg
	    color settings.
Solution:   Also check cterm and <A HREF="gui.html#GUI">GUI</A> color settings. (Christian Brabandt)
Files:	    src/syntax.c

Patch 7.4.319
Problem:    Crash when putting zero bytes on the <A HREF="gui.html#clipboard">clipboard</A>.
Solution:   Do not support the utf8_atom target when not using a <A HREF="mbyte.html#Unicode">Unicode</A>
	    encoding. (Naofumi Honda)
Files:	    src/ui.c

Patch 7.4.320
Problem:    Possible crash when an <A HREF="autocmd.html#BufLeave">BufLeave</A> <A HREF="autocmd.html#autocommand">autocommand</A> deletes the buffer.
Solution:   Check for the <A HREF="windows.html#window">window</A> pointer being valid.  Postpone freeing the
	    <A HREF="windows.html#window">window</A> until <A HREF="autocmd.html#autocommands">autocommands</A> are done. (Yasuhiro Matsumoto)
Files:	    src/buffer.c, src/fileio.c, src/globals.h, src/window.c

Patch 7.4.321
Problem:    Can't build with strawberry <A HREF="if_perl.html#perl">perl</A> 5.20 + mingw-w64-4.9.0.
Solution:   Define save_strlen. (Ken Takata)
Files:	    src/if_perl.xs

Patch 7.4.322
Problem:    Using &quot;msgfmt&quot; is hard coded, cannot use &quot;gmsgfmt&quot;.
Solution:   Use the msgfmt command found by configure. (Danek Duvall)
Files:	    src/config.mk.in, src/po/Makefile

Patch 7.4.323
Problem:    Substitute() with zero width <A HREF="pattern.html#pattern">pattern</A> breaks <A HREF="mbyte.html#multi-byte">multi-byte</A> character.
Solution:   Take <A HREF="mbyte.html#multi-byte">multi-byte</A> character size into account. (Yukihiro Nakadaira)
Files:	    src/eval.c src/testdir/test69.in, src/testdir/test69.ok

Patch 7.4.324
Problem:    In <A HREF="intro.html#Ex">Ex</A> mode, cyrillic characters are not handled. (Stas Malavin)
Solution:   Support <A HREF="mbyte.html#multi-byte">multi-byte</A> characters in <A HREF="intro.html#Ex">Ex</A> mode. (Yukihiro Nakadaira)
Files:	    src/ex_getln.c

Patch 7.4.325
Problem:    When starting the <A HREF="gui.html#gui">gui</A> and <A HREF="change.html#changing">changing</A> the <A HREF="windows.html#window">window</A> size the status line
	    may not be drawn correctly.
Solution:   Catch new_win_height() being called recursively. (Christian
	    Brabandt)
Files:	    src/window.c

Patch 7.4.326
Problem:    Can't build Tiny version. (Elimar Riesebieter)
Solution:   Add #ifdef.
Files:	    src/window.c

Patch 7.4.327
Problem:    When <A HREF="options.html#'verbose'">'verbose'</A> is set to display the return value of a function,
	    may get <A HREF="eval.html#E724">E724</A> repeatedly.
Solution:   Do not give an error for <A HREF="starting.html#verbose">verbose</A> <A HREF="message.html#messages">messages</A>. Abort conversion to
	    <A HREF="eval.html#string">string</A> after an error.
Files:	    src/eval.c

Patch 7.4.328
Problem:    Selection of inner block is inconsistent.
Solution:   Skip indent not only for '<A HREF="motion.html#}">}</A>' but all parens. (Tom McDonald)
Files:	    src/search.c

Patch 7.4.329
Problem:    When moving the cursor and then switching to another <A HREF="windows.html#window">window</A> the
	    previous <A HREF="windows.html#window">window</A> isn't scrolled. (Yukihiro Nakadaira)
Solution:   Call update_topline() before leaving the <A HREF="windows.html#window">window</A>. (Christian
	    Brabandt)
Files:	    src/window.c

Patch 7.4.330
Problem:    Using a <A HREF="pattern.html#regexp">regexp</A> <A HREF="pattern.html#pattern">pattern</A> to highlight a specific position can be
	    slow.
Solution:   Add <A HREF="eval.html#matchaddpos()">matchaddpos()</A> to highlight specific positions efficiently.
	    (Alexey Radkov)
Files:	    runtime/doc/eval.txt, runtime/doc/usr_41.txt,
	    runtime/plugin/matchparen.vim, src/eval.c, src/ex_docmd.c,
	    src/proto/window.pro, src/screen.c, src/structs.h,
	    src/testdir/test63.in, src/testdir/test63.ok, src/window.c

Patch 7.4.331
Problem:    Relative numbering not updated after a <A HREF="motion.html#linewise">linewise</A> <A HREF="change.html#yank">yank</A>.  Issue 235.
Solution:   Redraw after the <A HREF="change.html#yank">yank</A>. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.332
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: When a sign icon doesn't fit exactly there can be ugly gaps.
Solution:   Scale the sign to fit when the aspect ratio is not too far off.
	    (Christian Brabandt)
Files:	    src/gui_gtk_x11.c

Patch 7.4.333
Problem:    Compiler warning for unused function.
Solution:   Put the function inside the #ifdef.
Files:	    src/screen.c

Patch 7.4.334 (after 7.4.330)
Problem:    Uninitialized <A HREF="eval.html#variables">variables</A>, causing some problems.
Solution:   Initialize the <A HREF="eval.html#variables">variables</A>. (Dominique Pelle)
Files:	    src/screen.c, src/window.c

Patch 7.4.335
Problem:    No <A HREF="digraph.html#digraph">digraph</A> for the new rouble sign.
Solution:   Add the <A HREF="digraph.html#digraphs">digraphs</A> =R and =P.
Files:	    src/digraph.c, runtime/doc/digraph.txt

Patch 7.4.336
Problem:    Setting <A HREF="options.html#'history'">'history'</A> to a big value causes out-of-memory <A HREF="message.html#errors">errors</A>.
Solution:   Limit the value to 10000. (Hirohito Higashi)
Files:	    runtime/doc/options.txt, src/option.c

Patch 7.4.337
Problem:    When there is an error preparing to edit the command line, the
	    command won't be executed. (Hirohito Higashi)
Solution:   Reset did_emsg before editing.
Files:	    src/ex_getln.c

Patch 7.4.338
Problem:    Cannot wrap lines taking indent into account.
Solution:   Add the <A HREF="options.html#'breakindent'">'breakindent'</A> option. (many authors, final improvements by
	    Christian Brabandt)
Files:	    runtime/doc/eval.txt, runtime/doc/options.txt, runtime/optwin.vim,
	    src/buffer.c, src/charset.c, src/edit.c, src/ex_getln.c,
	    src/getchar.c, src/misc1.c, src/misc2.c, src/ops.c, src/option.c,
	    src/option.h, src/proto/charset.pro, src/proto/misc1.pro,
	    src/proto/option.pro, src/screen.c, src/structs.h,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok,
	    src/ui.c, src/version.c

Patch 7.4.339
Problem:    Local function is available globally.
Solution:   Add &quot;static&quot;.
Files:	    src/option.c, src/proto/option.pro

Patch 7.4.340
Problem:    Error from sed about illegal bytes when installing Vim.
Solution:   Prepend LC_ALL=C. (Itchyny)
Files:	    src/installman.sh

Patch 7.4.341
Problem:    <A HREF="eval.html#sort()">sort()</A> doesn't handle numbers well.
Solution:   Add an argument to specify <A HREF="change.html#sorting">sorting</A> on numbers. (Christian Brabandt)
Files:	    runtime/doc/eval.txt, src/eval.c, src/testdir/test55.in,
	    src/testdir/test55.ok

Patch 7.4.342
Problem:    Clang gives warnings.
Solution:   Add an else block. (Dominique Pelle)
Files:	    src/gui_beval.c

Patch 7.4.343
Problem:    <A HREF="eval.html#matchdelete()">matchdelete()</A> does not always update the right lines.
Solution:   Fix off-by-one error.  (Ozaki Kiichi)
Files:	    src/window.c

Patch 7.4.344
Problem:    Unnecessary initializations and other things related to
	    <A HREF="eval.html#matchaddpos()">matchaddpos()</A>.
Solution:   Code cleanup. (Alexey Radkov)
Files:	    runtime/doc/eval.txt, src/screen.c, src/window.c

Patch 7.4.345 (after 7.4.338)
Problem:    Indent is not updated when <A HREF="change.html#deleting">deleting</A> indent.
Solution:   Remember changedtick.
Files:	    src/misc1.c

Patch 7.4.346 (after 7.4.338)
Problem:    Indent is not updated when <A HREF="change.html#changing">changing</A> <A HREF="options.html#'breakindentopt'">'breakindentopt'</A>. (itchyny)
Solution:   Do not cache &quot;brishift&quot;. (Christian Brabandt)
Files:	    src/misc1.c

Patch 7.4.347
Problem:    test55 fails on some systems.
Solution:   Remove the elements that all result in zero and can end up in an
	    arbitrary position.
Files:	    src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.348
Problem:    When using &quot;J1&quot; in <A HREF="options.html#'cinoptions'">'cinoptions'</A> a line below a continuation line
	    gets too much indent.
Solution:   Fix parentheses in condition.
Files:	    src/misc1.c

Patch 7.4.349
Problem:    When there are matches to highlight the whole <A HREF="windows.html#window">window</A> is redrawn,
	    which is slow.
Solution:   Only redraw everything when lines were inserted or deleted.
	    Reset b_mod_xlines when needed.  (Alexey Radkov)
Files:	    src/screen.c, src/window.c

Patch 7.4.350
Problem:    Using C indenting for Javascript does not work well for a <A HREF="intro.html#{}">{}</A> block
	    inside parentheses.
Solution:   When looking for a matching paren ignore one that is before the
	    start of a <A HREF="intro.html#{}">{}</A> block.
Files:	    src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.351
Problem:    <A HREF="eval.html#sort()">sort()</A> is not stable.
Solution:   When the items are identical, compare the pointers.
Files:	    src/eval.c, src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.352
Problem:    With <A HREF="options.html#'linebreak'">'linebreak'</A> a <A HREF="intro.html#tab">tab</A> causes a missing line break.
Solution:   Count a <A HREF="intro.html#tab">tab</A> for what it's worth also for shorter lines.
	    (Christian Brabandt)
Files:	    src/charset.c

Patch 7.4.353
Problem:    <A HREF="options.html#'linebreak'">'linebreak'</A> doesn't work with the <A HREF="options.html#'list'">'list'</A> option.
Solution:   Make <A HREF="motion.html#it">it</A> work. (Christian Brabandt)
Files:	    runtime/doc/options.txt, src/charset.c, src/screen.c,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_listlbr.in, src/testdir/test_listlbr.ok

Patch 7.4.354
Problem:    Compiler warning.
Solution:   Change NUL to NULL. (Ken Takata)
Files:	    src/screen.c

Patch 7.4.355
Problem:    Several problems with Javascript indenting.
Solution:   Improve Javascript indenting.
Files:	    src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.356
Problem:    Mercurial does not ignore memfile_test. (Daniel Hahler)
Solution:   Add memfile_test to ignored files, remove trailing spaces.
Files:	    .hgignore

Patch 7.4.357
Problem:    After completion some characters are not redrawn.
Solution:   Clear the command line unconditionally. (Jacob Niehus)
Files:	    src/edit.c

Patch 7.4.358 (after 7.4.351)
Problem:    Sort is not always stable.
Solution:   Add an index instead of relying on the pointer to remain the same.
	    Idea by Jun Takimoto.
Files:	    src/eval.c

Patch 7.4.359
Problem:    When <A HREF="options.html#'ttymouse'">'ttymouse'</A> is set to 'uxterm' the xterm version is not
	    requested. (Tomas Janousek)
Solution:   Do not <A HREF="motion.html#mark">mark</A> uxterm <A HREF="motion.html#as">as</A> a conflict mouse and add
	    resume_get_esc_sequence().
Files:	    src/term.c, src/os_unix.c, src/proto/term.pro

Patch 7.4.360
Problem:    In a <A HREF="pattern.html#regexp">regexp</A> <A HREF="pattern.html#pattern">pattern</A> a &quot;<A HREF="motion.html#$">$</A>&quot; followed by \v or \V is not seen <A HREF="motion.html#as">as</A> the
	    end-of-line.
Solution:   Handle the situation. (Ozaki Kiichi)
Files:	    src/regexp.c

Patch 7.4.361
Problem:    Lots of flickering when filling the preview <A HREF="windows.html#window">window</A> for <A HREF="options.html#'omnifunc'">'omnifunc'</A>.
Solution:   Disable redrawing. (Hirohito Higashi)
Files:	    src/popupmnu.c

Patch 7.4.362
Problem:    When <A HREF="eval.html#matchaddpos()">matchaddpos()</A> uses a length smaller than the number of bytes
	    in the (last) character the highlight continues until the end of
	    the line.
Solution:   Change condition from equal to larger-or-equal.
Files:	    src/screen.c

Patch 7.4.363
Problem:    In Windows console typing 0xCE does not work.
Solution:   Convert 0xCE to K_NUL 3. (Nobuhiro Takasaki et al.)
Files:	    src/os_win32.c, src/term.c

Patch 7.4.364
Problem:    When the <A HREF="starting.html#viminfo">viminfo</A> file can't be renamed there is no error message.
	    (Vladimir Berezhnoy)
Solution:   Check for the rename to fail.
Files:	    src/ex_cmds.c

Patch 7.4.365
Problem:    Crash when using &quot;<A HREF="windows.html#:botright">:botright</A> split&quot; when there isn't much space.
Solution:   Add a check for the minimum width/height. (Yukihiro Nakadaira)
Files:	    src/window.c

Patch 7.4.366
Problem:    Can't run the linebreak test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Fix the output file name. (Taro Muraoka)
Files:	    src/testdir/Make_dos.mak

Patch 7.4.367 (after 7.4.357)
Problem:    Other solution for redrawing after completion.
Solution:   Schedule a <A HREF="windows.html#window">window</A> redraw instead of just clearing the command
	    line. (Jacob Niehus)
Files:	    src/edit.c

Patch 7.4.368
Problem:    Restoring the <A HREF="windows.html#window">window</A> sizes after closing the command line <A HREF="windows.html#window">window</A>
	    doesn't work properly if there are nested splits.
Solution:   Restore the sizes <A HREF="if_cscop.html#twice">twice</A>. (Hirohito Higashi)
Files:	    src/window.c

Patch 7.4.369
Problem:    Using freed memory when <A HREF="starting.html#exiting">exiting</A> while compiled with EXITFREE.
Solution:   Set curwin to NULL and check for that. (Dominique Pelle)
Files:	    src/buffer.c, src/window.c

Patch 7.4.370
Problem:    Linebreak test fails when encoding is not <A HREF="mbyte.html#utf-8">utf-8</A>. (Danek Duvall)
Solution:   Split the test in a single byte one and a <A HREF="mbyte.html#utf-8">utf-8</A> one. (Christian
	    Brabandt)
Files:	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_listlbr.in, src/testdir/test_listlbr.ok,
	    src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok

Patch 7.4.371
Problem:    When <A HREF="options.html#'linebreak'">'linebreak'</A> is set <A HREF="intro.html#control">control</A> characters are not correctly
	    displayed. (Kimmy Lindvall)
Solution:   Set n_extra. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.372
Problem:    When <A HREF="options.html#'winminheight'">'winminheight'</A> is zero there might not be one line for the
	    current <A HREF="windows.html#window">window</A>.
Solution:   Change the size computations. (Yukihiro Nakadaira)
Files:	    src/window.c

Patch 7.4.373
Problem:    Compiler warning for unused argument and unused variable.
Solution:   Add UNUSED.  Move variable inside #ifdef.
Files:	    src/charset.c, src/window.c

Patch 7.4.374
Problem:    Character after &quot;fb&quot; command not mapped if <A HREF="motion.html#it">it</A> might be a composing
	    character.
Solution:   Don't disable <A HREF="map.html#mapping">mapping</A> when looking for a composing character.
	    (Jacob Niehus)
Files:	    src/normal.c

Patch 7.4.375
Problem:    Test 63 fails when run with GUI-only Vim.
Solution:   Add guibg attributes. (suggested by Mike Soyka)
Files:	    src/testdir/test63.in

Patch 7.4.376 (after 7.4.367)
Problem:    Popup menu flickers too much.
Solution:   Remove the forced redraw. (Hirohito Higashi)
Files:	    src/edit.c

Patch 7.4.377
Problem:    When <A HREF="options.html#'equalalways'">'equalalways'</A> is set a split may report &quot;no room&quot; even though
	    there is plenty of room.
Solution:   Compute the available room properly. (Yukihiro Nakadaira)
Files:	    src/window.c

Patch 7.4.378
Problem:    Title of <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> is not kept for setqflist(list, 'r').
Solution:   Keep the title.  Add a test. (Lcd)
Files:	    src/quickfix.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_qf_title.in,
	    src/testdir/test_qf_title.ok

Patch 7.4.379
Problem:    Accessing freed memory after using setqflist(list, 'r'). (Lcd)
Solution:   Reset qf_index.
Files:	    src/quickfix.c

Patch 7.4.380
Problem:    Loading <A HREF="if_pyth.html#python">python</A> may cause Vim to exit.
Solution:   Avoid loading the &quot;site&quot; module. (Taro Muraoka)
Files:	    src/if_python.c

Patch 7.4.381
Problem:    Get u_undo error when backspacing in <A HREF="insert.html#Insert">Insert</A> mode deletes more than
	    one line break. (Ayberk Ozgur)
Solution:   Also decrement Insstart.lnum.
Files:	    src/edit.c

Patch 7.4.382
Problem:    Mapping characters may not work after typing Esc in <A HREF="insert.html#Insert">Insert</A> mode.
Solution:   Fix the noremap flags for inserted characters. (Jacob Niehus)
Files:	    src/getchar.c

Patch 7.4.383
Problem:    Bad interaction between preview <A HREF="windows.html#window">window</A> and omnifunc.
Solution:   Avoid redrawing the status line. (Hirohito Higashi)
Files:	    src/popupmnu.c

Patch 7.4.384
Problem:    Test 102 fails when compiled with small features.
Solution:   Source small.vim. (Jacob Niehus)
Files:	    src/testdir/test102.in

Patch 7.4.385
Problem:    When building with tiny or small features building the .mo files
	    fails.
Solution:   In autoconf <A HREF="diff.html#do">do</A> not setup for building the .mo files when <A HREF="motion.html#it">it</A> would
	    fail.
Files:	    src/configure.in, src/auto/configure

Patch 7.4.386
Problem:    When splitting a <A HREF="windows.html#window">window</A> the <A HREF="motion.html#changelist">changelist</A> position is wrong.
Solution:   Copy the <A HREF="motion.html#changelist">changelist</A> position. (Jacob Niehus)
Files:	    src/window.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_changelist.in,
	    src/testdir/test_changelist.ok

Patch 7.4.387
Problem:    &quot;4gro&quot; replaces one character then executes &quot;ooo&quot;. (Urtica Dioica)
Solution:   Write the ESC in the second stuff buffer.
Files:	    src/getchar.c, src/proto/getchar.pro, src/edit.c,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_insertcount.in, src/testdir/test_insertcount.ok

Patch 7.4.388
Problem:    With <A HREF="options.html#'linebreak'">'linebreak'</A> set and <A HREF="options.html#'list'">'list'</A> unset a <A HREF="intro.html#Tab">Tab</A> is not counted
	    properly. (Kent Sibilev)
Solution:   Check the <A HREF="options.html#'list'">'list'</A> option. (Christian Brabandt)
Files:	    src/screen.c, src/testdir/test_listlbr_utf8.in,
	    src/testdir/test_listlbr_utf8.ok

Patch 7.4.389
Problem:    Still sometimes Vim enters <A HREF="insert.html#Replace">Replace</A> mode when starting up.
Solution:   Use a different solution in detecting the termresponse and
	    location response. (Hayaki Saito)
Files:	    src/globals.h, src/os_unix.c, src/term.c, src/proto/term.pro

Patch 7.4.390
Problem:    Advancing pointer over end of a <A HREF="eval.html#string">string</A>.
Solution:   Init <A HREF="change.html#quote">quote</A> character to -1 instead of zero. (Dominique Pelle)
Files:	    src/misc1.c

Patch 7.4.391
Problem:    No <A HREF="options.html#'cursorline'">'cursorline'</A> highlighting when the cursor is on a line with
	    <A HREF="diff.html#diff">diff</A> highlighting. (Benjamin Fritz)
Solution:   Combine the highlight attributes. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.392
Problem:    Not <A HREF="starting.html#easy">easy</A> to detect type of command line <A HREF="windows.html#window">window</A>.
Solution:   Add the <A HREF="eval.html#getcmdwintype()">getcmdwintype()</A> function. (Jacob Niehus)
Files:	    src/eval.c

Patch 7.4.393
Problem:    Text drawing on newer <A HREF="os_win32.html#MS-Windows">MS-Windows</A> systems is suboptimal.  Some
	    <A HREF="mbyte.html#multi-byte">multi-byte</A> characters are not displayed, even though the same font
	    in Notepad can display them. (Srinath Avadhanula)
Solution:   Add the <A HREF="options.html#'renderoptions'">'renderoptions'</A> option to enable DirectX drawing. (Taro
	    Muraoka)
Files:	    runtime/doc/eval.txt, runtime/doc/options.txt,
	    runtime/doc/various.txt, src/Make_cyg.mak, src/Make_ming.mak,
	    src/Make_mvc.mak, src/eval.c, src/gui_dwrite.cpp,
	    src/gui_dwrite.h, src/gui_w32.c, src/gui_w48.c, src/option.c,
	    src/option.h, src/version.c, src/vim.h, src/proto/gui_w32.pro

Patch 7.4.394 (after 7.4.393)
Problem:    When using DirectX last <A HREF="syntax.html#italic">italic</A> character is incomplete.
Solution:   Add one to the number of cells. (Ken Takata)
Files:	    src/gui_w32.c

Patch 7.4.395 (after 7.4.355)
Problem:    C indent is wrong below an if with wrapped condition followed by
	    curly braces. (Trevor Powell)
Solution:   Make a copy of tryposBrace.
Files:	    src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.396
Problem:    When <A HREF="options.html#'clipboard'">'clipboard'</A> is &quot;unnamed&quot;, :g/pat/d is very slow. (Praful)
Solution:   Only set the <A HREF="gui.html#clipboard">clipboard</A> after the last delete. (Christian Brabandt)
Files:	    src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/globals.h,
	    src/ops.c, src/proto/ui.pro, src/ui.c

Patch 7.4.397
Problem:    Matchparen only uses the topmost <A HREF="syntax.html#syntax">syntax</A> item.
Solution:   Go through the <A HREF="syntax.html#syntax">syntax</A> stack to find items. (James McCoy)
	    Also use <A HREF="eval.html#getcurpos()">getcurpos()</A> when possible.
Files:	    runtime/plugin/matchparen.vim

Patch 7.4.398 (after 7.4.393)
Problem:    Gcc error for the argument of InterlockedIncrement() and
	    InterlockedDecrement(). (Axel Bender)
Solution:   Remove &quot;unsigned&quot; from the cRefCount_ declaration.
Files:	    src/gui_dwrite.cpp

Patch 7.4.399
Problem:    Encryption implementation is messy.  Blowfish <A HREF="editing.html#encryption">encryption</A> has a
	    weakness.
Solution:   Refactor the <A HREF="editing.html#encryption">encryption</A>, store the state in an allocated struct
	    instead of using a save/restore mechanism.  Introduce the
	    &quot;<A HREF="options.html#blowfish2">blowfish2</A>&quot; method, which does not have the weakness and encrypts
	    the whole <A HREF="undo.html#undo">undo</A> file. (largely by David Leadbeater)
Files:	    runtime/doc/editing.txt, runtime/doc/options.txt, src/Makefile,
	    src/blowfish.c, src/crypt.c, src/crypt_zip.c, src/ex_docmd.c,
	    src/fileio.c, src/globals.h, src/main.c, src/memline.c,
	    src/misc2.c, src/option.c, src/proto.h, src/proto/blowfish.pro,
	    src/proto/crypt.pro, src/proto/crypt_zip.pro,
	    src/proto/fileio.pro, src/proto/misc2.pro, src/structs.h,
	    src/undo.c, src/testdir/test71.in, src/testdir/test71.ok,
	    src/testdir/test71a.in, src/testdir/test72.in,
	    src/testdir/test72.ok

Patch 7.4.400
Problem:    <A HREF="eval.html#List">List</A> of distributed files is incomplete.
Solution:   Add recently added files.
Files:	    Filelist

Patch 7.4.401 (after 7.4.399)
Problem:    Can't build on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Include the new files in all the Makefiles.
Files:	    src/Make_bc3.mak, src/Make_bc5.mak, src/Make_cyg.mak,
	    src/Make_dice.mak, src/Make_djg.mak, src/Make_ivc.mak,
	    src/Make_manx.mak, src/Make_ming.mak, src/Make_morph.mak,
	    src/Make_mvc.mak, src/Make_os2.mak, src/Make_sas.mak,
	    Make_vms.mms

Patch 7.4.402
Problem:    Test 72 crashes under certain conditions. (Kazunobu Kuriyama)
Solution:   Clear the whole bufinfo_T early.
Files:	    src/undo.c

Patch 7.4.403
Problem:    Valgrind reports <A HREF="message.html#errors">errors</A> when running test 72. (Dominique Pelle)
Solution:   Reset the local <A HREF="options.html#'cryptmethod'">'cryptmethod'</A> option before storing the seed.
	    Set the seed in the memfile even when there is no block0 yet.
Files:	    src/fileio.c, src/option.c, src/memline.c

Patch 7.4.404
Problem:    Windows 64 bit compiler warnings.
Solution:   Add type casts. (Mike Williams)
Files:	    src/crypt.c, src/undo.c

Patch 7.4.405
Problem:    Screen updating is slow when using matches.
Solution:   Do not use the &quot;&gt;=&quot; <A HREF="motion.html#as">as</A> in patch 7.4.362, check the lnum.
Files:	    src/screen.c, src/testdir/test63.in, src/testdir/test63.ok

Patch 7.4.406
Problem:    Test 72 and 100 fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set fileformat to <A HREF="os_unix.html#unix">unix</A> in the tests. (Taro Muraoka)
Files:	    src/testdir/test72.in, src/testdir/test100.in

Patch 7.4.407
Problem:    Inserting text for <A HREF="visual.html#Visual">Visual</A> block mode, with cursor <A HREF="intro.html#movement">movement</A>,
	    repeats the wrong text. (Aleksandar Ivanov)
Solution:   Reset the update_Insstart_orig flag. (Christian Brabandt)
Files:	    src/edit.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.408
Problem:    <A HREF="visual.html#Visual">Visual</A> block insert breaks a <A HREF="mbyte.html#multi-byte">multi-byte</A> character.
Solution:   Calculate the position properly. (Yasuhiro Matsumoto)
Files:	    src/ops.c, src/testdir/test_utf8.in, src/testdir/test_utf8.ok,
	    src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.409
Problem:    Can't build with <A HREF="if_perl.html#Perl">Perl</A> on Fedora 20.
Solution:   Find xsubpp in another directory. (Michael Henry)
Files:	    src/Makefile, src/config.mk.in, src/configure.in,
	    src/auto/configure

Patch 7.4.410
Problem:    Fold does not open after search when there is a <A HREF="autocmd.html#CmdwinLeave">CmdwinLeave</A>
	    <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Restore KeyTyped. (Jacob Niehus)
Files:	    src/ex_getln.c

Patch 7.4.411
Problem:    &quot;foo bar&quot; sorts before &quot;foo&quot; with <A HREF="eval.html#sort()">sort()</A>. (John Little)
Solution:   Avoid putting <A HREF="quotes.html#quotes">quotes</A> around strings before comparing them.
Files:	    src/eval.c

Patch 7.4.412
Problem:    Can't build on Windows XP with MSVC.
Solution:   Add SUBSYSTEM_VER to the Makefile. (Yongwei Wu)
Files:	    src/Make_mvc.mak, src/INSTALLpc.txt

Patch 7.4.413
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Using US international keyboard layout, <A HREF="insert.html#inserting">inserting</A> dead
	    key by pressing space does not always work.  Issue 250.
Solution:   Let <A HREF="os_win32.html#MS-Windows">MS-Windows</A> translate the message. (John Wellesz)
Files:	    src/gui_w48.c

Patch 7.4.414
Problem:    Cannot define a command only when it's used.
Solution:   Add the <A HREF="autocmd.html#CmdUndefined">CmdUndefined</A> <A HREF="autocmd.html#autocommand">autocommand</A> event. (partly by Yasuhiro
	    Matsumoto)
Files:	    runtime/doc/autocmd.txt, src/ex_docmd.c, src/fileio.c,
	    src/proto/fileio.pro

Patch 7.4.415 (after 7.4.414)
Problem:    Cannot build.  Warning for shadowed variable. (John Little)
Solution:   Add missing change.  Remove declaration.
Files:	    src/vim.h, src/ex_docmd.c

Patch 7.4.416
Problem:    Problem with breakindent/showbreak and tabs.
Solution:   Handle tabs differently. (Christian Brabandt)
Files:	    src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok,
	    src/charset.c

Patch 7.4.417
Problem:    After splitting a <A HREF="windows.html#window">window</A> and setting <A HREF="options.html#'breakindent'">'breakindent'</A> the default
	    minimum with is not respected.
Solution:   Call briopt_check() when <A HREF="uganda.html#copying">copying</A> <A HREF="options.html#options">options</A> to a new <A HREF="windows.html#window">window</A>.
Files:	    src/option.c, src/proto/option.pro,
	    src/testdir/test_breakindent.in

Patch 7.4.418
Problem:    When leaving &quot;<A HREF="insert.html#:append">:append</A>&quot; the cursor shape is like in <A HREF="insert.html#Insert">Insert</A> mode.
	    (Jacob Niehus)
Solution:   Do not have State set to INSERT when calling <A HREF="eval.html#getline()">getline()</A>.
Files:	    src/ex_cmds.c

Patch 7.4.419
Problem:    When part of a <A HREF="eval.html#list">list</A> is locked it's possible to make changes.
Solution:   Check if any of the <A HREF="eval.html#list">list</A> items is locked before make a change.
	    (ZyX)
Files:	    src/eval.c, src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.420
Problem:    It's not obvious how to add a new test.
Solution:   Add a README file. (Christian Brabandt)
Files:	    src/testdir/README.txt

Patch 7.4.421
Problem:    Crash when searching for &quot;\ze*&quot;. (Urtica Dioica)
Solution:   Disallow a multi after \ze and \zs.
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.422
Problem:    When using <A HREF="syntax.html#conceal">conceal</A> with linebreak some text is not displayed
	    correctly. (Grner Gimpel)
Solution:   Check for <A HREF="syntax.html#conceal">conceal</A> mode when using linebreak. (Christian Brabandt)
Files:	    src/screen.c, src/testdir/test_listlbr.in,
	    src/testdir/test_listlbr.ok

Patch 7.4.423
Problem:    expand(&quot;$shell&quot;) does not work <A HREF="motion.html#as">as</A> documented.
Solution:   Do not <A HREF="intro.html#escape">escape</A> the $ when expanding environment <A HREF="eval.html#variables">variables</A>.
Files:	    src/os_unix.c, src/misc1.c, src/vim.h

Patch 7.4.424
Problem:    Get ml_get error when using <A HREF="if_pyth.html#Python">Python</A> to delete lines in a buffer
	    that is not in a <A HREF="windows.html#window">window</A>.  issue 248.
Solution:   Do not try adjusting the cursor for a different buffer.
Files:	    src/if_py_both.h

Patch 7.4.425
Problem:    When <A HREF="options.html#'showbreak'">'showbreak'</A> is used &quot;<A HREF="motion.html#gj">gj</A>&quot; may move to the wrong position.
	    (Nazri Ramliy)
Solution:   Adjust virtcol when <A HREF="options.html#'showbreak'">'showbreak'</A> is set. (Christian Brabandt)
Files:	    src/normal.c

Patch 7.4.426
Problem:    README File missing from <A HREF="eval.html#list">list</A> of files.
Solution:   Update the <A HREF="eval.html#list">list</A> of files.
Files:	    Filelist

Patch 7.4.427
Problem:    When an <A HREF="autocmd.html#InsertCharPre">InsertCharPre</A> <A HREF="autocmd.html#autocommand">autocommand</A> executes <A HREF="eval.html#system()">system()</A> typeahead may
	    be echoed and messes up the display. (Jacob Niehus)
Solution:   Do not set cooked mode when invoked from &quot;<A HREF="various.html#:silent">:silent</A>&quot;.
Files:	    src/eval.c, runtime/doc/eval.txt

Patch 7.4.428
Problem:    <A HREF="eval.html#executable()">executable()</A> may return a wrong result on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Change the way SearchPath() is called. (Yasuhiro Matsumoto, Ken
	    Takata)
Files:	    src/os_win32.c

Patch 7.4.429
Problem:    Build fails with fewer features. (Elimar Riesebieter)
Solution:   Add #ifdef.
Files:	    src/normal.c

Patch 7.4.430
Problem:    test_listlbr fails when compiled with normal features.
Solution:   Check for the <A HREF="various.html#+conceal">+conceal</A> feature.
Files:	    src/testdir/test_listlbr.in

Patch 7.4.431
Problem:    Compiler warning.
Solution:   Add type cast. (Mike Williams)
Files:	    src/ex_docmd.c

Patch 7.4.432
Problem:    When the <A HREF="starting.html#startup">startup</A> code expands command line arguments, setting
	    <A HREF="options.html#'encoding'">'encoding'</A> will not properly convert the arguments.
Solution:   Call get_cmd_argsW() early in main(). (Yasuhiro Matsumoto)
Files:	    src/os_win32.c, src/main.c, src/os_mswin.c

Patch 7.4.433
Problem:    Test 75 fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use &quot;<A HREF="various.html#:normal">:normal</A>&quot; instead of <A HREF="eval.html#feedkeys()">feedkeys()</A>. (Michael Soyka)
Files:	    src/testdir/test75.in

Patch 7.4.434
Problem:    <A HREF="eval.html#gettabvar()">gettabvar()</A> is not consistent with <A HREF="eval.html#getwinvar()">getwinvar()</A> and <A HREF="eval.html#getbufvar()">getbufvar()</A>.
Solution:   Return a <A HREF="eval.html#dict">dict</A> with all <A HREF="eval.html#variables">variables</A> when the varname is empty.
	    (Yasuhiro Matsumoto)
Files:	    src/eval.c, runtime/doc/eval.txt, src/testdir/test91.in,
	    src/testdir/test91.ok

Patch 7.4.435
Problem:    Line <A HREF="change.html#formatting">formatting</A> behaves differently when <A HREF="options.html#'linebreak'">'linebreak'</A> is set.
	    (mvxxc)
Solution:   Disable <A HREF="options.html#'linebreak'">'linebreak'</A> temporarily. (Christian Brabandt)
Files:	    src/edit.c

Patch 7.4.436
Problem:    ml_get error for <A HREF="autocmd.html#autocommand">autocommand</A> that moves the cursor of the current
	    <A HREF="windows.html#window">window</A>.
Solution:   Check the cursor position after switching back to the current
	    buffer.  (Christian Brabandt)
Files:	    src/fileio.c

Patch 7.4.437
Problem:    New and old <A HREF="pattern.html#regexp">regexp</A> engine are not consistent.
Solution:   Also give an error for &quot;\ze*&quot; for the old <A HREF="pattern.html#regexp">regexp</A> engine.
Files:	    src/regexp.c, src/regexp_nfa.c

Patch 7.4.438
Problem:    Cached values for <A HREF="options.html#'cino'">'cino'</A> not reset for &quot;<A HREF="options.html#:set">:set</A> all&amp;&quot;.
Solution:   Call parse_cino(). (Yukihiro Nakadaira)
Files:	    src/option.c

Patch 7.4.439
Problem:    Duplicate message in message <A HREF="cmdline.html#history">history</A>.  Some <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="message.html#messages">messages</A>
	    appear <A HREF="if_cscop.html#twice">twice</A>. (Gary Johnson)
Solution:   Do not reset keep_msg too early. (Hirohito Higashi)
Files:	    src/main.c

Patch 7.4.440
Problem:    Omni complete popup drawn incorrectly.
Solution:   Call validate_cursor() instead of check_cursor(). (Hirohito
	    Higashi)
Files:	    src/edit.c

Patch 7.4.441
Problem:    Endless loop and other problems when <A HREF="options.html#'cedit'">'cedit'</A> is set to <A HREF="pattern.html#CTRL-C">CTRL-C</A>.
Solution:   Do not call ex_window() when ex_normal_busy or got_int was set.
	    (Yasuhiro Matsumoto)
Files:	    src/ex_getln.c

Patch 7.4.442 (after 7.4.434)
Problem:    Using uninitialized variable.
Solution:   Pass the first <A HREF="windows.html#window">window</A> of the <A HREF="tabpage.html#tabpage">tabpage</A>.
Files:	    src/eval.c

Patch 7.4.443
Problem:    Error reported by ubsan when running test 72.
Solution:   Add type cast to unsigned. (Dominique Pelle)
Files:	    src/undo.c

Patch 7.4.444
Problem:    Reversed question <A HREF="motion.html#mark">mark</A> not recognized <A HREF="motion.html#as">as</A> punctuation. (Issue 258)
Solution:   Add the Supplemental Punctuation range.
Files:	    src/mbyte.c

Patch 7.4.445
Problem:    Clipboard may be cleared on <A HREF="starting.html#startup">startup</A>.
Solution:   Set clip_did_set_selection to -1 during <A HREF="starting.html#startup">startup</A>. (Christian
	    Brabandt)
Files:	    src/main.c, src/ui.c

Patch 7.4.446
Problem:    In some situations, when setting up an environment to trigger an
	    <A HREF="autocmd.html#autocommand">autocommand</A>, the environment is not properly restored.
Solution:   Check the return value of switch_win() and call restore_win()
	    always.  (Daniel Hahler)
Files:	    src/eval.c, src/misc2.c, src/window.c

Patch 7.4.447
Problem:    Spell files from Hunspell may generate a lot of <A HREF="message.html#errors">errors</A>.
Solution:   Add the IGNOREEXTRA flag.
Files:	    src/spell.c, runtime/doc/spell.txt

Patch 7.4.448
Problem:    Using ETO_IGNORELANGUAGE causes problems.
Solution:   Remove this flag. (Paul Moore)
Files:	    src/gui_w32.c

Patch 7.4.449
Problem:    Can't easily close the help <A HREF="windows.html#window">window</A>. (Chris Gaal)
Solution:   Add &quot;<A HREF="helphelp.html#:helpclose">:helpclose</A>&quot;. (Christian Brabandt)
Files:	    runtime/doc/helphelp.txt, runtime/doc/index.txt, src/ex_cmds.c,
	    src/ex_cmds.h, src/proto/ex_cmds.pro

Patch 7.4.450
Problem:    Not all commands that edit another buffer support the <A HREF="editing.html#+cmd">+cmd</A>
	    argument.
Solution:   Add the <A HREF="editing.html#+cmd">+cmd</A> argument to relevant commands. (Marcin Szamotulski)
Files:	    runtime/doc/windows.txt, src/ex_cmds.h, src/ex_docmd.c

Patch 7.4.451
Problem:    Calling <A HREF="eval.html#system()">system()</A> with empty input gives an error for <A HREF="editing.html#writing">writing</A> the
	    temp file.
Solution:   Do not try <A HREF="editing.html#writing">writing</A> if the <A HREF="eval.html#string">string</A> length is zero. (Olaf Dabrunz)
Files:	    src/eval.c

Patch 7.4.452
Problem:    Can't build with tiny features. (Tony Mechelynck)
Solution:   Use &quot;return&quot; instead of &quot;break&quot;.
Files:	    src/ex_cmds.c

Patch 7.4.453
Problem:    Still can't build with tiny features.
Solution:   Add #ifdef.
Files:	    src/ex_cmds.c

Patch 7.4.454
Problem:    When using a <A HREF="visual.html#Visual">Visual</A> selection of multiple words and doing <A HREF="windows.html#CTRL-W_]">CTRL-W_]</A>
	    <A HREF="motion.html#it">it</A> jumps to the <A HREF="tagsrch.html#tag">tag</A> matching the <A HREF="motion.html#word">word</A> under the cursor, not the
	    selected text.  (Patrick hemmer)
Solution:   Do not reset <A HREF="visual.html#Visual">Visual</A> mode. (idea by Christian Brabandt)
Files:	    src/window.c

Patch 7.4.455
Problem:    Completion for <A HREF="windows.html#:buf">:buf</A> does not use <A HREF="options.html#'wildignorecase'">'wildignorecase'</A>. (Akshay <A HREF="motion.html#H">H</A>)
Solution:   Pass the <A HREF="options.html#'wildignorecase'">'wildignorecase'</A> flag around.
Files:	    src/buffer.c

Patch 7.4.456
Problem:    <A HREF="options.html#'backupcopy'">'backupcopy'</A> is global, cannot write only some files in a
	    different way.
Solution:   Make <A HREF="options.html#'backupcopy'">'backupcopy'</A> <A HREF="options.html#global-local">global-local</A>. (Christian Brabandt)
Files:	    runtime/doc/options.txt, src/buffer.c, src/fileio.c, src/option.c,
	    src/option.h, src/proto/option.pro, src/structs.h

Patch 7.4.457
Problem:    Using <A HREF="eval.html#getchar()">getchar()</A> in an <A HREF="eval.html#expression">expression</A> <A HREF="map.html#mapping">mapping</A> may result in
	    K_CURSORHOLD, which can't be recognized.
Solution:   Add the <A HREF="autocmd.html#&lt;CursorHold&gt;">&lt;CursorHold&gt;</A> key.  (Hirohito Higashi)
Files:	    src/misc2.c

Patch 7.4.458
Problem:    Issue 252: Cursor moves in a zero-height <A HREF="windows.html#window">window</A>.
Solution:   Check for zero height. (idea by Christian Brabandt)
Files:	    src/move.c

Patch 7.4.459
Problem:    Can't change the icon after building Vim.
Solution:   Load the icon from a file on <A HREF="starting.html#startup">startup</A>. (Yasuhiro Matsumoto)
Files:	    src/gui_w32.c, src/os_mswin.c, src/os_win32.c,
	    src/proto/os_mswin.pro

Patch 7.4.460 (after 7.4.454)
Problem:    Can't build without the <A HREF="quickfix.html#quickfix">quickfix</A> feature. (Erik Falor)
Solution:   Add a #ifdef.
Files:	    src/window.c

Patch 7.4.461
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: When collate is on the number of copies is too high.
Solution:   Only set the collated/uncollated <A HREF="intro.html#count">count</A> when collate is on.
	    (Yasuhiro Matsumoto)
Files:	    src/os_mswin.c

Patch 7.4.462
Problem:    Setting the local value of <A HREF="options.html#'backupcopy'">'backupcopy'</A> empty gives an error.
	    (Peter Mattern)
Solution:   When using an empty value set the flags to zero. (Hirohito
	    Higashi)
Files:	    src/option.c

Patch 7.4.463
Problem:    Test 86 and 87 may hang on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Call <A HREF="eval.html#inputrestore()">inputrestore()</A> after <A HREF="eval.html#inputsave()">inputsave()</A>. (Ken Takata)
Files:	    src/testdir/test86.in, src/testdir/test87.in

Patch 7.4.464 (after 7.4.459)
Problem:    Compiler warning.
Solution:   Add type cast. (Ken Takata)
Files:	    src/gui_w32.c

Patch 7.4.465 (after 7.4.016)
Problem:    Crash when expanding a very long <A HREF="eval.html#string">string</A>.
Solution:   Use wcsncpy() instead of wcscpy(). (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.466 (after 7.4.460)
Problem:    <A HREF="index.html#CTRL-W">CTRL-W</A> } does not open preview <A HREF="windows.html#window">window</A>. (Erik Falor)
Solution:   Don't set g_do_tagpreview for <A HREF="index.html#CTRL-W">CTRL-W</A> }.
Files:	    src/window.c

Patch 7.4.467
Problem:    <A HREF="options.html#'linebreak'">'linebreak'</A> does not work well together with <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Disable <A HREF="options.html#'linebreak'">'linebreak'</A> while applying an <A HREF="motion.html#operator">operator</A>.  Fix the test.
	    (Christian Brabandt)
Files:	    src/normal.c, src/screen.c, src/testdir/test_listlbr.in,
	    src/testdir/test_listlbr.ok

Patch 7.4.468
Problem:    Issue 26: <A HREF="pattern.html#CTRL-C">CTRL-C</A> does not interrupt after <A HREF="motion.html#it">it</A> was mapped and then
	    unmapped.
Solution:   Reset mapped_ctrl_c. (Christian Brabandt)
Files:	    src/getchar.c

Patch 7.4.469 (after 7.4.467)
Problem:    Can't build with MSVC. (Ken Takata)
Solution:   Move the assignment after the declarations.
Files:	    src/normal.c

Patch 7.4.470
Problem:    Test 11 and 100 <A HREF="diff.html#do">do</A> not work properly on Windows.
Solution:   Avoid using <A HREF="eval.html#feedkeys()">feedkeys()</A>. (Ken Takata)
Files:	    src/testdir/Make_dos.mak, src/testdir/test11.in,
	    src/testdir/test100.in

Patch 7.4.471
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: When printer name contains <A HREF="mbyte.html#multi-byte">multi-byte</A>, the name is
	    displayed <A HREF="motion.html#as">as</A> ???.
Solution:   Convert the printer name from the active codepage to <A HREF="options.html#'encoding'">'encoding'</A>.
	    (Yasuhiro Matsumoto)
Files:	    src/os_mswin.c

Patch 7.4.472
Problem:    The &quot;precedes&quot; entry in 'listchar' will be drawn when <A HREF="options.html#'showbreak'">'showbreak'</A>
	    is set and <A HREF="options.html#'list'">'list'</A> is not.
Solution:   Only draw this character when <A HREF="options.html#'list'">'list'</A> is on. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.473
Problem:    Cursor <A HREF="intro.html#movement">movement</A> is incorrect when there is a number/sign/fold
	    column and <A HREF="options.html#'sbr'">'sbr'</A> is displayed.
Solution:   Adjust the column for <A HREF="options.html#'sbr'">'sbr'</A>. (Christian Brabandt)
Files:	    src/charset.c

Patch 7.4.474
Problem:    AIX compiler can't handle <A HREF="version7.html#//">//</A> comment.  Issue 265.
Solution:   Remove that line.
Files:	    src/regexp_nfa.c

Patch 7.4.475
Problem:    Can't compile on a system where Xutf8SetWMProperties() is not in
	    the <A HREF="options.html#X11">X11</A> library.  Issue 265.
Solution:   Add a configure check.
Files:	    src/configure.in, src/auto/configure, src/config.h.in,
	    src/os_unix.c

Patch 7.4.476
Problem:    MingW: compiling with &quot;XPM=no&quot; doesn't work.
Solution:   Check for the &quot;no&quot; value. (KF Leong)  Also for Cygwin. (Ken
	    Takata)
Files:	    src/Make_ming.mak, src/Make_cyg.mak

Patch 7.4.477
Problem:    When using &quot;:&#37;diffput&quot; and the other file is empty an extra empty
	    line remains.
Solution:   Set the buf_empty flag.
Files:	    src/diff.c

Patch 7.4.478
Problem:    Using byte length instead of character length for <A HREF="options.html#'showbreak'">'showbreak'</A>.
Solution:   Compute the character length. (Marco Hinz)
Files:	    src/charset.c

Patch 7.4.479
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: The console title can be wrong.
Solution:   Take the encoding into account. When restoring the title use the
	    right function. (Yasuhiro Matsumoto)
Files:	    src/os_mswin.c, src/os_win32.c

Patch 7.4.480 (after 7.4.479)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Can't build.
Solution:   Remove goto, use a flag instead.
Files:	    src/os_win32.c

Patch 7.4.481 (after 7.4.471)
Problem:    Compiler warning on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add type casts. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.482
Problem:    When <A HREF="options.html#'balloonexpr'">'balloonexpr'</A> results in a <A HREF="eval.html#list">list</A>, the text has a trailing
	    newline. (Lcd)
Solution:   Remove one trailing newline.
Files:	    src/gui_beval.c

Patch 7.4.483
Problem:    A 0x80 byte is not handled correctly in <A HREF="map.html#abbreviations">abbreviations</A>.
Solution:   Unescape special characters. Add a test. (Christian Brabandt)
Files:	    src/getchar.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_mapping.in,
	    src/testdir/test_mapping.ok

Patch 7.4.484 (after 7.4.483)
Problem:    Compiler warning on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ken Takata)
Solution:   Add type cast.
Files:	    src/getchar.c

Patch 7.4.485 (after 7.4.484)
Problem:    <A HREF="map.html#Abbreviations">Abbreviations</A> don't work. (Toothpik)
Solution:   Move the length computation inside the for loop.  Compare against
	    the unescaped key.
Files:	    src/getchar.c

Patch 7.4.486
Problem:    Check for <A HREF="editing.html#writing">writing</A> to a <A HREF="change.html#yank">yank</A> <A HREF="sponsor.html#register">register</A> is wrong.
Solution:   Negate the check. (Zyx).  Also clean up the #ifdefs.
Files:	    src/ex_docmd.c, src/ex_cmds.h

Patch 7.4.487
Problem:    &quot;<A HREF="sign.html#:sign">:sign</A> jump&quot; may use another <A HREF="windows.html#window">window</A> even though the file is
	    already edited in the current <A HREF="windows.html#window">window</A>.
Solution:   First check if the file is in the current <A HREF="windows.html#window">window</A>. (James McCoy)
Files:	    src/window.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_signs.in,
	    src/testdir/test_signs.ok

Patch 7.4.488
Problem:    test_mapping fails for some people.
Solution:   Set the <A HREF="options.html#'encoding'">'encoding'</A> option. (Ken Takata)
Files:	    src/testdir/test_mapping.in

Patch 7.4.489
Problem:    Cursor <A HREF="intro.html#movement">movement</A> still wrong when <A HREF="options.html#'lbr'">'lbr'</A> is set and there is a
	    number column. (Hirohito Higashi)
Solution:   Add correction for number column. (Hiroyuki Takagi)
Files:	    src/charset.c

Patch 7.4.490
Problem:    Cannot specify the buffer to use for &quot;<A HREF="diff.html#do">do</A>&quot; and &quot;<A HREF="diff.html#dp">dp</A>&quot;, making them
	    useless for three-way <A HREF="diff.html#diff">diff</A>.
Solution:   Use the <A HREF="intro.html#count">count</A> <A HREF="motion.html#as">as</A> the buffer number. (James McCoy)
Files:	    runtime/doc/diff.txt, src/diff.c, src/normal.c, src/proto/diff.pro

Patch 7.4.491
Problem:    When <A HREF="eval.html#winrestview()">winrestview()</A> has a negative &quot;topline&quot; value there are
	    display <A HREF="message.html#errors">errors</A>.
Solution:   Correct a negative value to 1. (Hirohito Higashi)
Files:	    src/eval.c

Patch 7.4.492
Problem:    In <A HREF="insert.html#Insert">Insert</A> mode, after <A HREF="insert.html#inserting">inserting</A> a newline that inserts a comment
	    leader, <A HREF="motion.html#CTRL-O">CTRL-O</A> moves to the right. (ZyX) Issue 57.
Solution:   Correct the condition for moving the cursor back to the NUL.
	    (Christian Brabandt)
Files:	    src/edit.c, src/testdir/test4.in, src/testdir/test4.ok

Patch 7.4.493
Problem:    A <A HREF="autocmd.html#TextChanged">TextChanged</A> <A HREF="autocmd.html#autocommand">autocommand</A> is triggered when saving a file.
	    (William Gardner)
Solution:   Update last_changedtick after calling unchanged(). (Christian
	    Brabandt)
Files:	    src/fileio.c

Patch 7.4.494
Problem:    Cursor shape is wrong after a <A HREF="autocmd.html#CompleteDone">CompleteDone</A> <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Update the cursor and mouse shape after &quot;<A HREF="various.html#:normal">:normal</A>&quot; restores the
	    state. (Jacob Niehus)
Files:	    src/ex_docmd.c

Patch 7.4.495
Problem:    XPM isn't used correctly in the Cygwin Makefile.
Solution:   Include the rules like in Make_ming.mak. (Ken Takata)
Files:	    src/Make_cyg.mak

Patch 7.4.496
Problem:    Many lines are both in Make_cyg.mak and Make_ming.mak
Solution:   Move the common parts to one file. (Ken Takata)
Files:	    src/INSTALLpc.txt, src/Make_cyg.mak, src/Make_cyg_ming.mak,
	    src/Make_ming.mak, src/Make_mvc.mak, Filelist

Patch 7.4.497
Problem:    With some <A HREF="pattern.html#regexp">regexp</A> patterns the <A HREF="pattern.html#NFA">NFA</A> engine uses many states and
	    becomes very slow.  To the user <A HREF="motion.html#it">it</A> looks like Vim freezes.
Solution:   When the number of states reaches a limit fall back to the old
	    engine. (Christian Brabandt)
Files:	    runtime/doc/options.txt, src/Makefile, src/regexp.c, src/regexp.h,
	    src/regexp_nfa.c, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Makefile, src/testdir/samples/re.freeze.txt,
	    src/testdir/bench_re_freeze.in, src/testdir/bench_re_freeze.vim,
	    Filelist

Patch 7.4.498 (after 7.4.497)
Problem:    Typo in <A HREF="os_dos.html#DOS">DOS</A> makefile.
Solution:   Change exists to exist. (Ken Takata)
Files:	    src/testdir/Make_dos.mak

Patch 7.4.499
Problem:    <A HREF="eval.html#substitute()">substitute()</A> can be slow with long strings.
Solution:   Store a pointer to the end, instead of calling <A HREF="eval.html#strlen()">strlen()</A> every
	    time. (Ozaki Kiichi)
Files:	    src/eval.c

Patch 7.4.500
Problem:    Test 72 still fails once in a while.
Solution:   Don't set <A HREF="options.html#'fileformat'">'fileformat'</A> to <A HREF="os_unix.html#unix">unix</A>, reset <A HREF="motion.html#it">it</A>. (Ken Takata)
Files:	    src/testdir/test72.in

Patch 7.4.501 (after 7.4.497)
Problem:    Typo in file <A HREF="pattern.html#pattern">pattern</A>.
Solution:   <A HREF="insert.html#Insert">Insert</A> a slash and remove a dot.
Files:	    Filelist

Patch 7.4.502
Problem:    Language <A HREF="map.html#mapping">mapping</A> also applies to mapped characters.
Solution:   Add the <A HREF="options.html#'langnoremap'">'langnoremap'</A> option, when on <A HREF="options.html#'langmap'">'langmap'</A> does not apply to
	    mapped characters. (Christian Brabandt)
Files:	    runtime/doc/options.txt, runtime/vimrc_example.vim, src/macros.h,
	    src/option.c, src/option.h

Patch 7.4.503
Problem:    Cannot append a <A HREF="eval.html#list">list</A> of lines to a file.
Solution:   Add the append option to <A HREF="eval.html#writefile()">writefile()</A>. (Yasuhiro Matsumoto)
Files:	    runtime/doc/eval.txt, src/Makefile, src/eval.c,
	    src/testdir/test_writefile.in, src/testdir/test_writefile.ok

Patch 7.4.504
Problem:    Restriction of the <A HREF="os_win32.html#MS-Windows">MS-Windows</A> installer that the path must end in
	    &quot;Vim&quot; prevents installing more than one version.
Solution:   Remove the restriction. (Tim Lebedkov)
Files:	    nsis/gvim.nsi

Patch 7.4.505
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> when <A HREF="options.html#'encoding'">'encoding'</A> is a double-byte encoding a file
	    name longer than MAX_PATH bytes but shorter than that in
	    characters causes problems.
Solution:   Fail on file names longer than MAX_PATH bytes. (Ken Takata)
Files:	    src/os_win32.c

Patch 7.4.506
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Cannot open a file with 259 characters.
Solution:   Fix off-by-one error. (Ken Takata)
Files:	    src/os_mswin.c

Patch 7.4.507 (after 7.4.496)
Problem:    Building with MingW and <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Remove <A HREF="quotes.html#quotes">quotes</A>. (Ken Takata)
Files:	    src/Make_cyg_ming.mak

Patch 7.4.508
Problem:    When generating ja.sjis.po the header is not correctly adjusted.
Solution:   Check for the right header <A HREF="eval.html#string">string</A>. (Ken Takata)
Files:	    src/po/sjiscorr.c

Patch 7.4.509
Problem:    Users are not aware their <A HREF="editing.html#encryption">encryption</A> is weak.
Solution:   Give a warning when prompting for the key.
Files:	    src/crypt.c, src/ex_docmd.c, src/fileio.c, src/main.c,
	    src/proto/crypt.pro

Patch 7.4.510
Problem:    &quot;-fwrapv&quot; argument breaks use of cproto.
Solution:   Remove the alphabetic arguments in a drastic way.
Files:	    src/Makefile

Patch 7.4.511
Problem:    Generating proto for if_ruby.c uses type not defined elsewhere.
Solution:   Do not generate a prototype for
	    rb_gc_writebarrier_unprotect_promoted()
Files:	    src/if_ruby.c

Patch 7.4.512
Problem:    Cannot generate prototypes for <A HREF="os_win32.html#Win32">Win32</A> files and <A HREF="os_vms.html#VMS">VMS</A>.
Solution:   Add typedefs and #ifdef
Files:	    src/os_win32.c, src/gui_w32.c, src/os_vms.c

Patch 7.4.513
Problem:    Crash because reference <A HREF="intro.html#count">count</A> is wrong for <A HREF="eval.html#list">list</A> returned by
	    <A HREF="eval.html#getreg()">getreg()</A>.
Solution:   Increment the reference <A HREF="intro.html#count">count</A>. (Kimmy Lindvall)
Files:	    src/eval.c

Patch 7.4.514 (after 7.4.492)
Problem:    Memory access error. (Dominique Pelle)
Solution:   Update tpos. (Christian Brabandt)
Files:	    src/edit.c

Patch 7.4.515
Problem:    In a help buffer the global <A HREF="options.html#'foldmethod'">'foldmethod'</A> is used.  (Paul Marshall)
Solution:   Reset <A HREF="options.html#'foldmethod'">'foldmethod'</A> when starting to edit a help file.  Move the
	    code to a separate function.
Files:	    src/ex_cmds.c

Patch 7.4.516
Problem:    Completing a function name containing a # does not work.  Issue
	    253.
Solution:   Recognize the # character. (Christian Brabandt)
Files:	    src/eval.c

Patch 7.4.517
Problem:    With a wrapping line the cursor may not end up in the right place.
	    (Nazri Ramliy)
Solution:   Adjust n_extra for a <A HREF="intro.html#Tab">Tab</A> that wraps. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.518
Problem:    Using status line height in width computations.
Solution:   Use one instead. (Hirohito Higashi)
Files:	    src/window.c

Patch 7.4.519 (after 7.4.497)
Problem:    Crash when using <A HREF="syntax.html#syntax">syntax</A> highlighting.
Solution:   When regprog is freed and replaced, store the result.
Files:	    src/buffer.c, src/regexp.c, src/syntax.c, src/spell.c,
	    src/ex_cmds2.c, src/fileio.c, src/proto/fileio.pro,
	    src/proto/regexp.pro, src/os_unix.c

Patch 7.4.520
Problem:    Sun PCK <A HREF="mbyte.html#locale">locale</A> is not recognized.
Solution:   Add PCK in the table. (Keiichi Oono)
Files:	    src/mbyte.c

Patch 7.4.521
Problem:    When using &quot;vep&quot; a <A HREF="motion.html#mark">mark</A> is moved to the next line. (Maxi Padulo,
	    Issue 283)
Solution:   Decrement the line number. (Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.522
Problem:    Specifying wrong buffer size for GetLongPathName().
Solution:   Use the actual size. (Ken Takata)
Files:	    src/eval.c

Patch 7.4.523
Problem:    When the <A HREF="options.html#X11">X11</A> server is stopped and restarted, while Vim is kept in
	    the background, copy/paste no longer works. (Issue 203)
Solution:   Setup the <A HREF="gui.html#clipboard">clipboard</A> again. (Christian Brabandt)
Files:	    src/os_unix.c

Patch 7.4.524
Problem:    When using &quot;<A HREF="syntax.html#:ownsyntax">:ownsyntax</A>&quot; <A HREF="spell.html#spell">spell</A> checking is messed up. (Issue 78)
Solution:   Use the window-local option values. (Christian Brabandt)
Files:	    src/option.c, src/syntax.c

Patch 7.4.525
Problem:    <A HREF="eval.html#map()">map()</A> leaks memory when there is an error in the <A HREF="eval.html#expression">expression</A>.
Solution:   Call clear_tv(). (Christian Brabandt)
Files:	    src/eval.c

Patch 7.4.526
Problem:    <A HREF="eval.html#matchstr()">matchstr()</A> fails on long text. (Daniel Hahler)
Solution:   Return NFA_TOO_EXPENSIVE from regexec_nl(). (Christian Brabandt)
Files:	    src/regexp.c

Patch 7.4.527
Problem:    Still confusing <A HREF="pattern.html#regexp">regexp</A> failure and NFA_TOO_EXPENSIVE.
Solution:   <A HREF="pattern.html#NFA">NFA</A> changes equivalent of 7.4.526.
Files:	    src/regexp_nfa.c

Patch 7.4.528
Problem:    Crash when using <A HREF="eval.html#matchadd()">matchadd()</A> (Yasuhiro Matsumoto)
Solution:   Copy the match regprog.
Files:	    src/screen.c

Patch 7.4.529
Problem:    No test for what 7.4.517 fixes.
Solution:   Adjust the tests for breakindent. (Christian Brabandt)
Files:	    src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok

Patch 7.4.530
Problem:    Many commands take a <A HREF="intro.html#count">count</A> or range that is not using line
	    numbers.
Solution:   For each command specify what kind of <A HREF="intro.html#count">count</A> <A HREF="motion.html#it">it</A> uses.  For <A HREF="windows.html#windows">windows</A>,
	    <A HREF="windows.html#buffers">buffers</A> and arguments have &quot;<A HREF="motion.html#$">$</A>&quot; and &quot;<A HREF="repeat.html#.">.</A>&quot; have a relevant meaning.
	    (Marcin Szamotulski)
Files:	    runtime/doc/editing.txt, runtime/doc/tabpage.txt,
	    runtime/doc/windows.txt, src/Makefile, src/ex_cmds.h,
	    src/ex_docmd.c, src/testdir/Make_amiga.mak
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_argument_count.in,
	    src/testdir/test_argument_count.ok,
	    src/testdir/test_close_count.in, src/testdir/test_close_count.ok,
	    src/window.c

Patch 7.4.531
Problem:    Comments about parsing an <A HREF="intro.html#Ex">Ex</A> command are wrong.
Solution:   Correct the step numbers.
Files:	    src/ex_docmd.c

Patch 7.4.532
Problem:    When using <A HREF="options.html#'incsearch'">'incsearch'</A> &quot;2/pattern/e&quot; highlights the first match.
Solution:   Move the code to set extra_col inside the loop for <A HREF="intro.html#count">count</A>.  (Ozaki
	    Kiichi)
Files:	    src/search.c

Patch 7.4.533
Problem:    &quot;<A HREF="print.html#:hardcopy">:hardcopy</A>&quot; leaks memory in <A HREF="change.html#case">case</A> of <A HREF="message.html#errors">errors</A>.
Solution:   Free memory in all code paths. (Christian Brabandt)
Files:	    src/hardcopy.c

Patch 7.4.534
Problem:    Warnings when compiling if_ruby.c.
Solution:   Avoid the warnings. (Ken Takata)
Files:	    src/if_ruby.c

Patch 7.4.535 (after 7.4.530)
Problem:    Can't build with tiny features.
Solution:   Add #ifdefs and skip a test.
Files:	    src/ex_docmd.c, src/testdir/test_argument_count.in

Patch 7.4.536
Problem:    Test 63 fails when using a black&amp;white <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add attributes for a non-color <A HREF="terminal.html#terminal">terminal</A>. (Christian Brabandt)
Files:	    src/testdir/test63.in

Patch 7.4.537
Problem:    Value of <A HREF="eval.html#v:hlsearch">v:hlsearch</A> reflects an internal variable.
Solution:   Make the value reflect whether search highlighting is actually
	    displayed. (Christian Brabandt)
Files:	    runtime/doc/eval.txt, src/testdir/test101.in,
	    src/testdir/test101.ok, src/vim.h

Patch 7.4.538
Problem:    Tests fail with small features plus <A HREF="if_pyth.html#Python">Python</A>.
Solution:   Disallow weird combination of <A HREF="options.html#options">options</A>.  Do not set &quot;fdm&quot; when
	    <A HREF="fold.html#folding">folding</A> is disabled.
Files:	    src/option.c, src/ex_cmds.c, src/configure.in, src/auto/configure,
	    src/feature.h

Patch 7.4.539 (after 7.4.530)
Problem:    Crash when computing buffer <A HREF="intro.html#count">count</A>.  Problem with range for user
	    commands.  Line range wrong in <A HREF="visual.html#Visual">Visual</A> area.
Solution:   Avoid segfault in compute_buffer_local_count().  Check for
	    CMD_USER when checking type of range. (Marcin Szamotulski)
Files:	    runtime/doc/windows.txt, src/ex_docmd.c

Patch 7.4.540 (after 7.4.539)
Problem:    Cannot build with tiny and small features. (Taro Muraoka)
Solution:   Add #ifdef around CMD_USER.
Files:	    src/ex_docmd.c

Patch 7.4.541
Problem:    Crash when doing a range assign.
Solution:   Check for NULL pointer. (Yukihiro Nakadaira)
Files:	    src/eval.c, src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.542
Problem:    Using a range for <A HREF="windows.html#window">window</A> and buffer commands has a few problems.
	    Cannot specify the type of range for a user command.
Solution:   Add the -addr argument for user commands.  Fix problems. (Marcin
	    Szamotulski)
Files:	    src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok src/testdir/Make_amiga.mak
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, runtime/doc/map.txt, src/Makefile,
	    src/ex_cmds.h, src/ex_docmd.c, src/ex_getln.c,
	    src/proto/ex_docmd.pro, src/vim.h,

Patch 7.4.543
Problem:    Since patch 7.4.232 &quot;1,3s/\n//&quot; joins two lines instead of three.
	    (Eliseo Martnez)  Issue 287
Solution:   Correct the line <A HREF="intro.html#count">count</A>. (Christian Brabandt)
	    Also set the last used search <A HREF="pattern.html#pattern">pattern</A>.
Files:	    src/ex_cmds.c, src/search.c, src/proto/search.pro

Patch 7.4.544
Problem:    Warnings for unused arguments when compiling with a combination of
	    features.
Solution:   Add &quot;UNUSED&quot;.
Files:	    src/if_cscope.c

Patch 7.4.545
Problem:    Highlighting for multi-line matches is not correct.
Solution:   Stop highlight at the end of the match. (Hirohito Higashi)
Files:	    src/screen.c

Patch 7.4.546
Problem:    Repeated use of vim_snprintf() with a number.
Solution:   Move these vim_snprintf() calls into a function.
Files:	    src/window.c

Patch 7.4.547
Problem:    Using &quot;vit&quot; does not select a <A HREF="mbyte.html#multi-byte">multi-byte</A> character at the end
	    correctly.
Solution:   Advance the cursor over the <A HREF="mbyte.html#multi-byte">multi-byte</A> character. (Christian
	    Brabandt)
Files:	    src/search.c

Patch 7.4.548
Problem:    Compilation fails with native version of MinGW-w64, because
	    <A HREF="motion.html#it">it</A> doesn't have x86_64-w64-mingw32-windres.exe.
Solution:   Use windres instead. (Ken Takata)
Files:	    src/Make_cyg_ming.mak

Patch 7.4.549
Problem:    Function name not recognized correctly when inside a function.
Solution:   Don't check for an alpha character. (Ozaki Kiichi)
Files:	    src/eval.c, src/testdir/test_nested_function.in,
	    src/testdir/test_nested_function.ok, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile

Patch 7.4.550
Problem:    curs_rows() function is always called with the second argument
	    false.
Solution:   Remove the argument. (Christian Brabandt)
	    validate_botline_win() can then also be removed.
Files:	    src/move.c

Patch 7.4.551
Problem:    &quot;ygn&quot; may <A HREF="change.html#yank">yank</A> too much. (Fritzophrenic)  Issue 295.
Solution:   Check the width of the next match. (Christian Brabandt)
Files:	    src/search.c, src/testdir/test53.in, src/testdir/test53.ok

Patch 7.4.552
Problem:    Langmap applies to <A HREF="insert.html#Insert">Insert</A> mode <A HREF="eval.html#expression">expression</A> mappings.
Solution:   Check for <A HREF="insert.html#Insert">Insert</A> mode. (Daniel Hahler)
Files:	    src/getchar.c, src/testdir/test_mapping.in,
	    src/testdir/test_mapping.ok

Patch 7.4.553
Problem:    Various small issues.
Solution:   Fix those issues.
Files:	    src/ex_cmds.h, src/gui.h, src/message.c, src/testdir/test39.in,
	    src/proto/eval.pro, src/proto/misc1.pro, src/proto/ops.pro,
	    src/proto/screen.pro, src/proto/window.pro. src/os_unix.c,
	    src/Make_vms.mms, src/proto/os_vms.pro, src/INSTALL

Patch 7.4.554
Problem:    Missing part of patch 7.4.519.
Solution:   Copy back regprog after calling vim_regexec.
Files:	    src/quickfix.c

Patch 7.4.555
Problem:    test_close_count may fail for some combination of features.
Solution:   Require normal features.
Files:	    src/testdir/test_close_count.in

Patch 7.4.556
Problem:    Failed commands in <A HREF="if_pyth.html#Python">Python</A> interface not handled correctly.
Solution:   Restore <A HREF="windows.html#window">window</A> and buffer on failure.
Files:	    src/if_py_both.h

Patch 7.4.557
Problem:    One more small issue.
Solution:   Update function proto.
Files:	    src/proto/window.pro

Patch 7.4.558
Problem:    When the X server restarts Vim may get stuck.
Solution:   Destroy the application context and create <A HREF="motion.html#it">it</A> again.  (Issue 203)
Files:	    src/os_unix.c

Patch 7.4.559
Problem:    Appending a block in the middle of a <A HREF="intro.html#tab">tab</A> does not work correctly
	    when virtualedit is set.
Solution:   Decrement spaces and <A HREF="intro.html#count">count</A>, don't reset them. (James McCoy)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.560
Problem:    Memory leak using <A HREF="starting.html#:wviminfo">:wviminfo</A>. Issue 296.
Solution:   Free memory when needed. (idea by Christian Brabandt)
Files:	    src/ops.c

Patch 7.4.561
Problem:    <A HREF="intro.html#Ex">Ex</A> range handling is wrong for buffer-local user commands.
Solution:   Check for CMD_USER_BUF. (Marcin Szamotulski)
Files:	    src/ex_docmd.c, src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.562
Problem:    Segfault with wide screen and error in <A HREF="options.html#'rulerformat'">'rulerformat'</A>. (Ingo Karkat)
Solution:   Check there is enough space. (Christian Brabandt)
Files:	    src/buffer.c, src/screen.c

Patch 7.4.563
Problem:    No test for <A HREF="change.html#replacing">replacing</A> on a <A HREF="intro.html#tab">tab</A> in Virtual replace mode.
Solution:   Add a test. (Elias Diem)
Files:	    src/testdir/test48.in, src/testdir/test48.ok

Patch 7.4.564
Problem:    FEAT_OSFILETYPE is used even though it's never defined.
Solution:   Remove the code. (Christian Brabandt)
Files:	    src/fileio.c

Patch 7.4.565
Problem:    Ranges for arguments, <A HREF="windows.html#buffers">buffers</A>, tabs, etc. are not checked to be
	    valid but limited to the maximum.  This can cause the wrong thing
	    to happen.
Solution:   Give an error for an invalid value. (Marcin Szamotulski)
	    Use <A HREF="windows.html#windows">windows</A> range for &quot;<A HREF="windows.html#:wincmd">:wincmd</A>&quot;.
Files:	    src/ex_docmd.c, src/ex_cmds.h, src/testdir/test62.in,
	    src/testdir/test_argument_count.in,
	    src/testdir/test_argument_count.ok,
	    src/testdir/test_close_count.in,
	    src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.566
Problem:    <A HREF="editing.html#:argdo">:argdo</A>, <A HREF="windows.html#:bufdo">:bufdo</A>, <A HREF="windows.html#:windo">:windo</A> and <A HREF="tabpage.html#:tabdo">:tabdo</A> don't take a range.
Solution:   Support the range. (Marcin Szamotulski)
Files:	    runtime/doc/editing.txt, runtime/doc/tabpage.txt,
	    runtime/doc/windows.txt, src/ex_cmds.h, src/ex_cmds2.c,
	    src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.567
Problem:    Non-ascii vertical separator characters are always redrawn.
Solution:   Compare only the one byte that's stored. (Thiago Padilha)
Files:	    src/screen.c

Patch 7.4.568
Problem:    Giving an error for &quot;:0wincmd w&quot; is a problem for some plugins.
Solution:   Allow the zero in the range. (Marcin Szamotulski)
Files:	    src/ex_docmd.c, src/testdir/test_command_count.ok

Patch 7.4.569 (after 7.4.468)
Problem:    Having <A HREF="pattern.html#CTRL-C">CTRL-C</A> interrupt or not does not check the mode of the
	    <A HREF="map.html#mapping">mapping</A>. (Ingo Karkat)
Solution:   Use a bitmask with the map mode. (Christian Brabandt)
Files:	    src/getchar.c, src/structs.h, src/testdir/test_mapping.in,
	    src/testdir/test_mapping.ok, src/ui.c, src/globals.h

Patch 7.4.570
Problem:    Building with dynamic library does not work for <A HREF="if_ruby.html#Ruby">Ruby</A> 2.2.0
Solution:   Change #ifdefs and #defines. (Ken Takata)
Files:	    src/if_ruby.c

Patch 7.4.571 (after 7.4.569)
Problem:    Can't build with tiny features. (Ike Devolder)
Solution:   Add #ifdef.
Files:	    src/getchar.c

Patch 7.4.572
Problem:    Address type of <A HREF="windows.html#:wincmd">:wincmd</A> depends on the argument.
Solution:   Check the argument.
Files:	    src/ex_docmd.c, src/window.c, src/proto/window.pro

Patch 7.4.573 (after 7.4.569)
Problem:    Mapping <A HREF="pattern.html#CTRL-C">CTRL-C</A> in <A HREF="visual.html#Visual">Visual</A> mode doesn't work. (Ingo Karkat)
Solution:   Call get_real_state() instead of using State directly.
Files:	    src/ui.c, src/testdir/test_mapping.in, src/testdir/test_mapping.ok

Patch 7.4.574
Problem:    No error for eval('$').
Solution:   Check for empty name. (Yasuhiro Matsumoto)
Files:	    src/eval.c

Patch 7.4.575
Problem:    <A HREF="mbyte.html#Unicode">Unicode</A> character properties are outdated.
Solution:   Update the tables with the latest version.
Files:	    src/mbyte.c

Patch 7.4.576
Problem:    Redrawing problem with <A HREF="options.html#'relativenumber'">'relativenumber'</A> and <A HREF="options.html#'linebreak'">'linebreak'</A>.
Solution:   Temporarily reset <A HREF="options.html#'linebreak'">'linebreak'</A> and restore <A HREF="motion.html#it">it</A> in more places.
	    (Christian Brabandt)
Files:	    src/normal.c

Patch 7.4.577
Problem:    Matching with a virtual column has a lot of overhead on very long
	    lines. (Issue 310)
Solution:   Bail out early if there can't be a match. (Christian Brabandt)
	    Also check for <A HREF="pattern.html#CTRL-C">CTRL-C</A> at every position.
Files:	    src/regexp_nfa.c

Patch 7.4.578
Problem:    Using <A HREF="eval.html#getcurpos()">getcurpos()</A> after &quot;<A HREF="motion.html#$">$</A>&quot; in an empty line returns a negative
	    number.
Solution:   Don't add one when this would overflow. (Hirohito Higashi)
Files:	    src/eval.c

Patch 7.4.579
Problem:    Wrong cursor positioning when <A HREF="options.html#'linebreak'">'linebreak'</A> is set and lines wrap. 
Solution:   Fix <A HREF="motion.html#it">it</A>. (Christian Brabandt)
Files:	    src/charset.c, src/screen.c

Patch 7.4.580
Problem:    &quot;:52wincmd v&quot; still gives an invalid range error. (Charles
	    Campbell)
Solution:   Skip over white space.
Files:	    src/ex_docmd.c

Patch 7.4.581
Problem:    Compiler warnings for uninitialized <A HREF="eval.html#variables">variables</A>. (John Little)
Solution:   Initialize the <A HREF="eval.html#variables">variables</A>.
Files:	    src/ops.c

Patch 7.4.582 (after 7.4.577)
Problem:    Can't match &quot;&#37;&gt;80v&quot; properly. (Axel Bender)
Solution:   Correctly handle &quot;<A HREF="change.html#&gt;">&gt;</A>&quot;. (Christian Brabandt)
Files:	    src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.583
Problem:    With tiny features test 16 may fail.
Solution:   Source small.vim. (Christian Brabandt)
Files:	    src/testdir/test16.in

Patch 7.4.584
Problem:    With tiny features test_command_count may fail.
Solution:   Source small.vim. (Christian Brabandt)
Files:	    src/testdir/test_command_count.in

Patch 7.4.585
Problem:    Range for <A HREF="windows.html#:bdelete">:bdelete</A> does not work. (Ronald Schild)
Solution:   Also allow unloaded <A HREF="windows.html#buffers">buffers</A>.
Files:	    src/ex_cmds.h, src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.586
Problem:    Parallel building of the documentation html files is not reliable. 
Solution:   Remove a cyclic dependency. (Reiner Herrmann)
Files:	    runtime/doc/Makefile

Patch 7.4.587
Problem:    Conceal does not work properly with <A HREF="options.html#'linebreak'">'linebreak'</A>. (cs86661)
Solution:   Save and restore boguscols. (Christian Brabandt)
Files:	    src/screen.c, src/testdir/test_listlbr_utf8.in,
	    src/testdir/test_listlbr_utf8.ok

Patch 7.4.588
Problem:    &quot;:0argedit foo&quot; puts the new argument in the second place instead
	    of the first.
Solution:   Adjust the range type. (Ingo Karkat)
Files:	    src/ex_cmds.h, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_argument_0count.in,
	    src/testdir/test_argument_0count.ok

Patch 7.4.589
Problem:    In the <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console Vim can't handle <A HREF="options.html#greek">greek</A> characters when
	    encoding is <A HREF="mbyte.html#utf-8">utf-8</A>.
Solution:   Escape K_NUL. (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.590
Problem:    Using ctrl_x_mode <A HREF="motion.html#as">as</A> if <A HREF="motion.html#it">it</A> contains flags.
Solution:   Don't use AND with CTRL_X_OMNI. (Hirohito Higashi)
Files:	    src/edit.c

Patch 7.4.591 (after 7.4.587)
Problem:    test_listlbr_utf8 fails when the <A HREF="syntax.html#conceal">conceal</A> feature is not available.
Solution:   Check for the <A HREF="syntax.html#conceal">conceal</A> feature. (Kazunobu Kuriyama)
Files:	    src/testdir/test_listlbr_utf8.in

Patch 7.4.592
Problem:    When doing &quot;<A HREF="editing.html#:e">:e</A> foobar&quot; when already editing &quot;foobar&quot; and <A HREF="options.html#'buftype'">'buftype'</A>
	    is &quot;nofile&quot; the buffer is cleared. (Xavier de Gaye)
Solution:   Do no clear the buffer.
Files:	    src/ex_cmds.c

Patch 7.4.593
Problem:    Crash when searching for &quot;x\{0,90000}&quot;. (Dominique Pelle)
Solution:   Bail out from the <A HREF="pattern.html#NFA">NFA</A> engine when the max limit is much higher
	    than the min limit.
Files:	    src/regexp_nfa.c, src/regexp.c, src/vim.h

Patch 7.4.594
Problem:    Using a block delete while <A HREF="options.html#'breakindent'">'breakindent'</A> is set does not work
	    properly.
Solution:   Use &quot;line&quot; instead of &quot;prev_pend&quot; <A HREF="motion.html#as">as</A> the first argument to
	    lbr_chartabsize_adv().  (Hirohito Higashi)
Files:	    src/ops.c, src/testdir/test_breakindent.in,
	    src/testdir/test_breakindent.ok

Patch 7.4.595
Problem:    The test_command_count test fails when using <A HREF="mbyte.html#Japanese">Japanese</A>.
Solution:   Force the language to C. (Hirohito Higashi)
Files:	    src/testdir/test_command_count.in

Patch 7.4.596 (after 7.4.592)
Problem:    Tiny build doesn't compile.  (Ike Devolder)
Solution:   Add #ifdef.
Files:	    src/ex_cmds.c

Patch 7.4.597
Problem:    Cannot change the result of <A HREF="eval.html#systemlist()">systemlist()</A>.
Solution:   Initialize v_lock. (Yukihiro Nakadaira)
Files:	    src/eval.c

Patch 7.4.598
Problem:    &quot;<A HREF="tabpage.html#:tabdo">:tabdo</A> windo echo 'hi&#39;&#34;' causes &quot;* <A HREF="sponsor.html#register">register</A> not to be changed.
	    (Salman Halim)
Solution:   Change how clip_did_set_selection is used and add
	    clipboard_needs_update and global_change_count.  (Christian
	    Brabandt)
Files:	    src/main.c, src/ui.c, src/testdir/test_eval.in,
	    src/testdir/test_eval.ok

Patch 7.4.599
Problem:    Out-of-memory error.
Solution:   Avoid trying to allocate a negative amount of memory, use size_t
	    instead of int. (Dominique Pelle)
Files:	    src/regexp_nfa.c

Patch 7.4.600
Problem:    Memory wasted in struct because of aligning.
Solution:   Split pos in lnum and col. (Dominique Pelle)
Files:	    src/regexp_nfa.c

Patch 7.4.601
Problem:    It is not possible to have <A HREF="eval.html#feedkeys()">feedkeys()</A> insert characters.
Solution:   Add the '<A HREF="insert.html#i">i</A>' flag.
Files:	    src/eval.c, runtime/doc/eval.txt

Patch 7.4.602
Problem:    &quot;<A HREF="options.html#:set">:set</A>&quot; does not accept hex numbers <A HREF="motion.html#as">as</A> documented.
Solution:   Use vim_str2nr(). (ZyX)
Files:	    src/option.c, runtime/doc/options.txt

Patch 7.4.603
Problem:    <A HREF="options.html#'foldcolumn'">'foldcolumn'</A> may be set such that <A HREF="motion.html#it">it</A> fills the whole <A HREF="windows.html#window">window</A>, not
	    leaving space for text.
Solution:   Reduce the foldcolumn width when there is not sufficient room.
	    (idea by Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.604
Problem:    Running tests changes <A HREF="starting.html#viminfo">viminfo</A>.
Solution:   Disable <A HREF="starting.html#viminfo">viminfo</A>.
Files:	    src/testdir/test_breakindent.in

Patch 7.4.605
Problem:    The # <A HREF="sponsor.html#register">register</A> is not writable, <A HREF="motion.html#it">it</A> cannot be restored after
	    jumping around.
Solution:   Make the # <A HREF="sponsor.html#register">register</A> writable. (Marcin Szamotulski)
Files:	    runtime/doc/change.txt, src/ops.c, src/buffer.c, src/globals.h

Patch 7.4.606
Problem:    May crash when using a small <A HREF="windows.html#window">window</A>.
Solution:   Avoid dividing by zero. (Christian Brabandt)
Files:	    src/normal.c

Patch 7.4.607 (after 7.4.598)
Problem:    Compiler warnings for unused <A HREF="eval.html#variables">variables</A>.
Solution:   Move them inside #ifdef. (Kazunobu Kuriyama)
Files:	    src/ui.c

Patch 7.4.608 (after 7.4.598)
Problem:    test_eval fails when the <A HREF="gui.html#clipboard">clipboard</A> feature is missing.
Solution:   Skip part of the test. Reduce the text used.
Files:	    src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.609
Problem:    For complicated <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A> use the garbage collector can run
	    out of stack space.
Solution:   Use a stack of dicts and lists to be marked, thus making <A HREF="motion.html#it">it</A>
	    iterative instead of recursive. (Ben Fritz)
Files:	    src/eval.c, src/if_lua.c, src/if_py_both.h, src/if_python.c,
	    src/if_python3.c, src/proto/eval.pro, src/proto/if_lua.pro,
	    src/proto/if_python.pro, src/proto/if_python3.pro, src/structs.h

Patch 7.4.610
Problem:    Some function headers may be missing from generated .pro files.
Solution:   Add PROTO to the #ifdef.
Files:	    src/option.c, src/syntax.c

Patch 7.4.611 (after 7.4.609)
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> error.
Solution:   Change statement to return.
Files:	    src/if_python3.c

Patch 7.4.612
Problem:    test_eval fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Use the &#42; <A HREF="sponsor.html#register">register</A> instead of the + <A HREF="sponsor.html#register">register</A>. (Jun Takimoto)
Files:	    src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.613
Problem:    The <A HREF="pattern.html#NFA">NFA</A> engine does not implement the <A HREF="options.html#'redrawtime'">'redrawtime'</A> time limit.
Solution:   Implement the time limit.
Files:	    src/regexp_nfa.c

Patch 7.4.614
Problem:    There is no test for what patch 7.4.601 fixes.
Solution:   Add a test. (Christian Brabandt)
Files:	    src/testdir/test_mapping.in, src/testdir/test_mapping.ok

Patch 7.4.615
Problem:    Vim hangs when freeing a lot of <A HREF="index.html#objects">objects</A>.
Solution:   Do not go back to the start of the <A HREF="eval.html#list">list</A> every time.  (Yasuhiro
	    Matsumoto and Ariya Mizutani)
Files:	    src/eval.c

Patch 7.4.616
Problem:    Cannot insert a <A HREF="intro.html#tab">tab</A> in front of a block.
Solution:   Correctly compute aop-&gt;start. (Christian Brabandt)
Files:	    src/ops.c, src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.617
Problem:    Wrong &quot;<A HREF="editing.html#:argdo">:argdo</A>&quot; range does not cause an error.
Solution:   Reset &quot;cmd&quot; to NULL. (Marcin Szamotulski, Ingo Karkat)
Files:	    src/ex_docmd.c

Patch 7.4.618 (after 7.4.609)
Problem:    luaV_setref() is missing a return statement. (Ozaki Kiichi)
Solution:   Put the return statement back.
Files:	    src/if_lua.c

Patch 7.4.619 (after 7.4.618)
Problem:    luaV_setref() not returning the correct value.
Solution:   Return one.
Files:	    src/if_lua.c

Patch 7.4.620
Problem:    Compiler warning for uninitialized variable. (Tony Mechelynck)
Solution:   Initialize &quot;did_free&quot;. (Ben Fritz)
Files:	    src/eval.c

Patch 7.4.621 (after 7.4.619)
Problem:    Returning 1 in the wrong function. (Raymond Ko)
Solution:   Return 1 in the right function (hopefully).
Files:	    src/if_lua.c

Patch 7.4.622
Problem:    Compiler warning for unused argument.
Solution:   Add UNUSED.
Files:	    src/regexp_nfa.c

Patch 7.4.623
Problem:    Crash with <A HREF="pattern.html#pattern">pattern</A>: \(\)\{80000}  (Dominique Pelle)
Solution:   When the max limit is large fall back to the old engine.
Files:	    src/regexp_nfa.c

Patch 7.4.624
Problem:    May leak memory or crash when vim_realloc() returns NULL.
Solution:   Handle a NULL value properly. (Mike Williams)
Files:	    src/if_cscope.c, src/memline.c, src/misc1.c, src/netbeans.c

Patch 7.4.625
Problem:    Possible NULL pointer dereference.
Solution:   Check for NULL before using <A HREF="motion.html#it">it</A>. (Mike Williams)
Files:	    src/if_py_both.h

Patch 7.4.626
Problem:    MSVC with W4 gives useless warnings.
Solution:   Disable more warnings. (Mike Williams)
Files:	    src/vim.h

Patch 7.4.627
Problem:    The last screen cell is not updated.
Solution:   Respect the &quot;tn&quot; <A HREF="term.html#termcap">termcap</A> feature. (Hayaki Saito)
Files:	    runtime/doc/term.txt, src/option.c, src/screen.c, src/term.c,
	    src/term.h

Patch 7.4.628
Problem:    Compiler warning for variable might be clobbered by longjmp.
Solution:   Add volatile. (Michael Jarvis)
Files:	    src/main.c

Patch 7.4.629
Problem:    Coverity warning for Out-of-bounds read.
Solution:   Increase MAXWLEN to 254. (Eliseo Martnez)
Files:	    src/spell.c

Patch 7.4.630
Problem:    When using <A HREF="insert.html#Insert">Insert</A> mode completion combined with <A HREF="autocmd.html#autocommands">autocommands</A> the
	    <A HREF="undo.html#redo">redo</A> command may not work.
Solution:   Do not save the <A HREF="undo.html#redo">redo</A> buffer when executing <A HREF="autocmd.html#autocommands">autocommands</A>. (Yasuhiro
	    Matsumoto)
Files:	    src/fileio.c

Patch 7.4.631
Problem:    The default <A HREF="syntax.html#conceal">conceal</A> character is documented to be a space but it's
	    initially a dash. (Christian Brabandt)
Solution:   Make the initial value a space.
Files:	    src/globals.h

Patch 7.4.632 (after 7.4.592)
Problem:    7.4.592 breaks the <A HREF="pi_netrw.html#netrw">netrw</A> <A HREF="usr_05.html#plugin">plugin</A>, because the <A HREF="autocmd.html#autocommands">autocommands</A> are
	    skipped.
Solution:   Roll back the change.
Files:	    src/ex_cmds.c

Patch 7.4.633
Problem:    After 7.4.630 the problem persists.
Solution:   Also skip <A HREF="undo.html#redo">redo</A> when calling a user function.
Files:	    src/eval.c

Patch 7.4.634
Problem:    Marks are not restored after <A HREF="undo.html#redo">redo</A> + <A HREF="undo.html#undo">undo</A>.
Solution:   Fix the way marks are restored. (Olaf Dabrunz)
Files:	    src/undo.c, src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_marks.in, src/testdir/test_marks.ok

Patch 7.4.635
Problem:    If no NL or CR is found in the first block of a file then the
	    <A HREF="options.html#'fileformat'">'fileformat'</A> may be set to &quot;<A HREF="os_mac.html#mac">mac</A>&quot;. (Issue 77)
Solution:   Check if a CR was found. (eswald)
Files:	    src/fileio.c

Patch 7.4.636
Problem:    A search with end offset gets stuck at end of file. (Gary Johnson)
Solution:   When a search doesn't move the cursor repeat <A HREF="motion.html#it">it</A> with a higher
	    <A HREF="intro.html#count">count</A>. (Christian Brabandt)
Files:	    src/normal.c, src/testdir/test44.in, src/testdir/test44.ok

Patch 7.4.637
Problem:    Incorrectly read the number of buffer for which an <A HREF="autocmd.html#autocommand">autocommand</A>
	    should be registered.
Solution:   Reverse check for &quot;<A HREF="autocmd.html#&lt;buffer=abuf&gt;">&lt;buffer=abuf&gt;</A>&quot;. (Lech Lorens)
Files:	    src/fileio.c

Patch 7.4.638
Problem:    Can't build with <A HREF="if_lua.html#Lua">Lua</A> 5.3 on Windows.
Solution:   use luaL_optinteger() instead of LuaL_optlong(). (Ken Takata)
Files:	    src/if_lua.c

Patch 7.4.639
Problem:    Combination of linebreak and <A HREF="syntax.html#conceal">conceal</A> doesn't work well.
Solution:   Fix the display problems. (Christian Brabandt)
Files:	    src/screen.c, src/testdir/test88.in, src/testdir/test88.ok,
	    src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok

Patch 7.4.640
Problem:    After <A HREF="change.html#deleting">deleting</A> characters in <A HREF="insert.html#Insert">Insert</A> mode such that lines are
	    joined <A HREF="undo.html#undo">undo</A> does not work properly. (issue 324)
Solution:   Use Insstart instead of Insstart_orig. (Christian Brabandt)
Files:	    src/edit.c

Patch 7.4.641
Problem:    The tabline menu was using &quot;:999tabnew&quot; which is now invalid.
Solution:   Use &quot;:$tabnew&quot; instead. (Florian Degner)
Files:	    src/normal.c

Patch 7.4.642
Problem:    When using &quot;<A HREF="editing.html#gf">gf</A>&quot; escaped spaces are not handled.
Solution:   Recognize escaped spaces.
Files:	    src/vim.h, src/window.c, src/misc2.c

Patch 7.4.643
Problem:    Using the default file format for <A HREF="os_mac.html#Mac">Mac</A> files. (Issue 77)
Solution:   Reset the try_mac counter in the right place. (Oswald)
Files:	    src/fileio.c, src/testdir/test30.in, src/testdir/test30.ok

Patch 7.4.644
Problem:    Stratus VOS doesn't have sync().
Solution:   Use fflush(). (Karli Aurelia)
Files:	    src/memfile.c

Patch 7.4.645
Problem:    When splitting the <A HREF="windows.html#window">window</A> in a <A HREF="autocmd.html#BufAdd">BufAdd</A> <A HREF="autocmd.html#autocommand">autocommand</A> while still in
	    the first, empty buffer the <A HREF="windows.html#window">window</A> <A HREF="intro.html#count">count</A> is wrong.
Solution:   Do not reset b_nwindows to zero and don't increment <A HREF="motion.html#it">it</A>.
Files:	    src/buffer.c, src/ex_cmds.c

Patch 7.4.646
Problem:    &quot;<A HREF="windows.html#:bufdo">:bufdo</A>&quot; may start at a deleted buffer.
Solution:   Find the first not deleted buffer. (Shane Harper)
Files:	    src/ex_cmds2.c, src/testdir/test_command_count.in,
	    src/testdir/test_command_count.ok

Patch 7.4.647
Problem:    After running the tests on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> many files differ from their
	    originals <A HREF="motion.html#as">as</A> they were checked out.
Solution:   Use a temp directory for executing the tests. (Ken Takata, Taro
	    Muraoka)
Files:	    src/testdir/Make_dos.mak

Patch 7.4.648 (after 7.4.647)
Problem:    Tests broken on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Delete wrong copy line. (Ken Takata)
Files:	    src/testdir/Make_dos.mak

Patch 7.4.649
Problem:    Compiler complains about ignoring return value of fwrite().
	    (Michael Jarvis)
Solution:   Add (void).
Files:	    src/misc2.c

Patch 7.4.650
Problem:    Configure check may fail because the <A HREF="change.html#dl">dl</A> library is not used.
Solution:   Put &quot;-ldl&quot; in LIBS rather than LDFLAGS. (Ozaki Kiichi)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.651 (after 7.4.582)
Problem:    Can't match &quot;&#37;&gt;80v&quot; properly for <A HREF="mbyte.html#multi-byte">multi-byte</A> characters.
Solution:   Multiply the character number by the maximum number of bytes in a
	    character. (Yasuhiro Matsumoto)
Files:	    src/regexp_nfa.c

Patch 7.4.652
Problem:    Xxd lacks a few features.
Solution:   Use 8 characters for the file position.  Add the <A HREF="starting.html#-e">-e</A> and <A HREF="starting.html#-o">-o</A>
	    arguments. (Vadim Vygonets)
Files:	    src/xxd/xxd.c, runtime/doc/xxd.1

Patch 7.4.653
Problem:    <A HREF="insert.html#Insert">Insert</A> mode completion with <A HREF="eval.html#complete()">complete()</A> may have <A HREF="various.html#CTRL-L">CTRL-L</A> work like
	    <A HREF="motion.html#CTRL-P">CTRL-P</A>.
Solution:   Handle completion with <A HREF="eval.html#complete()">complete()</A> differently. (Yasuhiro
	    Matsumoto, Christian Brabandt, Hirohito Higashi)
Files:	    src/edit.c

Patch 7.4.654
Problem:    <A HREF="eval.html#glob()">glob()</A> and <A HREF="eval.html#globpath()">globpath()</A> cannot include links to non-existing files.
	    (Charles Campbell)
Solution:   Add an argument to include all links with <A HREF="eval.html#glob()">glob()</A>. (James McCoy)
	    Also for <A HREF="eval.html#globpath()">globpath()</A>.
Files:	    src/vim.h, src/eval.c, src/ex_getln.c

Patch 7.4.655
Problem:    Text deleted by &quot;dit&quot; depends on indent of closing <A HREF="tagsrch.html#tag">tag</A>.
	    (Jan Parthey)
Solution:   Do not adjust oap-&gt;end in do_pending_operator(). (Christian
	    Brabandt)
Files:	    src/normal.c, src/search.c, src/testdir/test53.in,
	    src/testdir/test53.ok

Patch 7.4.656 (after 7.4.654)
Problem:    Missing changes for <A HREF="eval.html#glob()">glob()</A> in one file.
Solution:   Add the missing changes.
Files:	    src/misc1.c

Patch 7.4.657 (after 7.4.656)
Problem:    Compiler warnings for pointer mismatch.
Solution:   Add a typecast. (John Marriott)
Files:	    src/misc1.c

Patch 7.4.658
Problem:    <A HREF="options.html#'formatexpr'">'formatexpr'</A> is evaluated too often.
Solution:   Only invoke <A HREF="motion.html#it">it</A> when beyond the <A HREF="options.html#'textwidth'">'textwidth'</A> column, <A HREF="motion.html#as">as</A> <A HREF="motion.html#it">it</A> is
	    documented. (James McCoy)
Files:	    src/edit.c

Patch 7.4.659
Problem:    When <A HREF="options.html#'ruler'">'ruler'</A> is set the preferred column is reset. (Issue 339)
Solution:   Don't set curswant when redrawing the status lines.
Files:	    src/option.c

Patch 7.4.660
Problem:    Using freed memory when <A HREF="options.html#g:colors_name">g:colors_name</A> is changed in the colors
	    <A HREF="usr_41.html#script">script</A>. (oni-link)
Solution:   Make a copy of the variable value.
Files:	    src/syntax.c

Patch 7.4.661
Problem:    Using &quot;<A HREF="motion.html#0">0</A> CTRL-D&quot; in <A HREF="insert.html#Insert">Insert</A> mode may have <A HREF="autocmd.html#CursorHoldI">CursorHoldI</A> interfere.
	    (Gary Johnson)
Solution:   Don't store K_CURSORHOLD <A HREF="motion.html#as">as</A> the last character. (Christian
	    Brabandt)
Files:	    src/edit.c

Patch 7.4.662
Problem:    When '<A HREF="motion.html#M">M</A>' is in the <A HREF="options.html#'cpo'">'cpo'</A> option then selecting a text object in
	    parentheses does not work correctly.
Solution:   Keep '<A HREF="motion.html#M">M</A>' in <A HREF="options.html#'cpo'">'cpo'</A> when finding a match. (Hirohito Higashi)
Files:	    src/search.c, src/testdir/Make_amiga.mak,
	    src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
	    src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
	    src/testdir/Makefile, src/testdir/test_textobjects.in,
	    src/testdir/test_textobjects.ok

Patch 7.4.663
Problem:    When using <A HREF="netbeans.html#netbeans">netbeans</A> a buffer is not found in another <A HREF="intro.html#tab">tab</A>.
Solution:   When <A HREF="options.html#'switchbuf'">'switchbuf'</A> is set to &quot;usetab&quot; then switch to another <A HREF="intro.html#tab">tab</A>
	    when possible. (Xavier de Gaye)
Files:	    src/netbeans.c

Patch 7.4.664
Problem:    When <A HREF="options.html#'compatible'">'compatible'</A> is reset <A HREF="options.html#'numberwidth'">'numberwidth'</A> is set to 4, but the
	    effect doesn't show until a change is made.
Solution:   Check if <A HREF="options.html#'numberwidth'">'numberwidth'</A> changed. (Christian Brabandt)
Files:	    src/screen.c, src/structs.h

Patch 7.4.665
Problem:    <A HREF="options.html#'linebreak'">'linebreak'</A> does not work properly with <A HREF="mbyte.html#multi-byte">multi-byte</A> characters.
Solution:   Compute the pointer offset with mb_head_off().  (Yasuhiro
	    Matsumoto)
Files:	    src/screen.c

Patch 7.4.666
Problem:    There is a chance that Vim may lock up.
Solution:   Handle <A HREF="eval.html#timer">timer</A> events differently. (Aaron Burrow)
Files:	    src/os_unix.c

Patch 7.4.667
Problem:    <A HREF="options.html#'colorcolumn'">'colorcolumn'</A> isn't drawn in a closed fold while <A HREF="options.html#'cursorcolumn'">'cursorcolumn'</A>
	    is. (Carlos Pita)
Solution:   Make <A HREF="motion.html#it">it</A> consistent. (Christian Brabandt)
Files:	    src/screen.c

Patch 7.4.668
Problem:    Can't use a glob <A HREF="pattern.html#pattern">pattern</A> <A HREF="motion.html#as">as</A> a <A HREF="pattern.html#regexp">regexp</A> <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Add <A HREF="eval.html#glob2regpat()">glob2regpat()</A>. (Christian Brabandt)
Files:	    src/eval.c, runtime/doc/eval.txt

Patch 7.4.669
Problem:    When <A HREF="netbeans.html#netbeans">netbeans</A> is active the sign column always shows up.
Solution:   Only show the sign column once a sign has been added. (Xavier de
	    Gaye)
Files:	    src/buffer.c, src/edit.c, src/move.c, src/netbeans.c,
	    src/screen.c, src/structs.h

Patch 7.4.670
Problem:    Using <A HREF="options.html#'cindent'">'cindent'</A> for Javascript is <A HREF="various.html#less">less</A> than perfect.
Solution:   Improve indenting of continuation lines. (Hirohito Higashi)
Files:	    src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.671 (after 7.4.665)
Problem:    Warning for shadowing a variable.
Solution:   Rename off to mb_off. (Kazunobu Kuriyama)
Files:	    src/screen.c

Patch 7.4.672
Problem:    When completing a shell command, directories in the current
	    directory are not listed.
Solution:   When &quot;<A HREF="repeat.html#.">.</A>&quot; is not in $PATH also look in the current directory for
	    directories.
Files:	    src/ex_getln.c, src/vim.h, src/misc1.c, src/eval.c,
	    src/os_amiga.c, src/os_msdos.c, src/os_unix.c, src/os_vms.c,
	    src/proto/os_amiga.pro, src/proto/os_msdos.pro,
	    src/proto/os_unix.pro, src/proto/os_win32.pro

Patch 7.4.673
Problem:    The first <A HREF="syntax.html#syntax">syntax</A> entry gets sequence number zero, which doesn't
	    work. (Clinton McKay)
Solution:   Start at number one. (Bjorn Linse)
Files:	    src/syntax.c

Patch 7.4.674 (after 7.4.672)
Problem:    Missing changes in one file.
Solution:   Also change the <A HREF="os_win32.html#win32">win32</A> file.
Files:	    src/os_win32.c

Patch 7.4.675
Problem:    When a <A HREF="autocmd.html#FileReadPost">FileReadPost</A> <A HREF="autocmd.html#autocommand">autocommand</A> moves the cursor inside a line <A HREF="motion.html#it">it</A>
	    gets moved back.
Solution:   When checking whether an <A HREF="autocmd.html#autocommand">autocommand</A> moved the cursor store the
	    column <A HREF="motion.html#as">as</A> well. (Christian Brabandt)
Files:	    src/ex_cmds.c

Patch 7.4.676
Problem:    On <A HREF="os_mac.html#Mac">Mac</A>, when not using the default <A HREF="if_pyth.html#Python">Python</A> framework configure
	    doesn't <A HREF="diff.html#do">do</A> the right thing.
Solution:   Use a linker search path. (Kazunobu Kuriyama)
Files:	    src/configure.in, src/auto/configure

Patch 7.4.677 (after 7.4.676)
Problem:    Configure fails when specifying a python-config-dir. (Lcd)
Solution:   Check if PYTHONFRAMEWORKPREFIX is set.
Files:	    src/configure.in, src/auto/configure

Patch 7.4.678
Problem:    When using <A HREF="remote.html#--remote">--remote</A> the directory may end up being wrong.
Solution:   Use localdir() to find out what to <A HREF="diff.html#do">do</A>. (Xaizek)
Files:	    src/main.c

Patch 7.4.679
Problem:    Color values greater than 255 cause problems on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Truncate to 255 colors. (Yasuhiro Matsumoto)
Files:	    src/os_win32.c

Patch 7.4.680
Problem:    <A HREF="index.html#CTRL-W">CTRL-W</A> in <A HREF="insert.html#Insert">Insert</A> mode does not work well for <A HREF="mbyte.html#multi-byte">multi-byte</A>
	    characters.
Solution:   Use mb_get_class(). (Yasuhiro Matsumoto)
Files:	    src/edit.c, src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
	    src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
	    src/testdir/Make_vms.mms, src/testdir/Makefile,
	    src/testdir/test_erasebackword.in,
	    src/testdir/test_erasebackword.ok,

Patch 7.4.681
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: When Vim is minimized the <A HREF="windows.html#window">window</A> height is computed
	    incorrectly.
Solution:   When minimized use the previously computed size. (Ingo Karkat)
Files:	    src/gui_w32.c

Patch 7.4.682
Problem:    The search highlighting and match highlighting replaces the
	    cursorline highlighting, this doesn't look good.
Solution:   Combine the highlighting. (Yasuhiro Matsumoto)
Files:	    src/screen.c

Patch 7.4.683
Problem:    Typo in the <A HREF="usr_01.html#vimtutor">vimtutor</A> command.
Solution:   Fix the typo. (Corey Farwell, github pull 349)
Files:	    vimtutor.com

Patch 7.4.684
Problem:    When starting several Vim instances in <A HREF="diff.html#diff">diff</A> mode, the temp files
	    used may not be unique. (Issue 353)
Solution:   Add an argument to vim_tempname() to keep the file.
Files:	    src/diff.c, src/eval.c, src/ex_cmds.c, src/fileio.c,
	    src/hardcopy.c, src/proto/fileio.pro, src/if_cscope.c,
	    src/memline.c, src/misc1.c, src/os_unix.c, src/quickfix.c,
	    src/spell.c

Patch 7.4.685
Problem:    When there are illegal <A HREF="mbyte.html#utf-8">utf-8</A> characters the old <A HREF="pattern.html#regexp">regexp</A> engine may
	    go past the end of a <A HREF="eval.html#string">string</A>.
Solution:   Only advance to the end of the <A HREF="eval.html#string">string</A>. (Dominique Pelle)
Files:	    src/regexp.c

Patch 7.4.686
Problem:    &quot;<A HREF="fold.html#zr">zr</A>&quot; and &quot;<A HREF="fold.html#zm">zm</A>&quot; <A HREF="diff.html#do">do</A> not take a <A HREF="intro.html#count">count</A>.
Solution:   Implement the <A HREF="intro.html#count">count</A>, restrict the fold level to the maximum
	    nesting depth.  (Marcin Szamotulski)
Files:	    runtime/doc/fold.txt, src/normal.c

Patch 7.4.687
Problem:    There is no way to use a different in <A HREF="insert.html#Replace">Replace</A> mode for a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add <A HREF="term.html#t_SR">t_SR</A>. (Omar Sandoval)
Files:	    runtime/doc/options.txt, runtime/doc/term.txt,
	    runtime/syntax/vim.vim, src/option.c, src/term.c, src/term.h

Patch 7.4.688
Problem:    When &quot;<A HREF="motion.html#$">$</A>&quot; is in <A HREF="options.html#'cpo'">'cpo'</A> the popup menu isn't undrawn correctly.
	    (Issue 166)
Solution:   When using the popup menu remove the &quot;<A HREF="motion.html#$">$</A>&quot;.
Files:	    src/edit.c

Patch 7.4.689
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A>, when <A HREF="options.html#'autochdir'">'autochdir'</A> is set, <A HREF="diff.html#diff">diff</A> mode with files in
	    different directories does not work. (Axel Bender)
Solution:   Remember the current directory and use <A HREF="motion.html#it">it</A> where needed. (Christian
	    Brabandt)
Files:	    src/main.c

Patch 7.4.690
Problem:    Memory access <A HREF="message.html#errors">errors</A> when <A HREF="change.html#changing">changing</A> indent in <A HREF="intro.html#Ex">Ex</A> mode. Also missing
	    redraw when using <A HREF="scroll.html#CTRL-U">CTRL-U</A>. (Knil Ino)
Solution:   Update pointers after calling ga_grow().
Files:	    src/ex_getln.c

Patch 7.4.691 (after 7.4.689)
Problem:    Can't build with <A HREF="if_mzsch.html#MzScheme">MzScheme</A>.
Solution:   Change &quot;cwd&quot; into the global variable &quot;start_dir&quot;.
Files:	    src/main.c

Patch 7.4.692
Problem:    Defining SOLARIS for no good reason. (Danek Duvall)
Solution:   Remove <A HREF="motion.html#it">it</A>.
Files:	    src/os_unix.h

Patch 7.4.693
Problem:    <A HREF="starting.html#Session">Session</A> file is not correct when there are multiple <A HREF="intro.html#tab">tab</A> pages.
Solution:   Reset the current <A HREF="windows.html#window">window</A> number for each <A HREF="intro.html#tab">tab</A> page. (Jacob Niehus)
Files:      src/ex_docmd.c

Patch 7.4.694
Problem:    Running tests changes the .viminfo file.
Solution:   Disable <A HREF="starting.html#viminfo">viminfo</A> in the text <A HREF="index.html#objects">objects</A> test.
Files:      src/testdir/test_textobjects.in

Patch 7.4.695
Problem:    Out-of-bounds read, detected by Coverity.
Solution:   Remember the value of cmap for the first matching encoding.  Reset
            cmap to that value if first matching encoding is going to be used.
            (Eliseo Martnez)
Files:      src/hardcopy.c

Patch 7.4.696
Problem:    Not freeing memory when encountering an error.
Solution:   Free the stack before returning. (Eliseo Martnez)
Files:      src/regexp_nfa.c

Patch 7.4.697
Problem:    The filename used for &quot;<A HREF="repeat.html#:profile">:profile</A>&quot; must be given literally.
Solution:   Expand &quot;<A HREF="change.html#~">~</A>&quot; and environment <A HREF="eval.html#variables">variables</A>. (Marco Hinz)
Files:      src/ex_cmds2.c

Patch 7.4.698
Problem:    Various problems with locked and fixed lists and dictionaries.
Solution:   Disallow <A HREF="change.html#changing">changing</A> locked items, fix a crash, add tests. (Olaf
            Dabrunz)
Files:      src/structs.h, src/eval.c, src/testdir/test55.in,
            src/testdir/test55.ok

Patch 7.4.699
Problem:    <A HREF="message.html#E315">E315</A> when trying to delete a fold. (Yutao Yuan)
Solution:   Make sure the fold doesn't go beyond the last buffer line.
            (Christian Brabandt)
Files:      src/fold.c

Patch 7.4.700
Problem:    Fold can't be opened after &quot;<A HREF="change.html#:move">:move</A>&quot;. (Ein Brown)
Solution:   Delete the <A HREF="fold.html#folding">folding</A> information and update <A HREF="motion.html#it">it</A> afterwards.
            (Christian Brabandt)
Files:      src/ex_cmds.c, src/fold.c, src/testdir/test45.in,
            src/testdir/test45.ok

Patch 7.4.701
Problem:    Compiler warning for using uninitialized variable. (Yasuhiro
            Matsumoto)
Solution:   Initialize <A HREF="motion.html#it">it</A>.
Files:      src/hardcopy.c

Patch 7.4.702
Problem:    Joining an empty <A HREF="eval.html#list">list</A> does unnecessary work.
Solution:   Let <A HREF="eval.html#join()">join()</A> return early. (Marco Hinz)
Files:      src/eval.c

Patch 7.4.703
Problem:    Compiler warning for start_dir unused when building unittests.
Solution:   Move start_dir inside the #ifdef.
Files:      src/main.c

Patch 7.4.704
Problem:    Searching for a character matches an illegal byte and causes
            invalid memory access. (Dominique Pelle)
Solution:   Do not match an invalid byte when search for a character in a
            <A HREF="eval.html#string">string</A>.  Fix equivalence classes using negative numbers, which
            result in illegal bytes.
Files:      src/misc2.c, src/regexp.c, src/testdir/test44.in

Patch 7.4.705
Problem:    Can't build with <A HREF="if_ruby.html#Ruby">Ruby</A> 2.2.
Solution:   Add #ifdefs to handle the incompatible change. (Andrei Olsen)
Files:      src/if_ruby.c

Patch 7.4.706
Problem:    Window drawn wrong when <A HREF="options.html#'laststatus'">'laststatus'</A> is zero and there is a
            command-line <A HREF="windows.html#window">window</A>. (Yclept Nemo)
Solution:   Set the status height a bit later. (Christian Brabandt)
Files:      src/window.c

Patch 7.4.707
Problem:    Undo files can have their executable bit set.
Solution:   Strip of the executable bit. (Mikael Berthe)
Files:      src/undo.c

Patch 7.4.708
Problem:    gettext() is called too often.
Solution:   Do not call gettext() for <A HREF="message.html#messages">messages</A> until they are actually used.
            (idea by Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.709
Problem:    &quot;<A HREF="tabpage.html#:tabmove">:tabmove</A>&quot; does not work <A HREF="motion.html#as">as</A> documented.
Solution:   Make <A HREF="motion.html#it">it</A> work consistently.  Update documentation and add tests.
            (Hirohito Higashi)
Files:      src/window.c, runtime/doc/tabpage.txt, src/ex_docmd.c,
            src/testdir/test62.in, src/testdir/test62.ok

Patch 7.4.710
Problem:    It is not possible to make spaces visible in <A HREF="eval.html#list">list</A> mode.
Solution:   Add the &quot;space&quot; item to <A HREF="options.html#'listchars'">'listchars'</A>. (David Brgin, issue 350)
Files:      runtime/doc/options.txt, src/globals.h, src/message.h,
            src/screen.c, src/testdir/test_listchars.in,
            src/testdir/test_listchars.ok, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile

Patch 7.4.711 (after 7.4.710)
Problem:    Missing change in one file.
Solution:   Also change option.c
Files:      src/option.c

Patch 7.4.712 (after 7.4.710)
Problem:    Missing change in another file.
Solution:   Also change message.c
Files:      src/message.c

Patch 7.4.713
Problem:    Wrong condition for #ifdef.
Solution:   Change USR_EXRC_FILE2 to USR_VIMRC_FILE2. (Mikael Fourrier)
Files:      src/os_unix.h

Patch 7.4.714
Problem:    Illegal memory access when there are illegal bytes.
Solution:   Check the byte length of the character. (Dominique Pelle)
Files:      src/regexp.c

Patch 7.4.715
Problem:    Invalid memory access when there are illegal bytes.
Solution:   Get the length from the text, not from the character. (Dominique
            Pelle)
Files:      src/regexp_nfa.c

Patch 7.4.716
Problem:    When using the '<A HREF="change.html#c">c</A>' flag of &quot;<A HREF="change.html#:substitute">:substitute</A>&quot; and selecting &quot;<A HREF="insert.html#a">a</A>&quot; or &quot;<A HREF="motion.html#l">l</A>&quot;
            at the prompt the flags are not remembered for &quot;<A HREF="change.html#:&amp;&amp;">:&amp;&amp;</A>&quot;. (Ingo
            Karkat)
Solution:   Save the flag values and restore them. (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 7.4.717
Problem:    &quot;<A HREF="eval.html#:let">:let</A> <A HREF="eval.html#list">list</A> += list&quot; can change a locked <A HREF="eval.html#list">list</A>.
Solution:   Check for the lock earlier. (Olaf Dabrunz)
Files:      src/eval.c, src/testdir/test55.in, src/testdir/test55.ok

Patch 7.4.718
Problem:    Autocommands triggered by <A HREF="quickfix.html#quickfix">quickfix</A> cannot get the current title
            value.
Solution:   Set <A HREF="quickfix.html#w:quickfix_title">w:quickfix_title</A> earlier. (Yannick)
            Also move the check for a title into the function.
Files:      src/quickfix.c

Patch 7.4.719
Problem:    Overflow when adding MAXCOL to a pointer.
Solution:   Subtract pointers instead. (James McCoy)
Files:      src/screen.c

Patch 7.4.720
Problem:    Can't build with <A HREF="visual.html#Visual">Visual</A> Studio 2015.
Solution:   Recognize the &quot;version 14&quot; numbers and omit /nodefaultlib when
            appropriate. (Paul Moore)
Files:      src/Make_mvc.mak

Patch 7.4.721
Problem:    When <A HREF="options.html#'list'">'list'</A> is set <A HREF="visual.html#Visual">Visual</A> mode does not highlight anything in
            empty lines. (mgaleski)
Solution:   Check the value of lcs_eol in another place. (Christian Brabandt)
Files:      src/screen.c

Patch 7.4.722
Problem:    0x202f is not recognized <A HREF="motion.html#as">as</A> a non-breaking space character.
Solution:   Add 0x202f to the <A HREF="eval.html#list">list</A>. (Christian Brabandt)
Files:      runtime/doc/options.txt, src/message.c, src/screen.c

Patch 7.4.723
Problem:    For indenting, finding the C++ baseclass can be slow.
Solution:   Cache the result. (Hirohito Higashi)
Files:      src/misc1.c

Patch 7.4.724
Problem:    Vim icon does not show in Windows context menu. (issue 249)
Solution:   Load the icon in GvimExt.
Files:      src/GvimExt/gvimext.cpp, src/GvimExt/gvimext.h

Patch 7.4.725
Problem:    &quot;<A HREF="eval.html#:call">:call</A> setreg(&#39;&#34;'', [])&quot; reports an internal error.
Solution:   Make the <A HREF="sponsor.html#register">register</A> empty. (Yasuhiro Matsumoto)
Files:      src/ops.c

Patch 7.4.726 (after 7.4.724)
Problem:    Cannot build GvimExt.
Solution:   Set APPVER to 5.0.  (KF Leong)
Files:      src/GvimExt/Makefile

Patch 7.4.727 (after 7.4.724)
Problem:    Cannot build GvimExt with MingW.
Solution:   Add -lgdi32.  (KF Leong)
Files:      src/GvimExt/Make_ming.mak

Patch 7.4.728
Problem:    Can't build with some version of <A HREF="visual.html#Visual">Visual</A> Studio 2015.
Solution:   Recognize another version 14 number. (Sinan)
Files:      src/Make_mvc.mak

Patch 7.4.729 (after 7.4.721)
Problem:    Occasional crash with <A HREF="options.html#'list'">'list'</A> set.
Solution:   Fix off-by-one error. (Christian Brabandt)
Files:      src/screen.c

Patch 7.4.730
Problem:    When setting the crypt key and using a swap file, text may be
            encrypted <A HREF="if_cscop.html#twice">twice</A> or unencrypted text remains in the swap file.
            (Issue 369)
Solution:   Call ml_preserve() before re-encrypting.  Set correct index for
            next pointer block.
Files:      src/memfile.c, src/memline.c, src/proto/memline.pro, src/option.c

Patch 7.4.731
Problem:    The <A HREF="intro.html#tab">tab</A> menu shows &quot;Close tab&quot; even when <A HREF="motion.html#it">it</A> doesn't work.
Solution:   Don't show &quot;Close tab&quot; for the last <A HREF="intro.html#tab">tab</A>. (John Marriott)
Files:      src/gui_w48.c, src/gui_gtk_x11.c, src/gui_mac.c, src/gui_motif.c

Patch 7.4.732
Problem:    The cursor line is not always updated for the &quot;<A HREF="insert.html#O">O</A>&quot; command.
Solution:   Reset the VALID_CROW flag. (Christian Brabandt)
Files:      src/normal.c

Patch 7.4.733
Problem:    test_listchars breaks on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Kenichi Ito)
Solution:   Set fileformat to &quot;<A HREF="os_unix.html#unix">unix</A>&quot;. (Christian Brabandt)
Files:      src/testdir/test_listchars.in

Patch 7.4.734
Problem:    ml_get error when using &quot;<A HREF="change.html#p">p</A>&quot; in a <A HREF="visual.html#Visual">Visual</A> selection in the last
            line.
Solution:   Change the behavior at the last line. (Yukihiro Nakadaira)
Files:      src/normal.c, src/ops.c, src/testdir/test94.in,
            src/testdir/test94.ok

Patch 7.4.735
Problem:    Wrong argument for sizeof().
Solution:   Use a pointer argument. (Chris Hall)
Files:      src/eval.c

Patch 7.4.736
Problem:    Invalid memory access.
Solution:   Avoid going over the end of a NUL terminated <A HREF="eval.html#string">string</A>. (Dominique
            Pelle)
Files:      src/regexp.c

Patch 7.4.737
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> vimgrep over <A HREF="editing.html#arglist">arglist</A> doesn't work (Issue 361)
Solution:   Only <A HREF="intro.html#escape">escape</A> backslashes in ## expansion when <A HREF="motion.html#it">it</A> is not used <A HREF="motion.html#as">as</A> the
            path separator. (James McCoy)
Files:      src/ex_docmd.c

Patch 7.4.738 (after 7.4.732)
Problem:    Can't compile without the <A HREF="syntax.html#syntax">syntax</A> highlighting feature.
Solution:   Add #ifdef around use of w_p_cul. (Hirohito Higashi)
Files:      src/normal.c, src/screen.c

Patch 7.4.739
Problem:    In a <A HREF="eval.html#string">string</A> &quot;\U&quot; only takes 4 digits, while after <A HREF="visual.html#CTRL-V">CTRL-V</A> <A HREF="undo.html#U">U</A> eight
            digits can be used.
Solution:   Make &quot;\U&quot; also take eight digits. (Christian Brabandt)
Files:      src/eval.c

Patch 7.4.740
Problem:    &quot;:1quit&quot; works like &quot;:.quit&quot;. (Bohr Shaw)
Solution:   Don't exit Vim when a range is specified. (Christian Brabandt)
Files:      src/ex_docmd.c, src/testdir/test13.in, src/testdir/test13.ok

Patch 7.4.741
Problem:    When using += with &quot;<A HREF="options.html#:set">:set</A>&quot; a trailing comma is not recognized.
            (Issue 365)
Solution:   Don't add a second comma. Add a test. (partly by Christian
            Brabandt)
Files:      src/option.c, src/testdir/test_set.in, src/testdir/test_set.ok,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.742
Problem:    Cannot specify a vertical split when loading a buffer for a
            <A HREF="quickfix.html#quickfix">quickfix</A> command.
Solution:   Add the &quot;vsplit&quot; value to <A HREF="options.html#'switchbuf'">'switchbuf'</A>. (Brook Hong)
Files:      runtime/doc/options.txt, src/buffer.c, src/option.h

Patch 7.4.743
Problem:    &quot;<A HREF="change.html#p">p</A>&quot; in <A HREF="visual.html#Visual">Visual</A> mode causes an unexpected line split.
Solution:   Advance the cursor first. (Yukihiro Nakadaira)
Files:      src/ops.c, src/testdir/test94.in, src/testdir/test94.ok

Patch 7.4.744
Problem:    No tests for <A HREF="if_ruby.html#Ruby">Ruby</A> and <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Add minimal tests. (Ken Takata)
Files:      src/testdir/test_perl.in, src/testdir/test_perl.ok,
            src/testdir/test_ruby.in, src/testdir/test_ruby.ok,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.745
Problem:    The entries added by <A HREF="eval.html#matchaddpos()">matchaddpos()</A> are returned by <A HREF="eval.html#getmatches()">getmatches()</A>
            but can't be set with <A HREF="eval.html#setmatches()">setmatches()</A>. (Lcd)
Solution:   Fix <A HREF="eval.html#setmatches()">setmatches()</A>. (Christian Brabandt)
Files:      src/eval.c, src/testdir/test63.in, src/testdir/test63.ok

Patch 7.4.746
Problem:    &quot;:[count]tag&quot; is not always working. (cs86661)
Solution:   Set cur_match a bit later. (Hirohito Higashi)
Files:      src/tag.c,

Patch 7.4.747
Problem:    &quot;<A HREF="quickfix.html#:cnext">:cnext</A>&quot; may jump to the wrong column when setting
            'virtualedit=all' (cs86661)
Solution:   Reset the coladd field. (Hirohito Higashi)
Files:      src/quickfix.c

Patch 7.4.748 (after 7.4.745)
Problem:    Buffer overflow.
Solution:   Make the buffer larger. (Kazunobu Kuriyama)
Files:      src/eval.c

Patch 7.4.749 (after 7.4.741)
Problem:    For some <A HREF="options.html#options">options</A> two consecutive commas are OK. (Nikolai Pavlov)
Solution:   Add the P_ONECOMMA flag.
Files:      src/option.c

Patch 7.4.750
Problem:    Cannot build with clang 3.5 on Cygwin with <A HREF="if_perl.html#perl">perl</A> enabled.
Solution:   Strip &quot;-fdebug-prefix-map&quot; in configure. (Ken Takata)
Files:      src/configure.in, src/auto/configure

Patch 7.4.751
Problem:    It is not obvious how to enable the address sanitizer.
Solution:   Add commented-out flags in the Makefile. (Dominique Pelle)
            Also add missing test targets.
Files:      src/Makefile

Patch 7.4.752
Problem:    <A HREF="mbyte.html#Unicode">Unicode</A> 8.0 not supported.
Solution:   Update tables for <A HREF="mbyte.html#Unicode">Unicode</A> 8.0.  Avoid <A HREF="windows.html#E36">E36</A> when running the <A HREF="usr_41.html#script">script</A>.
            (James McCoy)
Files:      runtime/tools/unicode.vim, src/mbyte.c

Patch 7.4.753
Problem:    Appending in <A HREF="visual.html#Visual">Visual</A> mode with <A HREF="options.html#'linebreak'">'linebreak'</A> set does not work
            properly.  Also when <A HREF="options.html#'selection'">'selection'</A> is &quot;<A HREF="motion.html#exclusive">exclusive</A>&quot;. (Ingo Karkat)
Solution:   Recalculate virtual columns. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok, src/testdir/test_listlbr_utf8.in,
            src/testdir/test_listlbr_utf8.ok

Patch 7.4.754
Problem:    Using <A HREF="change.html#CTRL-A">CTRL-A</A> in <A HREF="visual.html#Visual">Visual</A> mode does not work well. (Gary Johnson)
Solution:   Make <A HREF="motion.html#it">it</A> increment all numbers in the <A HREF="visual.html#Visual">Visual</A> area. (Christian
            Brabandt)
Files:      runtime/doc/change.txt, src/normal.c, src/ops.c,
            src/proto/ops.pro, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.755
Problem:    It is not <A HREF="starting.html#easy">easy</A> to <A HREF="intro.html#count">count</A> the number of characters.
Solution:   Add the skipcc argument to <A HREF="eval.html#strchars()">strchars()</A>. (Hirohito Higashi, Ken
            Takata)
Files:      runtime/doc/eval.txt, src/eval.c, src/testdir/test_utf8.in,
            src/testdir/test_utf8.ok

Patch 7.4.756
Problem:    Can't use strawberry <A HREF="if_perl.html#Perl">Perl</A> 5.22 x64 on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add new defines and #if. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/if_perl.xs

Patch 7.4.757
Problem:    Cannot detect the background color of a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add T_RBG to request the background color if possible. (Lubomir
            Rintel)
Files:      src/main.c, src/term.c, src/term.h, src/proto/term.pro

Patch 7.4.758
Problem:    When <A HREF="options.html#'conceallevel'">'conceallevel'</A> is 1 and quitting the command-line <A HREF="windows.html#window">window</A> with
            <A HREF="pattern.html#CTRL-C">CTRL-C</A> the first character '<A HREF="cmdline.html#:">:</A>' is erased.
Solution:   Reset <A HREF="options.html#'conceallevel'">'conceallevel'</A> in the command-line <A HREF="windows.html#window">window</A>. (Hirohito
            Higashi)
Files:      src/ex_getln.c

Patch 7.4.759
Problem:    Building with <A HREF="if_lua.html#Lua">Lua</A> 5.3 doesn't work, symbols have changed.
Solution:   Use the new names for the new version. (Felix Schnizlein)
Files:      src/if_lua.c

Patch 7.4.760
Problem:    Spelling mistakes are not displayed after &quot;<A HREF="syntax.html#:syn">:syn</A> spell&quot;.
Solution:   Force a redraw after &quot;<A HREF="syntax.html#:syn">:syn</A> spell&quot; command. (Christian Brabandt)
Files:      src/syntax.c

Patch 7.4.761 (after 7.4.757)
Problem:    The request-background termcode implementation is incomplete.
Solution:   Add the missing pieces.
Files:      src/option.c, src/term.c

Patch 7.4.762 (after 7.4.757)
Problem:    Comment for may_req_bg_color() is wrong. (Christ van Willegen)
Solution:   Rewrite the comment.
Files:      src/term.c

Patch 7.4.763 (after 7.4.759)
Problem:    Building with <A HREF="if_lua.html#Lua">Lua</A> 5.1 doesn't work.
Solution:   Define lua_replace and lua_remove. (KF Leong)
Files:      src/if_lua.c

Patch 7.4.764 (after 7.4.754)
Problem:    test_increment fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ken Takata)
Solution:   Clear <A HREF="visual.html#Visual">Visual</A> mappings. (Taro Muraoka)
Files:      src/testdir/test_increment.in

Patch 7.4.765 (after 7.4.754)
Problem:    <A HREF="change.html#CTRL-A">CTRL-A</A> and <A HREF="change.html#CTRL-X">CTRL-X</A> in <A HREF="visual.html#Visual">Visual</A> mode <A HREF="diff.html#do">do</A> not always work well.
Solution:   Improvements for increment and decrement. (Christian Brabandt)
Files:      src/normal.c, src/ops.c, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.766 (after 7.4.757)
Problem:    Background color check does not work on Tera Term.
Solution:   Also recognize ST <A HREF="motion.html#as">as</A> a termination character. (Hirohito Higashi)
Files:      src/term.c

Patch 7.4.767
Problem:    <A HREF="remote.html#--remote-tab-silent">--remote-tab-silent</A> can fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use single <A HREF="quotes.html#quotes">quotes</A> to avoid problems with backslashes. (Idea by
            Weiyong Mao)
Files:      src/main.c

Patch 7.4.768
Problem:    <A HREF="diff.html#:diffoff">:diffoff</A> only works properly once.
Solution:   Also make <A HREF="diff.html#:diffoff">:diffoff</A> work when used a second time. (Olaf Dabrunz)
Files:      src/diff.c

Patch 7.4.769 (after 7.4 768)
Problem:    Behavior of <A HREF="diff.html#:diffoff">:diffoff</A> is not tested.
Solution:   Add a bit of <A HREF="eval.html#testing">testing</A>. (Olaf Dabrunz)
Files:      src/testdir/test47.in, src/testdir/test47.ok

Patch 7.4.770 (after 7.4.766)
Problem:    Background color response with transparency is not ignored.
Solution:   Change the way <A HREF="intro.html#escape">escape</A> sequences are recognized. (partly by
            Hirohito Higashi)
Files:      src/ascii.h, src/term.c

Patch 7.4.771
Problem:    Search does not handle <A HREF="mbyte.html#multi-byte">multi-byte</A> character at the start position
            correctly.
Solution:   Take byte size of character into account. (Yukihiro Nakadaira)
Files:      src/search.c, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_search_mbyte.in,
            src/testdir/test_search_mbyte.ok

Patch 7.4.772
Problem:    Racket 6.2 is not supported on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Check for the &quot;racket&quot; subdirectory. (Weiyong Mao)
Files:      src/Make_mvc.mak, src/if_mzsch.c

Patch 7.4.773
Problem:    <A HREF="options.html#'langmap'">'langmap'</A> is used in command-line mode when checking for mappings.
            Issue 376.
Solution:   Do not use <A HREF="options.html#'langmap'">'langmap'</A> in command-line mode. (Larry Velazquez)
Files:      src/getchar.c, src/testdir/test_mapping.in,
            src/testdir/test_mapping.ok

Patch 7.4.774
Problem:    When using the <A HREF="autocmd.html#CompleteDone">CompleteDone</A> <A HREF="autocmd.html#autocommand">autocommand</A> event it's difficult to
            get to the completed items.
Solution:   Add the v:completed_items variable. (Shougo Matsu)
Files:      runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/edit.c,
            src/eval.c, src/macros.h, src/proto/eval.pro, src/vim.h

Patch 7.4.775
Problem:    It is not possible to avoid using the first item of completion.
Solution:   Add the &quot;noinsert&quot; and &quot;noselect&quot; values to <A HREF="options.html#'completeopt'">'completeopt'</A>. (Shougo
            Matsu)
Files:      runtime/doc/options.txt, src/edit.c, src/option.c

Patch 7.4.776
Problem:    Equivalence class for '<A HREF="change.html#d">d</A>' does not work correctly.
Solution:   Fix 0x1e0f and 0x1d0b. (Dominique Pelle)
Files:      src/regexp.c, src/regexp_nfa.c

Patch 7.4.777
Problem:    The README file doesn't look <A HREF="todo.html#nice">nice</A> on github.
Solution:   Add a markdown version of the README file.
Files:      Filelist, README.md

Patch 7.4.778
Problem:    Coverity warns for uninitialized variable.
Solution:   Change condition of assignment.
Files:      src/ops.c

Patch 7.4.779
Problem:    Using <A HREF="change.html#CTRL-A">CTRL-A</A> in a line without a number moves the cursor. May
            cause a crash when at the start of the line. (Urtica Dioica)
Solution:   Do not move the cursor if no number was changed.
Files:      src/ops.c

Patch 7.4.780
Problem:    Compiler complains about uninitialized variable and clobbered
            <A HREF="eval.html#variables">variables</A>.
Solution:   Add Initialization.  Make <A HREF="eval.html#variables">variables</A> static.
Files:      src/ops.c, src/main.c

Patch 7.4.781
Problem:    <A HREF="eval.html#line2byte()">line2byte()</A> returns one <A HREF="various.html#less">less</A> when <A HREF="options.html#'bin'">'bin'</A> and <A HREF="options.html#'noeol'">'noeol'</A> are set.
Solution:   Only adjust the size for the last line. (Rob Wu)
Files:      src/memline.c

Patch 7.4.782
Problem:    Still a few problems with <A HREF="change.html#CTRL-A">CTRL-A</A> and <A HREF="change.html#CTRL-X">CTRL-X</A> in <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Fix the reported problems. (Christian Brabandt)
Files:      src/charset.c, src/eval.c, src/ex_cmds.c, src/ex_getln.c,
            src/misc2.c, src/normal.c, src/ops.c, src/option.c,
            src/proto/charset.pro, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.783
Problem:    copy_chars() and copy_spaces() are inefficient.
Solution:   Use memset() instead. (Dominique Pelle)
Files:      src/ex_getln.c, src/misc2.c, src/ops.c, src/proto/misc2.pro,
            src/screen.c

Patch 7.4.784
Problem:    Using both &quot;noinsert&quot; and &quot;noselect&quot; in <A HREF="options.html#'completeopt'">'completeopt'</A> does not
            work properly.
Solution:   Change the ins_complete() calls. (Ozaki Kiichi)
Files:      src/edit.c

Patch 7.4.785
Problem:    On some systems automatically adding the missing EOL causes
            problems. Setting <A HREF="options.html#'binary'">'binary'</A> has too many side effects.
Solution:   Add the <A HREF="options.html#'fixeol'">'fixeol'</A> option, default on. (Pavel Samarkin)
Files:      src/buffer.c, src/fileio.c, src/memline.c, src/netbeans.c,
            src/ops.c, src/option.c, src/option.h, src/os_unix.c,
            src/os_win32.c, src/structs.h, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_fixeol.in,
            src/testdir/test_fixeol.ok, runtime/doc/options.txt,
            runtime/optwin.vim

Patch 7.4.786
Problem:    It is not possible for a <A HREF="usr_05.html#plugin">plugin</A> to adjust to a changed setting.
Solution:   Add the <A HREF="autocmd.html#OptionSet">OptionSet</A> <A HREF="autocmd.html#autocommand">autocommand</A> event. (Christian Brabandt)
Files:      runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/eval.c,
            src/fileio.c, src/option.c, src/proto/eval.pro,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/test_autocmd_option.in,
            src/testdir/test_autocmd_option.ok, src/vim.h

Patch 7.4.787 (after 7.4.786)
Problem:    snprintf() isn't available everywhere.
Solution:   Use vim_snprintf(). (Ken Takata)
Files:      src/option.c

Patch 7.4.788 (after 7.4.787)
Problem:    Can't build without the crypt feature. (John Marriott)
Solution:   Add #ifdef's.
Files:      src/option.c

Patch 7.4.789 (after 7.4.788)
Problem:    Using freed memory and crash. (Dominique Pelle)
Solution:   Correct use of pointers. (Hirohito Higashi)
Files:      src/option.c

Patch 7.4.790 (after 7.4.786)
Problem:    Test fails when the autochdir feature is not available.  Test
            output contains the test <A HREF="usr_41.html#script">script</A>.
Solution:   Check for the autochdir feature. (Kazunobu Kuriyama)  Only write
            the relevant test output.
Files:      src/testdir/test_autocmd_option.in,
            src/testdir/test_autocmd_option.ok

Patch 7.4.791
Problem:    The buffer <A HREF="eval.html#list">list</A> can be very long.
Solution:   Add an argument to &quot;<A HREF="windows.html#:ls">:ls</A>&quot; to specify the type of buffer to <A HREF="eval.html#list">list</A>.
            (Marcin Szamotulski)
Files:      runtime/doc/windows.txt, src/buffer.c, src/ex_cmds.h

Patch 7.4.792
Problem:    Can only <A HREF="syntax.html#conceal">conceal</A> text by defining <A HREF="syntax.html#syntax">syntax</A> items.
Solution:   Use <A HREF="eval.html#matchadd()">matchadd()</A> to define concealing. (Christian Brabandt)
Files:      runtime/doc/eval.txt, src/eval.c, src/ex_docmd.c,
            src/proto/window.pro, src/screen.c, src/structs.h,
            src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_match_conceal.in,
            src/testdir/test_match_conceal.ok, src/window.c

Patch 7.4.793
Problem:    Can't specify when not to ring the bell.
Solution:   Add the <A HREF="options.html#'belloff'">'belloff'</A> option. (Christian Brabandt)
Files:      runtime/doc/options.txt, src/edit.c, src/ex_getln.c,
            src/hangulin.c, src/if_lua.c, src/if_mzsch.c, src/if_tcl.c,
            src/message.c, src/misc1.c, src/normal.c, src/option.c,
            src/option.h, src/proto/misc1.pro, src/search.c, src/spell.c

Patch 7.4.794
Problem:    <A HREF="visual.html#Visual">Visual</A> Studio 2015 is not recognized.
Solution:   Add the version numbers to the makefile. (Taro Muraoka)
Files:      src/Make_mvc.mak

Patch 7.4.795
Problem:    The <A HREF="options.html#'fixeol'">'fixeol'</A> option is not copied to a new <A HREF="windows.html#window">window</A>.
Solution:   Copy the option value. (Yasuhiro Matsumoto)
Files:      src/option.c

Patch 7.4.796
Problem:    Warning from 64 bit compiler.
Solution:   Add type cast. (Mike Williams)
Files:      src/ops.c

Patch 7.4.797
Problem:    Crash when using more lines for the command line than
            <A HREF="options.html#'maxcombine'">'maxcombine'</A>.
Solution:   Use the correct array index.  Also, <A HREF="diff.html#do">do</A> not try redrawing when
            <A HREF="starting.html#exiting">exiting</A>.  And use screen_Columns instead of Columns.
Files:      src/screen.c

Patch 7.4.798 (after 7.4.753)
Problem:    Repeating a change in <A HREF="visual.html#Visual">Visual</A> mode does not work <A HREF="motion.html#as">as</A> expected.
            (Urtica Dioica)
Solution:   Make <A HREF="undo.html#redo">redo</A> in <A HREF="visual.html#Visual">Visual</A> mode work better. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok

Patch 7.4.799
Problem:    Accessing memory before an allocated block.
Solution:   Check for not going before the start of a <A HREF="pattern.html#pattern">pattern</A>. (Dominique
            Pelle)
Files:      src/fileio.c

Patch 7.4.800
Problem:    Using freed memory when triggering <A HREF="autocmd.html#CmdUndefined">CmdUndefined</A> <A HREF="autocmd.html#autocommands">autocommands</A>.
Solution:   Set pointer to NULL. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.801 (after 7.4.769)
Problem:    Test for &quot;<A HREF="diff.html#:diffoff">:diffoff</A>&quot; doesn't catch all potential problems.
Solution:   Add a <A HREF="diff.html#:diffthis">:diffthis</A> and a <A HREF="diff.html#:diffoff">:diffoff</A> command. (Olaf Dabrunz)
Files:      src/testdir/test47.in

Patch 7.4.802
Problem:    Using &quot;<A HREF="insert.html#A">A</A>&quot; in <A HREF="visual.html#Visual">Visual</A> mode while <A HREF="options.html#'linebreak'">'linebreak'</A> is set is not tested.
Solution:   Add a test for this, verifies the problem is fixed. (Ingo Karkat)
Files:      src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.803
Problem:    C indent does not support C11 raw strings. (Mark Lodato)
Solution:   Do not change indent inside the raw <A HREF="eval.html#string">string</A>.
Files:      src/search.c, src/misc1.c, src/edit.c, src/ops.c,
            src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.804
Problem:    Xxd doesn't have a <A HREF="uganda.html#license">license</A> notice.
Solution:   Add <A HREF="uganda.html#license">license</A> <A HREF="motion.html#as">as</A> indicated by Juergen.
Files:      src/xxd/xxd.c

Patch 7.4.805
Problem:    The ruler shows &quot;Bot&quot; even when there are only filler lines
            missing. (Gary Johnson)
Solution:   Use &quot;All&quot; when the first line and one filler line are visible.
Files:      src/buffer.c

Patch 7.4.806
Problem:    <A HREF="change.html#CTRL-A">CTRL-A</A> in <A HREF="visual.html#Visual">Visual</A> mode doesn't work properly with &quot;alpha&quot; in
            <A HREF="options.html#'nrformats'">'nrformats'</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work. (Christian Brabandt)
Files:      src/ops.c, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.807 (after 7.4.798)
Problem:    After <A HREF="visual.html#CTRL-V">CTRL-V</A> <A HREF="change.html#CTRL-A">CTRL-A</A> mode isn't updated. (Hirohito Higashi)
Solution:   Clear the command line or update the displayed command.
Files:      src/normal.c

Patch 7.4.808
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> 8 <A HREF="mbyte.html#IME">IME</A> input doesn't work correctly.
Solution:   Read console input before calling MsgWaitForMultipleObjects().
            (vim-jp, Nobuhiro Takasaki)
Files:      src/os_win32.c

Patch 7.4.809 (after 7.4.802)
Problem:    Test is duplicated.
Solution:   Roll back 7.4.802.
Files:      src/testdir/test39.in, src/testdir/test39.ok

Patch 7.4.810
Problem:    With a sequence of commands using <A HREF="windows.html#buffers">buffers</A> in <A HREF="diff.html#diff">diff</A> mode <A HREF="various.html#E749">E749</A> is
            given. (itchyny)
Solution:   Skip unloaded buffer. (Hirohito Higashi)
Files:      src/diff.c

Patch 7.4.811
Problem:    Invalid memory access when using &quot;exe 'sc&#39;&#34;'.
Solution:   Avoid going over the end of the <A HREF="eval.html#string">string</A>. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.812
Problem:    Gcc sanitizer complains about using a NULL pointer to memmove().
Solution:   Only call memmove when there is something to move. (Vittorio
            Zecca)
Files:      src/memline.c

Patch 7.4.813
Problem:    It is not possible to save and restore character search state.
Solution:   Add <A HREF="eval.html#getcharsearch()">getcharsearch()</A> and <A HREF="eval.html#setcharsearch()">setcharsearch()</A>.  (James McCoy)
Files:      runtime/doc/eval.txt, src/eval.c, src/proto/search.pro,
            src/search.c, src/testdir/test_charsearch.in,
            src/testdir/test_charsearch.ok, src/testdir/Makefile,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms

Patch 7.4.814
Problem:    Illegal memory access with &quot;sy match a fold&quot;.
Solution:   Check for empty <A HREF="eval.html#string">string</A>. (Dominique Pelle)
Files:      src/syntax.c

Patch 7.4.815
Problem:    Invalid memory access when doing &quot;<A HREF="eval.html#:call">:call</A> g:&quot;.
Solution:   Check for an empty name. (Dominique Pelle)
Files:      src/eval.c

Patch 7.4.816
Problem:    Invalid memory access when doing &quot;:fun X(&quot;.
Solution:   Check for missing '<A HREF="motion.html#)">)</A>'. (Dominique Pelle)
Files:      src/eval.c

Patch 7.4.817
Problem:    Invalid memory access in file_pat_to_reg_pat().
Solution:   Use vim_isspace() instead of checking for a space only. (Dominique
            Pelle)
Files:      src/fileio.c

Patch 7.4.818
Problem:    <A HREF="options.html#'linebreak'">'linebreak'</A> breaks c&#37; if the last <A HREF="visual.html#Visual">Visual</A> selection was block.
            (Chris Morganiser, Issue 389)
Solution:   Handle <A HREF="visual.html#Visual">Visual</A> block mode differently. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok

Patch 7.4.819
Problem:    Beeping when running the tests.
Solution:   Fix 41 beeps. (Roland Eggner)
Files:      src/testdir/test17.in, src/testdir/test29.in,
            src/testdir/test4.in, src/testdir/test61.in,
            src/testdir/test82.in, src/testdir/test83.in,
            src/testdir/test90.in, src/testdir/test95.in,
            src/testdir/test_autoformat_join.in

Patch 7.4.820
Problem:    Invalid memory access in file_pat_to_reg_pat.
Solution:   Avoid looking before the start of a <A HREF="eval.html#string">string</A>. (Dominique Pelle)
Files:      src/fileio.c

Patch 7.4.821
Problem:    Coverity reports a few problems.
Solution:   Avoid the warnings. (Christian Brabandt)
Files:      src/ex_docmd.c, src/option.c, src/screen.c

Patch 7.4.822
Problem:    More problems reported by coverity.
Solution:   Avoid the warnings. (Christian Brabandt)
Files:      src/os_unix.c, src/eval.c, src/ex_cmds.c, src/ex_cmds2.c,
            src/ex_getln.c, src/fold.c, src/gui.c, src/gui_w16.c,
            src/gui_w32.c, src/if_cscope.c, src/if_xcmdsrv.c, src/move.c,
            src/normal.c, src/regexp.c, src/syntax.c, src/ui.c, src/window.c

Patch 7.4.823
Problem:    Cursor moves after <A HREF="change.html#CTRL-A">CTRL-A</A> on alphabetic character.
Solution:   (Hirohito Higashi, test by Christian Brabandt)
Files:      src/testdir/test_increment.in, src/testdir/test_increment.ok,
            src/ops.c

Patch 7.4.824 (after 7.4.813)
Problem:    Can't compile without the <A HREF="mbyte.html#multi-byte">multi-byte</A> feature. (John Marriott)
Solution:   Add #ifdef.
Files:      src/eval.c

Patch 7.4.825
Problem:    Invalid memory access for &quot;<A HREF="syntax.html#:syn">:syn</A> keyword <A HREF="change.html#x">x</A> a[&quot;.
Solution:   Do not skip over the NUL. (Dominique Pelle)
Files:      src/syntax.c

Patch 7.4.826
Problem:    Compiler warnings and <A HREF="message.html#errors">errors</A>.
Solution:   Make <A HREF="motion.html#it">it</A> build properly without the <A HREF="mbyte.html#multi-byte">multi-byte</A> feature.
Files:      src/eval.c, src/search.c

Patch 7.4.827
Problem:    Not all test targets are in the Makefile.
Solution:   Add the missing targets.
Files:      src/Makefile

Patch 7.4.828
Problem:    Crash when using &quot;syn keyword <A HREF="change.html#x">x</A> c&quot;. (Dominique Pelle)
Solution:   Initialize the keyword table. (Raymond Ko, PR 397)
Files:      src/syntax.c

Patch 7.4.829
Problem:    Crash when clicking in beval balloon. (Travis Lebsock)
Solution:   Use PostMessage() instead of DestroyWindow(). (Raymond Ko, PR 298)
Files:      src/gui_w32.c

Patch 7.4.830
Problem:    Resetting <A HREF="options.html#'encoding'">'encoding'</A> when doing &quot;<A HREF="options.html#:set">:set</A> all&amp;&quot; causes problems.
            (Bjorn Linse) Display is not updated.
Solution:   Do not reset <A HREF="options.html#'encoding'">'encoding'</A>. Do a full redraw.
Files:      src/option.c

Patch 7.4.831
Problem:    When expanding `=expr` on the command line and encountering an
            error, the command is executed anyway.
Solution:   Bail out when an error is detected.
Files:      src/misc1.c

Patch 7.4.832
Problem:    <A HREF="options.html#$HOME">$HOME</A> in `=$HOME . '/.vimrc'` is expanded too early.
Solution:   Skip over `=expr` when expanding environment names.
Files:      src/misc1.c

Patch 7.4.833
Problem:    More side effects of &quot;<A HREF="options.html#:set">:set</A> all&amp;&quot; are missing. (Bjrn Linse)
Solution:   Call didset_options() and add didset_options2() to collect more
            side effects to take care of.  Still not everything...
Files:      src/option.c

Patch 7.4.834
Problem:    <A HREF="eval.html#gettabvar()">gettabvar()</A> doesn't work after Vim start. (Szymon Wrozynski)
Solution:   Handle first <A HREF="windows.html#window">window</A> in <A HREF="intro.html#tab">tab</A> still being NULL. (Christian Brabandt)
Files:      src/eval.c, src/testdir/test91.in, src/testdir/test91.ok

Patch 7.4.835
Problem:    Comparing <A HREF="mbyte.html#utf-8">utf-8</A> sequences does not handle different byte sizes
            correctly.
Solution:   Get the byte size of each character. (Dominique Pelle)
Files:      src/misc2.c

Patch 7.4.836
Problem:    Accessing uninitialized memory.
Solution:   Add missing calls to init_tv(). (Dominique Pelle)
Files:      src/eval.c

Patch 7.4.837
Problem:    Compiler warning with MSVC compiler when using +sniff.
Solution:   Use Sleep() instead of _sleep(). (Tux)
Files:      src/if_sniff.c

Patch 7.4.838 (after 7.4.833)
Problem:    Can't compile without the crypt feature. (John Marriott)
Solution:   Add #ifdef.
Files:      src/option.c

Patch 7.4.839
Problem:    Compiler warning on 64-bit system.
Solution:   Add cast to int. (Mike Williams)
Files:      src/search.c

Patch 7.4.840 (after 7.4.829)
Problem:    Tooltip <A HREF="windows.html#window">window</A> stays open.
Solution:   Send a WM_CLOSE message. (Jurgen Kramer)
Files:      src/gui_w32.c

Patch 7.4.841
Problem:    Can't compile without the <A HREF="mbyte.html#multi-byte">multi-byte</A> feature. (John Marriott)
Solution:   Add more #ifdef's.
Files:      src/option.c

Patch 7.4.842 (after 7.4.840)
Problem:    Sending too many <A HREF="message.html#messages">messages</A> to close the balloon.
Solution:   Only send a WM_CLOSE message. (Jurgen Kramer)
Files:      src/gui_w32.c

Patch 7.4.843 (after 7.4.835)
Problem:    Still possible to go beyond the end of a <A HREF="eval.html#string">string</A>.
Solution:   Check for NUL also in second <A HREF="eval.html#string">string</A>. (Dominique Pelle)
Files:      src/misc2.c

Patch 7.4.844
Problem:    When '<A HREF="pattern.html##">#</A>' is in <A HREF="options.html#'isident'">'isident'</A> the is# comparator doesn't work.
Solution:   Don't use vim_isIDc(). (Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_comparators.in,
            src/testdir/test_comparators.ok, src/testdir/Makefile,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms

Patch 7.4.845
Problem:    Compiler warning for possible loss of data.
Solution:   Add a type cast. (Erich Ritz)
Files:      src/misc1.c

Patch 7.4.846
Problem:    Some GitHub users don't know how to use issues.
Solution:   Add a file that explains the basics of contributing.
Files:      Filelist, CONTRIBUTING.md

Patch 7.4.847
Problem:    &quot;vi)d&quot; may leave a character behind.
Solution:   Skip over <A HREF="mbyte.html#multi-byte">multi-byte</A> character. (Christian Brabandt)
Files:      src/search.c

Patch 7.4.848
Problem:    <A HREF="change.html#CTRL-A">CTRL-A</A> on hex number in <A HREF="visual.html#Visual">Visual</A> block mode is incorrect.
Solution:   Account for the &quot;0x&quot;. (Hirohito Higashi)
Files:      src/charset.c, src/testdir/test_increment.in,
            src/testdir/test_increment.ok

Patch 7.4.849
Problem:    Moving the cursor in <A HREF="insert.html#Insert">Insert</A> mode starts new <A HREF="undo.html#undo">undo</A> sequence.
Solution:   Add <A HREF="editing.html#CTRL-G">CTRL-G</A> <A HREF="undo.html#U">U</A> to keep the <A HREF="undo.html#undo">undo</A> sequence for the following cursor
            <A HREF="intro.html#movement">movement</A> command. (Christian Brabandt)
Files:      runtime/doc/insert.txt, src/edit.c, src/testdir/test_mapping.in,
            src/testdir/test_mapping.ok

Patch 7.4.850 (after 7.4.846)
Problem:    <A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A> does not show up.
Solution:   Use &amp;gt; and &amp;lt;. (Kazunobu Kuriyama)
Files:      CONTRIBUTING.md

Patch 7.4.851
Problem:    Saving and restoring the console buffer does not work properly.
Solution:   Instead of ReadConsoleOutputA/WriteConsoleOutputA use
            CreateConsoleScreenBuffer and SetConsoleActiveScreenBuffer.
            (Ken Takata)
Files:      src/os_win32.c

Patch 7.4.852
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console Vim uses ANSI APIs for keyboard input and
            console output, <A HREF="motion.html#it">it</A> cannot input/output <A HREF="mbyte.html#Unicode">Unicode</A> characters.
Solution:   Use <A HREF="mbyte.html#Unicode">Unicode</A> APIs for console I/O. (Ken Takata, Yasuhiro Matsumoto)
Files:      src/os_win32.c, src/ui.c, runtime/doc/options.txt

Patch 7.4.853
Problem:    &quot;<A HREF="scroll.html#zt">zt</A>&quot; in <A HREF="diff.html#diff">diff</A> mode does not always work properly. (Gary Johnson)
Solution:   Don't <A HREF="intro.html#count">count</A> filler lines <A HREF="if_cscop.html#twice">twice</A>. (Christian Brabandt)
Files:      src/move.c

Patch 7.4.854 (after 7.4.850)
Problem:    Missing information about runtime files.
Solution:   Add section about runtime files. (Christian Brabandt)
Files:      CONTRIBUTING.md

Patch 7.4.855
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: font glitches for combining characters
Solution:   Use pango_shape_full() instead of pango_shape(). (luchr, PR #393)
Files:      src/gui_gtk_x11.c

Patch 7.4.856
Problem:    &quot;<A HREF="scroll.html#zt">zt</A>&quot; still doesn't work well with filler lines. (Gary Johnson)
Solution:   Check for filler lines above the cursor. (Christian Brabandt)
Files:      src/move.c

Patch 7.4.857
Problem:    Dragging the current <A HREF="intro.html#tab">tab</A> with the mouse doesn't work properly.
Solution:   Take the current <A HREF="tabpage.html#tabpage">tabpage</A> index into account. (Hirohito Higashi)
Files:      src/normal.c

Patch 7.4.858
Problem:    It's a bit clumsy to execute a command on a <A HREF="eval.html#list">list</A> of matches.
Solution:   Add the &quot;<A HREF="quickfix.html#:ldo">:ldo</A>&quot;, &quot;<A HREF="quickfix.html#:lfdo">:lfdo</A>&quot;, &quot;<A HREF="quickfix.html#:cdo">:cdo</A>&quot; and &quot;<A HREF="quickfix.html#:cfdo">:cfdo</A>&quot; commands. (Yegappan
            Lakshmanan)
Files:      runtime/doc/cmdline.txt, runtime/doc/editing.txt,
            runtime/doc/index.txt, runtime/doc/quickfix.txt,
            runtime/doc/tabpage.txt, runtime/doc/windows.txt, src/ex_cmds.h,
            src/ex_cmds2.c, src/ex_docmd.c, src/proto/quickfix.pro,
            src/quickfix.c, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/test_cdo.in,
            src/testdir/test_cdo.ok

Patch 7.4.859
Problem:    Vim doesn't recognize all htmldjango files.
Solution:   Recognize a comment. (Daniel Hahler, PR #410)
Files:      runtime/filetype.vim

Patch 7.4.860
Problem:    Filetype detection is outdated.
Solution:   Include all recent and not-so-recent changes.
Files:      runtime/filetype.vim

Patch 7.4.861 (after 7.4.855)
Problem:    pango_shape_full() is not always available.
Solution:   Add a configure check.
Files:      src/configure.in, src/auto/configure, src/config.h.in,
            src/gui_gtk_x11.c

Patch 7.4.862 (after 7.4.861)
Problem:    Still problems with pango_shape_full() not available.
Solution:   Change AC_TRY_COMPILE to AC_TRY_LINK.
Files:      src/configure.in, src/auto/configure

Patch 7.4.863 (after 7.4.856)
Problem:    plines_nofill() used without the <A HREF="diff.html#diff">diff</A> feature.
Solution:   Define PLINES_NOFILL().
Files:      src/macros.h, src/move.c

Patch 7.4.864 (after 7.4.858)
Problem:    Tiny build fails.
Solution:   Put qf_ items inside #ifdef.
Files:      src/ex_docmd.c

Patch 7.4.865
Problem:    Compiler warning for uninitialized variable.
Solution:   Initialize.
Files:      src/ex_cmds2.c

Patch 7.4.866
Problem:    Crash when <A HREF="change.html#changing">changing</A> the <A HREF="options.html#'tags'">'tags'</A> option from a remote command.
            (Benjamin Fritz)
Solution:   Instead of executing <A HREF="message.html#messages">messages</A> immediately, use a queue, like for
            <A HREF="netbeans.html#netbeans">netbeans</A>. (James Kolb)
Files:      src/ex_docmd.c, src/getchar.c, src/gui_gtk_x11.c, src/gui_w48.c,
            src/gui_x11.c, src/if_xcmdsrv.c, src/misc2.c, src/os_unix.c,
            src/proto/if_xcmdsrv.pro, src/proto/misc2.pro, src/macros.h

Patch 7.4.867 (after 7.4.866)
Problem:    Can't build on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Taro Muraoka)
Solution:   Adjust #ifdef.
Files:      src/misc2.c

Patch 7.4.868
Problem:    <A HREF="options.html#'smarttab'">'smarttab'</A> is also effective when <A HREF="options.html#'paste'">'paste'</A> is enabled. (Alexander
            Monakov)
Solution:   Disable <A HREF="options.html#'smarttab'">'smarttab'</A> when <A HREF="options.html#'paste'">'paste'</A> is set. (Christian Brabandt)
            Do the same for <A HREF="options.html#'expandtab'">'expandtab'</A>.
Files:      src/option.c, src/structs.h

Patch 7.4.869
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="scroll.html#scrolling">scrolling</A> may cause text to disappear when using an
            Intel GPU.
Solution:   Call GetPixel(). (Yohei Endo)
Files:      src/gui_w48.c

Patch 7.4.870
Problem:    May get into an invalid state when using <A HREF="eval.html#getchar()">getchar()</A> in an
            <A HREF="eval.html#expression">expression</A> <A HREF="map.html#mapping">mapping</A>.
Solution:   Anticipate mod_mask to change. (idea by Yukihiro Nakadaira)
Files:      src/getchar.c

Patch 7.4.871
Problem:    Vim leaks memory, when <A HREF="options.html#'wildignore'">'wildignore'</A> filters out all matches.
Solution:   Free the files array when <A HREF="motion.html#it">it</A> becomes empty.
Files:      src/misc1.c

Patch 7.4.872
Problem:    Not using CI services available.
Solution:   Add configuration files for travis and appveyor. (Ken Takata,
            vim-jp, PR #401)
Files:      .travis.yml, appveyor.yml, Filelist

Patch 7.4.873 (after 7.4.866)
Problem:    Compiler warning for unused variable. (Tony Mechelynck)
Solution:   Remove the variable.  Also fix int vs long_u mixup.
Files:      src/if_xcmdsrv.c

Patch 7.4.874
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: When Vim runs inside another application, the size
            isn't right.
Solution:   When in child mode compute the size differently. (Agorgianitis
            Loukas)
Files:      src/gui_w48.c

Patch 7.4.875
Problem:    Not obvious how to contribute.
Solution:   Add a remark about CONTRIBUTING.md to README.md
Files:      README.md

Patch 7.4.876
Problem:    Windows7: when using vim.exe with msys or msys2, conhost.exe
            (console <A HREF="windows.html#window">window</A> provider on Windows7) will freeze or crash.
Solution:   Make original screen buffer active, before executing external
            program.  And when the program is finished, revert to vim's one.
            (Taro Muraoka)
Files:      src/os_win32.c

Patch 7.4.877 (after 7.4.843)
Problem:    &quot;<A HREF="editing.html#:find">:find</A>&quot; sometimes fails. (Excanoe)
Solution:   Compare current characters instead of previous ones.
Files:      src/misc2.c

Patch 7.4.878
Problem:    Coverity error for clearing only one byte of struct.
Solution:   Clear the whole struct. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.879
Problem:    Can't see line numbers in nested function calls.
Solution:   Add line number to the file name. (Alberto Fanjul)
Files:      src/eval.c

Patch 7.4.880
Problem:    No build and coverage status.
Solution:   Add links to the README file. (Christian Brabandt)
Files:      README.md

Patch 7.4.881 (after 7.4.879)
Problem:    Test 49 fails.
Solution:   Add line number to check of call stack.
Files:      src/testdir/test49.vim

Patch 7.4.882
Problem:    When leaving the command line <A HREF="windows.html#window">window</A> with <A HREF="pattern.html#CTRL-C">CTRL-C</A> while a
            completion menu is displayed the menu isn't removed.
Solution:   Force a screen update. (Hirohito Higashi)
Files:      src/edit.c

Patch 7.4.883 (after 7.4.818)
Problem:    Block-mode replace works <A HREF="motion.html#characterwise">characterwise</A> instead of blockwise after
            column 147. (Issue #422)
Solution:   Set <A HREF="visual.html#Visual">Visual</A> mode. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok

Patch 7.4.884
Problem:    Travis also builds on a <A HREF="tagsrch.html#tag">tag</A> push.
Solution:   Filter out <A HREF="tagsrch.html#tag">tag</A> pushes. (Kenichi Ito)
Files:      .travis.yml

Patch 7.4.885
Problem:    When doing an upwards search without <A HREF="editing.html#wildcards">wildcards</A> the search fails if
            the initial directory doesn't exist.
Solution:   Fix the non-wildcard <A HREF="change.html#case">case</A>. (Stefan Kempf)
Files:      src/misc2.c

Patch 7.4.886 (after 7.4.876)
Problem:    Windows7: Switching screen buffer causes flicker when using
            <A HREF="eval.html#system()">system()</A>.
Solution:   Instead of actually switching screen buffer, duplicate the handle.
            (Yasuhiro Matsumoto)
Files:      src/os_win32.c

Patch 7.4.887
Problem:    Using uninitialized memory for <A HREF="pattern.html#regexp">regexp</A> with back reference.
            (Dominique Pelle)
Solution:   Initialize end_lnum.
Files:      src/regexp_nfa.c

Patch 7.4.888
Problem:    The <A HREF="autocmd.html#OptionSet">OptionSet</A> <A HREF="autocmd.html#autocommands">autocommands</A> are not triggered from <A HREF="eval.html#setwinvar()">setwinvar()</A>.
Solution:   Do not use switch_win() when not needed. (Hirohito Higashi)
Files:      src/eval.c

Patch 7.4.889
Problem:    Triggering <A HREF="autocmd.html#OptionSet">OptionSet</A> from <A HREF="eval.html#setwinvar()">setwinvar()</A> isn't tested.
Solution:   Add a test. (Christian Brabandt)
Files:      src/testdir/test_autocmd_option.in,
            src/testdir/test_autocmd_option.ok

Patch 7.4.890
Problem:    Build failure when using dynamic <A HREF="if_pyth.html#python">python</A> but not <A HREF="if_pyth.html#python3">python3</A>.
Solution:   Adjust the #if to also include DYNAMIC_PYTHON3 and UNIX.
Files:      src/if_python3.c

Patch 7.4.891
Problem:    Indentation of array initializer is wrong.
Solution:   Avoid that calling find_start_rawstring() changes the position
            returned by find_start_comment(), add a test. (Hirohito Higashi)
Files:      src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.892
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> the iconv DLL may have a different name.
Solution:   Also try libiconv2.dll and libiconv-2.dll. (Yasuhiro Matsumoto)
Files:      src/mbyte.c

Patch 7.4.893
Problem:    C indenting is wrong below a &quot;<A HREF="change.html#case">case</A> (foo):&quot; because <A HREF="motion.html#it">it</A> is
            recognized <A HREF="motion.html#as">as</A> a C++ base class construct.  Issue #38.
Solution:   Check for the <A HREF="change.html#case">case</A> keyword.
Files:      src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.894
Problem:    vimrun.exe is picky about the number of spaces before <A HREF="starting.html#-s">-s</A>.
Solution:   Skip all spaces. (Cam Sinclair)
Files:      src/vimrun.c

Patch 7.4.895
Problem:    Custom command line completion does not work for a command
            containing digits.
Solution:   Skip over the digits. (suggested by Yasuhiro Matsumoto)
Files:      src/ex_docmd.c

Patch 7.4.896
Problem:    Editing a URL, which <A HREF="pi_netrw.html#netrw">netrw</A> should handle, doesn't work.
Solution:   Avoid <A HREF="change.html#changing">changing</A> slashes to backslashes. (Yasuhiro Matsumoto)
Files:      src/fileio.c, src/os_mswin.c

Patch 7.4.897
Problem:    Freeze and crash when there is a sleep in a remote command.
            (Karl Yngve Lervg)
Solution:   Remove a message from the queue before dealing with <A HREF="motion.html#it">it</A>. (James
            Kolb)
Files:      src/if_xcmdsrv.c

Patch 7.4.898
Problem:    The <A HREF="options.html#'fixendofline'">'fixendofline'</A> option is set on with &quot;<A HREF="editing.html#:edit">:edit</A>&quot;.
Solution:   Don't set the option when clearing a buffer. (Yasuhiro Matsumoto)
Files:      src/buffer.c

Patch 7.4.899
Problem:    README file is not optimal.
Solution:   Move buttons, update some text. (closes #460)
Files:      README.txt, README.md

Patch 7.4.900 (after 7.4.899)
Problem:    README file can still be improved
Solution:   Add a couple of links. (Christian Brabandt)
Files:      README.md

Patch 7.4.901
Problem:    When a <A HREF="autocmd.html#BufLeave">BufLeave</A> <A HREF="autocmd.html#autocommand">autocommand</A> changes <A HREF="fold.html#folding">folding</A> in a way <A HREF="motion.html#it">it</A> syncs
            <A HREF="undo.html#undo">undo</A>, <A HREF="undo.html#undo">undo</A> can be corrupted.
Solution:   Prevent <A HREF="undo.html#undo">undo</A> sync. (Jacob Niehus)
Files:      src/popupmnu.c

Patch 7.4.902
Problem:    Problems with using the <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   Revert patches 7.4.851, 7.4.876 and 7.4.886 until we find a better
            solution. (suggested by Ken Takata)
Files:      src/os_win32.c

Patch 7.4.903
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: When <A HREF="options.html#'encoding'">'encoding'</A> differs from the current code page,
            expanding <A HREF="editing.html#wildcards">wildcards</A> may cause illegal memory access.
Solution:   Allocate a longer buffer. (Ken Takata)
Files:      src/misc1.c

Patch 7.4.904
Problem:    Vim does not provide .desktop files.
Solution:   Include and <A HREF="usr_90.html#install">install</A> .desktop files. (James McCoy, closes #455)
Files:      Filelist, runtime/vim.desktop, runtime/gvim.desktop, src/Makefile

Patch 7.4.905
Problem:    <A HREF="if_pyth.html#Python">Python</A> interface can produce error &quot;vim.message' object has no
            attribute 'isatty&#39;&#34;'.
Solution:   Add dummy isatty(), readable(), etc. (closes #464)
Files:      src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.906
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> the <A HREF="starting.html#viminfo">viminfo</A> file is (always) given the hidden
            attribute. (raulnac)
Solution:   Check the hidden attribute in a different way. (Ken Takata)
Files:      src/ex_cmds.c, src/os_win32.c, src/os_win32.pro

Patch 7.4.907
Problem:    Libraries for dynamically loading interfaces can only be defined
            at compile time.
Solution:   Add <A HREF="options.html#options">options</A> to specify the dll names. (Kazuki Sakamoto,
            closes #452)
Files:      runtime/doc/if_lua.txt, runtime/doc/if_perl.txt,
            runtime/doc/if_pyth.txt, runtime/doc/if_ruby.txt,
            runtime/doc/options.txt, src/if_lua.c, src/if_perl.xs,
            src/if_python.c, src/if_python3.c, src/if_ruby.c, src/option.c,
            src/option.h

Patch 7.4.908 (after 7.4.907)
Problem:    Build error with MingW compiler. (Cesar Romani)
Solution:   Change #if into #ifdef.
Files:      src/if_perl.xs

Patch 7.4.909 (after 7.4.905)
Problem:    &quot;make install&quot; fails.
Solution:   Only try installing desktop files if the destination directory
            exists.
Files:      src/Makefile

Patch 7.4.910 (after 7.4.905)
Problem:    Compiler complains about type punned pointer.
Solution:   Use another way to increment the <A HREF="intro.html#ref">ref</A> <A HREF="intro.html#count">count</A>.
Files:      src/if_py_both.h

Patch 7.4.911
Problem:    <A HREF="term.html#t_Ce">t_Ce</A> and <A HREF="term.html#t_Cs">t_Cs</A> are documented but not supported. (Hirohito Higashi)
Solution:   Define the <A HREF="options.html#options">options</A>.
Files:      src/option.c

Patch 7.4.912
Problem:    Wrong indenting for C++ constructor.
Solution:   Recognize <A HREF="cmdline.html#::.">::.</A>  (Anhong)
Files:      src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 7.4.913
Problem:    No <A HREF="mbyte.html#utf-8">utf-8</A> support for the <A HREF="hangulin.html#hangul">hangul</A> input feature.
Solution:   Add <A HREF="mbyte.html#utf-8">utf-8</A> support. (Namsh)
Files:      src/gui.c, src/hangulin.c, src/proto/hangulin.pro, src/screen.c,
            src/ui.c, runtime/doc/hangulin.txt, src/feature.h

Patch 7.4.914
Problem:    New compiler warning: logical-not-parentheses
Solution:   Silence the warning.
Files:      src/term.c

Patch 7.4.915
Problem:    When removing from <A HREF="options.html#'path'">'path'</A> and then adding, a comma may go missing.
            (Malcolm Rowe)
Solution:   Fix the check for P_ONECOMMA. (closes #471)
Files:      src/option.c, src/testdir/test_options.in,
            src/testdir/test_options.ok

Patch 7.4.916
Problem:    When running out of memory while <A HREF="uganda.html#copying">copying</A> a <A HREF="eval.html#dict">dict</A> memory may be
            freed <A HREF="if_cscop.html#twice">twice</A>. (ZyX)
Solution:   Do not call the garbage collector when running out of memory.
Files:      src/misc2.c

Patch 7.4.917
Problem:    Compiler warning for comparing signed and unsigned.
Solution:   Add a type cast.
Files:      src/hangulin.c

Patch 7.4.918
Problem:    A digit in an option name has problems.
Solution:   Rename 'python3dll' to <A HREF="options.html#'pythonthreedll'">'pythonthreedll'</A>.
Files:      src/option.c, src/option.h, runtime/doc/options.txt

Patch 7.4.919
Problem:    The dll <A HREF="options.html#options">options</A> are not in the <A HREF="options.html#options">options</A> <A HREF="windows.html#window">window</A>.
Solution:   Add the dll <A HREF="options.html#options">options</A>.  And other fixes.
Files:	    runtime/optwin.vim

Patch 7.4.920
Problem:    The rubydll option is not in the <A HREF="options.html#options">options</A> <A HREF="windows.html#window">window</A>.
Solution:   Add the rubydll option.
Files:	    runtime/optwin.vim

Patch 7.4.921 (after 7.4.906)
Problem:    Missing proto file update. (Randall <A HREF="motion.html#W">W</A>. Morris)
Solution:   Add the missing line for mch_ishidden.
Files:      src/proto/os_win32.pro

Patch 7.4.922
Problem:    Leaking memory with &quot;<A HREF="helphelp.html#:helpt">:helpt</A> {dir-not-exists}&quot;.
Solution:   Free dirname. (Dominique Pelle)
Files:      src/ex_cmds.c

Patch 7.4.923
Problem:    Prototypes not always generated.
Solution:   Change #if to OR with PROTO.
Files:      src/window.c

Patch 7.4.924
Problem:    DEVELOPER_DIR gets reset by configure.
Solution:   Do not reset DEVELOPER_DIR when there is no --with-developer-dir
            argument. (Kazuki Sakamoto, closes #482)
Files:      src/configure.in, src/auto/configure

Patch 7.4.925
Problem:    <A HREF="autocmd.html#User">User</A> may <A HREF="change.html#yank">yank</A> or put using the <A HREF="sponsor.html#register">register</A> being recorded in.
Solution:   Add the <A HREF="repeat.html#recording">recording</A> <A HREF="sponsor.html#register">register</A> in the message. (Christian Brabandt,
            closes #470)
Files:      runtime/doc/options.txt, runtime/doc/repeat.txt, src/ops.c,
            src/option.h, src/screen.c

Patch 7.4.926
Problem:    Completing the longest match doesn't work properly with <A HREF="mbyte.html#multi-byte">multi-byte</A>
            characters.
Solution:   When using <A HREF="mbyte.html#multi-byte">multi-byte</A> characters use another way to find the
            longest match. (Hirohito Higashi)
Files:      src/ex_getln.c, src/testdir/test_utf8.in, src/testdir/test_utf8.ok

Patch 7.4.927
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> crashes when there is a runtime error.
Solution:   Use ruby_options() instead of ruby_process_options(). (Damien)
Files:      src/if_ruby.c

Patch 7.4.928
Problem:    A <A HREF="remote.html#clientserver">clientserver</A> message interrupts handling keys of a <A HREF="map.html#mapping">mapping</A>.
Solution:   Have mch_inchar() send <A HREF="intro.html#control">control</A> back to WaitForChar when <A HREF="motion.html#it">it</A> is
            interrupted by server message. (James Kolb)
Files:      src/os_unix.c

Patch 7.4.929
Problem:    &quot;<A HREF="visual.html#gv">gv</A>&quot; after paste selects one character <A HREF="various.html#less">less</A> if <A HREF="options.html#'selection'">'selection'</A> is
            &quot;<A HREF="motion.html#exclusive">exclusive</A>&quot;.
Solution:   Increment the end position. (Christian Brabandt)
Files:      src/normal.c, src/testdir/test94.in, src/testdir/test94.ok

Patch 7.4.930
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Most users appear not to like the <A HREF="windows.html#window">window</A> border.
Solution:   Remove WS_EX_CLIENTEDGE. (Ian Halliday)
Files:      src/gui_w32.c

Patch 7.4.931 (after 7.4.929)
Problem:    Test 94 fails on some systems.
Solution:   Set <A HREF="options.html#'encoding'">'encoding'</A> to <A HREF="mbyte.html#utf-8">utf-8</A>.
Files:      src/testdir/test94.in

Patch 7.4.932 (after 7.4.926)
Problem:    test_utf8 has confusing dummy command.
Solution:   Use a real command instead of a colon.
Files:      src/testdir/test_utf8.in

Patch 7.4.933 (after 7.4.926)
Problem:    Crash when using longest completion match.
Solution:   Fix array index.
Files:      src/ex_getln.c

Patch 7.4.934
Problem:    Appveyor also builds on a <A HREF="tagsrch.html#tag">tag</A> push.
Solution:   Add a skip_tags line. (Kenichi Ito, closes #489)
Files:      appveyor.yml

Patch 7.4.935 (after 7.4.932)
Problem:    test_utf8 fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> when executed with <A HREF="starting.html#gvim">gvim</A>.
Solution:   Use the insert flag on <A HREF="eval.html#feedkeys()">feedkeys()</A> to put the <A HREF="eval.html#string">string</A> before the
            &quot;<A HREF="cmdline.html#:">:</A>&quot; that was already read when checking for available chars.
Files:      src/testdir/test_utf8.in

Patch 7.4.936
Problem:    Crash when dragging with the mouse.
Solution:   Add safety check for NULL pointer. Check mouse position for valid
            value. (Hirohito Higashi)
Files:      src/window.c, src/term.c

Patch 7.4.937
Problem:    Segfault reading uninitialized memory.
Solution:   Do not read match \z0, <A HREF="motion.html#it">it</A> does not exist. (Marius Gedminas, closes
            #497)
Files:      src/regexp_nfa.c

Patch 7.4.938
Problem:    <A HREF="options.html#X11">X11</A> and <A HREF="gui_x11.html#GTK">GTK</A> have more mouse buttons than Vim supports.
Solution:   Recognize more mouse buttons. (Benoit Pierre, closes #498)
Files:      src/gui_gtk_x11.c, src/gui_x11.c

Patch 7.4.939
Problem:    Memory leak when encountering a <A HREF="syntax.html#syntax">syntax</A> error.
Solution:   Free the memory. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.940
Problem:    vt52 <A HREF="terminal.html#terminal">terminal</A> codes are not correct.
Solution:   Move entries outside of #if. (Random)  Adjustments based on
            documented codes.
Files:      src/term.c

Patch 7.4.941
Problem:    There is no way to ignore <A HREF="change.html#case">case</A> only for <A HREF="tagsrch.html#tag">tag</A> searches.
Solution:   Add the <A HREF="options.html#'tagcase'">'tagcase'</A> option. (Gary Johnson)
Files:      runtime/doc/options.txt, runtime/doc/quickref.txt,
            runtime/doc/tagsrch.txt, runtime/doc/usr_29.txt,
            runtime/optwin.vim, src/Makefile, src/buffer.c, src/option.c,
            src/option.h, src/structs.h, src/tag.c,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/test_tagcase.in, src/testdir/test_tagcase.ok

Patch 7.4.942 (after 7.4.941)
Problem:    test_tagcase breaks for small builds.
Solution:   Bail out of the test early. (Hirohito Higashi)
Files:      src/testdir/test_tagcase.in

Patch 7.4.943
Problem:    Tests are not run.
Solution:   Add test_writefile to makefiles. (Ken Takata)
Files:      src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.944
Problem:    Writing tests for Vim <A HREF="usr_41.html#script">script</A> is hard.
Solution:   Add assertEqual(), assertFalse() and assertTrue() <A HREF="eval.html#functions">functions</A>.  Add
            the <A HREF="eval.html#v:errors">v:errors</A> variable.  Add the runtest <A HREF="usr_41.html#script">script</A>. Add a first new
            style test <A HREF="usr_41.html#script">script</A>.
Files:      src/eval.c, src/vim.h, src/misc2.c, src/testdir/Makefile,
            src/testdir/runtest.vim, src/testdir/test_assert.vim,
            runtime/doc/eval.txt

Patch 7.4.945 (after 7.4.944)
Problem:    New style <A HREF="eval.html#testing">testing</A> is incomplete.
Solution:   Add the runtest <A HREF="usr_41.html#script">script</A> to the <A HREF="eval.html#list">list</A> of distributed files.
            Add the new <A HREF="eval.html#functions">functions</A> to the function overview.
            Rename the <A HREF="eval.html#functions">functions</A> to match Vim function style.
            Move undolevels <A HREF="eval.html#testing">testing</A> into a new style test <A HREF="usr_41.html#script">script</A>.
Files:      Filelist, runtime/doc/usr_41.txt, runtime/doc/eval.txt,
            src/testdir/test_assert.vim, src/testdir/Makefile,
            src/testdir/test_undolevels.vim, src/testdir/test100.in,
            src/testdir/test100.ok

Patch 7.4.946 (after 7.4.945)
Problem:    Missing changes in source file.
Solution:   Include changes to the eval.c file.
Files:      src/eval.c

Patch 7.4.947
Problem:    Test_listchars fails with MingW. (Michael Soyka)
Solution:   Add the test to the ones that need the fileformat fixed.
            (Christian Brabandt)
Files:      src/testdir/Make_ming.mak

Patch 7.4.948
Problem:    Can't build when the <A HREF="insert.html#insert_expand">insert_expand</A> feature is disabled.
Solution:   Add #ifdefs. (Dan Pasanen, closes #499)
Files:      src/eval.c, src/fileio.c

Patch 7.4.949
Problem:    When using <A HREF="options.html#'colorcolumn'">'colorcolumn'</A> and there is a sign with a fullwidth
            character the highlighting is wrong. (Andrew Stewart)
Solution:   Only increment vcol when in the right state. (Christian Brabandt)
Files:      src/screen.c, src/testdir/test_listlbr_utf8.in,
            src/testdir/test_listlbr_utf8.ok

Patch 7.4.950
Problem:    <A HREF="eval.html#v:errors">v:errors</A> is not initialized.
Solution:   Initialize <A HREF="motion.html#it">it</A> to an empty <A HREF="eval.html#list">list</A>. (Thinca)
Files:      src/eval.c

Patch 7.4.951
Problem:    Sorting number strings does not work <A HREF="motion.html#as">as</A> expected. (Luc Hermitte)
Solution:   Add the &quot;<A HREF="pattern.html#N">N</A>&quot; argument to <A HREF="eval.html#sort()">sort()</A>
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,
            src/testdir/test_sort.vim, src/testdir/Makefile

Patch 7.4.952
Problem:    <A HREF="options.html#'lispwords'">'lispwords'</A> is tested in the old way.
Solution:   Make a new style test for <A HREF="options.html#'lispwords'">'lispwords'</A>.
Files:      src/testdir/test_alot.vim, src/testdir/test_lispwords.vim,
            src/testdir/test100.in, src/testdir/test100.ok,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.953
Problem:    When a test <A HREF="usr_41.html#script">script</A> navigates to another buffer the .res file is
            created with the wrong name.
Solution:   Use the &quot;testname&quot; for the .res file. (Damien)
Files:      src/testdir/runtest.vim

Patch 7.4.954
Problem:    When using <A HREF="if_lua.html#Lua">Lua</A> there may be a crash. (issue #468)
Solution:   Avoid using an uninitialized tv. (Yukihiro Nakadaira)
Files:      src/if_lua.c

Patch 7.4.955
Problem:    Vim doesn't recognize .pl6 and .pod6 files.
Solution:   Recognize them <A HREF="motion.html#as">as</A> perl6 and pod6. (Mike Eve, closes #511)
Files:      runtime/filetype.vim

Patch 7.4.956
Problem:    A few more file name extensions not recognized.
Solution:   Add .asciidoc, .bzl, .gradle, etc.
Files:      runtime/filetype.vim

Patch 7.4.957
Problem:    Test_tagcase fails when using another language than English.
Solution:   Set the <A HREF="message.html#messages">messages</A> language to C. (Kenichi Ito)
Files:      src/testdir/test_tagcase.in

Patch 7.4.958
Problem:    Vim checks if the directory &quot;$TMPDIR&quot; exists.
Solution:   Do not check if the name starts with &quot;<A HREF="motion.html#$">$</A>&quot;.
Files:      src/fileio.c

Patch 7.4.959
Problem:    When setting <A HREF="options.html#'term'">'term'</A> the <A HREF="gui.html#clipboard">clipboard</A> ownership is lost.
Solution:   Do not call clip_init(). (James McCoy)
Files:      src/term.c

Patch 7.4.960
Problem:    Detecting every version of nmake is clumsy.
Solution:   Use a tiny C program to get the version of _MSC_VER. (Ken Takata)
Files:      src/Make_mvc.mak

Patch 7.4.961
Problem:    Test107 fails in some circumstances.
Solution:   When using &quot;<A HREF="scroll.html#zt">zt</A>&quot;, &quot;<A HREF="scroll.html#zb">zb</A>&quot; and &quot;<A HREF="spell.html#z=">z=</A>&quot; recompute the fraction.
Files:      src/normal.c, src/window.c, src/proto/window.pro

Patch 7.4.962
Problem:    Cannot run the tests with <A HREF="starting.html#gvim">gvim</A>.  Cannot run individual new tests.
Solution:   Add the <A HREF="starting.html#-f">-f</A> flag. Add new test targets in Makefile.
Files:      src/Makefile, src/testdir/Makefile

Patch 7.4.963
Problem:    test_listlbr_utf8 sometimes fails.
Solution:   Don't use a literal <A HREF="mbyte.html#multibyte">multibyte</A> character but &lt;C-V&gt;uXXXX. Do not
            dump the screen highlighting. (Christian Brabandt, closes #518)
Files:      src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok

Patch 7.4.964
Problem:    Test 87 doesn't work in a shadow directory.
Solution:   Handle the extra subdirectory. (James McCoy, closes #515)
Files:      src/testdir/test87.in

Patch 7.4.965
Problem:    On FreeBSD /dev/fd/ files are special.
Solution:   Use is_dev_fd_file() also for FreeBSD. (Derek Schrock, closes #521)
Files:      src/fileio.c

Patch 7.4.966
Problem:    Configure doesn't work with a space in a path.
Solution:   Put paths in <A HREF="quotes.html#quotes">quotes</A>. (James McCoy, closes #525)
Files:      src/configure.in, src/auto/configure

Patch 7.4.967
Problem:    Cross compilation on MS-windows doesn't work well.
Solution:   Tidy up cross compilation across architectures with <A HREF="visual.html#Visual">Visual</A> Studio.
            (Mike Williams)
Files:      src/Make_mvc.mak

Patch 7.4.968
Problem:    test86 and test87 are flaky in Appveyor.
Solution:   Reduce the <A HREF="intro.html#count">count</A> from 8 to 7. (suggested by ZyX)
Files:      src/testdir/test86.in, src/testdir/test87.in

Patch 7.4.969
Problem:    Compiler warnings on Windows x64 build.
Solution:   Add type casts. (Mike Williams)
Files:      src/option.c

Patch 7.4.970
Problem:    Rare crash in getvcol(). (Timo Mihaljov)
Solution:   Check for the buffer being NULL in init_preedit_start_col.
            (Hirohito Higashi, Christian Brabandt)
Files:      src/mbyte.c

Patch 7.4.971
Problem:    The <A HREF="eval.html#asin()">asin()</A> function can't be used.
Solution:   Sort the function table properly. (Watiko)
Files:      src/eval.c

Patch 7.4.972
Problem:    Memory leak when there is an error in setting an option.
Solution:   Free the saved value (Christian Brabandt)
Files:      src/option.c

Patch 7.4.973
Problem:    When pasting on the command line line breaks result in literal
            <A HREF="motion.html#&lt;CR&gt;">&lt;CR&gt;</A> characters. This makes pasting a long file name difficult.
Solution:   Skip the characters.
Files:      src/ex_getln.c, src/ops.c

Patch 7.4.974
Problem:    When using <A HREF="diff.html#:diffsplit">:diffsplit</A> the cursor jumps to the first line.
Solution:   Put the cursor on the line related to where the cursor was before
            the split.
Files:      src/diff.c

Patch 7.4.975
Problem:    Using &quot;<A HREF="change.html#:sort">:sort</A>&quot; on a very big file sometimes causes text to be
            corrupted. (John Beckett)
Solution:   Copy the line into a buffer before calling ml_append().
Files:      src/ex_cmds.c

Patch 7.4.976
Problem:    When compiling Vim for MSYS2 (linked with msys-2.0.dll), the <A HREF="os_win32.html#Win32">Win32</A>
            <A HREF="gui.html#clipboard">clipboard</A> is not enabled.
Solution:   Recognize MSYS like CYGWIN. (Ken Takata)
Files:      src/configure.in, src/auto/configure

Patch 7.4.977
Problem:    <A HREF="options.html#'linebreak'">'linebreak'</A> does not work properly when using &quot;space&quot; in
            <A HREF="options.html#'listchars'">'listchars'</A>.
Solution:   (Hirohito Higashi, Christian Brabandt)
Files:      src/screen.c, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok

Patch 7.4.978
Problem:    test_cdo fails when using another language than English.
Solution:   Set the language to C. (Dominique Pelle, Kenichi Ito)
Files:      src/testdir/test_cdo.in

Patch 7.4.979
Problem:    When <A HREF="change.html#changing">changing</A> the crypt key the blocks read from disk are not
            decrypted.
Solution:   Also call ml_decrypt_data() when mf_old_key is set. (Ken Takata)
Files:      src/memfile.c

Patch 7.4.980
Problem:    Tests for <A HREF="quickfix.html#:cdo">:cdo</A>, <A HREF="quickfix.html#:ldo">:ldo</A>, etc. are outdated.
Solution:   Add new style tests for these commands. (Yegappan Lakshmanan)
Files:      src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/test_cdo.in, src/testdir/test_cdo.ok,
            src/testdir/test_cdo.vim

Patch 7.4.981
Problem:    An error in a test <A HREF="usr_41.html#script">script</A> goes unnoticed.
Solution:   Source the test <A HREF="usr_41.html#script">script</A> inside try/catch. (Hirohito Higashi)
Files:      src/testdir/runtest.vim

Patch 7.4.982
Problem:    Keeping the <A HREF="eval.html#list">list</A> of tests updated is a hassle.
Solution:   Move the <A HREF="eval.html#list">list</A> to a separate file, so that <A HREF="motion.html#it">it</A> only needs to be
            updated in one place.
Files:      src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/Make_all.mak

Patch 7.4.983
Problem:    Executing one test after &quot;make testclean&quot; doesn't work.
Solution:   Add a dependency on test1.out.
Files:      src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/Make_all.mak

Patch 7.4.984
Problem:    <A HREF="eval.html#searchpos()">searchpos()</A> always starts searching in the first column, which is
            not what some people expect. (Brett Stahlman)
Solution:   Add the '<A HREF="index.html#z">z</A>' flag: start at the specified column.
Files:      src/vim.h, src/eval.c, src/search.c,
            src/testdir/test_searchpos.vim, src/testdir/test_alot.vim,
            runtime/doc/eval.txt

Patch 7.4.985
Problem:    Can't build with <A HREF="if_ruby.html#Ruby">Ruby</A> 2.3.0.
Solution:   Use the new TypedData_XXX <A HREF="map.html#macro">macro</A> family instead of Data_XXX. Use
            TypedData. (Ken Takata)
Files:      src/if_ruby.c

Patch 7.4.986
Problem:    Test49 doesn't work on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.  test70 is listed <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Move test49 to the group not used on <A HREF="os_amiga.html#Amiga">Amiga</A> and <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
            Remove test70 from SCRIPTS_WIN32.
Files:      src/testdir/Make_all.mak, src/testdir/Make_dos.mak

Patch 7.4.987 (after 7.4.985)
Problem:    Can't build with <A HREF="if_ruby.html#Ruby">Ruby</A> 1.9.2.
Solution:   Require Rub 2.0 for defining USE_TYPEDDATA.
Files:      src/if_ruby.c

Patch 7.4.988 (after 7.4.982)
Problem:    Default test target is test49.out.
Solution:   Add a build rule before including Make_all.mak.
Files:      src/testdir/Make_dos.mak, src/testdir/Make_amiga.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.989
Problem:    Leaking memory when hash_add() fails. Coverity error 99126.
Solution:   When hash_add() fails free the memory.
Files:      src/eval.c

Patch 7.4.990
Problem:    Test 86 fails on AppVeyor.
Solution:   Do some registry magic. (Ken Takata)
Files:      appveyor.yml

Patch 7.4.991
Problem:    When running new style tests the output is not visible.
Solution:   Add the testdir/messages file and show <A HREF="motion.html#it">it</A>.  Update the <A HREF="eval.html#list">list</A> of
            test names.
Files:      src/Makefile, src/testdir/Makefile, src/testdir/runtest.vim

Patch 7.4.992
Problem:    Makefiles for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> in src/po are outdated.
Solution:   Make them work. (Ken Takata, Taro Muraoka)
Files:      src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak,
            src/po/README_mingw.txt, src/po/README_mvc.txt

Patch 7.4.993
Problem:    Test 87 is flaky on AppVeyor.
Solution:   Reduce the minimum background thread <A HREF="intro.html#count">count</A>.
Files:      src/testdir/test86.in, src/testdir/test87.in

Patch 7.4.994
Problem:    New style tests are not run on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add the new style tests.
Files:      src/testdir/Make_dos.mak

Patch 7.4.995
Problem:    gdk_pixbuf_new_from_inline() is deprecated.
Solution:   Generate auto/gui_gtk_gresources.c. (Kazunobu Kuriyama,
            closes #507)
Files:      src/Makefile, src/auto/configure, src/config.h.in,
            src/config.mk.in, src/configure.in, src/gui_gtk.c,
            src/gui_gtk_gresources.xml, src/gui_gtk_x11.c,
            src/proto/gui_gtk_gresources.pro,
            pixmaps/stock_vim_build_tags.png, pixmaps/stock_vim_find_help.png,
            pixmaps/stock_vim_save_all.png,
            pixmaps/stock_vim_session_load.png,
            pixmaps/stock_vim_session_new.png,
            pixmaps/stock_vim_session_save.png, pixmaps/stock_vim_shell.png,
            pixmaps/stock_vim_window_maximize.png,
            pixmaps/stock_vim_window_maximize_width.png,
            pixmaps/stock_vim_window_minimize.png,
            pixmaps/stock_vim_window_minimize_width.png,
            pixmaps/stock_vim_window_split.png,
            pixmaps/stock_vim_window_split_vertical.png

Patch 7.4.996
Problem:    New GDK files and testdir/Make_all.mak missing from <A HREF="intro.html#distribution">distribution</A>.
            PC build instructions are outdated.
Solution:   Add the file to the <A HREF="eval.html#list">list</A>.  Update PC build instructions.
Files:      Filelist, Makefile

Patch 7.4.997
Problem:    &quot;make shadow&quot; was sometimes broken.
Solution:   Add a test for <A HREF="motion.html#it">it</A>. (James McCoy, closes #520)
Files:      .travis.yml

Patch 7.4.998
Problem:    Running tests in shadow directory fails.  Test 49 fails.
Solution:   Link more files for the shadow directory. Make test 49 ends up in
            the right buffer.
Files:      src/Makefile, src/testdir/test49.in

Patch 7.4.999
Problem:    &quot;make shadow&quot; creates a broken link. (Tony Mechelynck)
Solution:   Remove vimrc.unix from the <A HREF="eval.html#list">list</A>.
Files:      src/Makefile

Patch 7.4.1000
Problem:    Test 49 is slow and doesn't work on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Start moving parts of test 49 to test_viml.
Files:      src/Makefile, src/testdir/runtest.vim, src/testdir/test_viml.vim,
            src/testdir/test49.vim, src/testdir/test49.ok

Patch 7.4.1001 (after 7.4.1000)
Problem:    test_viml isn't run.
Solution:   Include change in makefile.
Files:      src/testdir/Make_all.mak

Patch 7.4.1002
Problem:    Cannot run an individual test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Move the rule to run test1 downwards. (Ken Takata)
Files:      src/testdir/Make_dos.mak

Patch 7.4.1003
Problem:    Travis could check a few more things.
Solution:   Run autoconf on one of the builds. (James McCoy, closes #510)
            Also build with normal features.
Files:      .travis.yml

Patch 7.4.1004
Problem:    Using Makefile when auto/config.mk does not exist results in
            warnings.
Solution:   Use default values for essential <A HREF="eval.html#variables">variables</A>.
Files:      src/Makefile

Patch 7.4.1005
Problem:    Vim users are not always happy.
Solution:   Make them happy.
Files:      src/ex_cmds.h, src/ex_cmds.c, src/proto/ex_cmds.pro

Patch 7.4.1006
Problem:    The fix in patch 7.3.192 is not tested.
Solution:   Add a test, one for each <A HREF="pattern.html#regexp">regexp</A> engine. (Elias Diem)
Files:      src/testdir/test44.in, src/testdir/test44.ok,
            src/testdir/test99.in, src/testdir/test99.ok

Patch 7.4.1007
Problem:    When a symbolic link points to a file in the root directory, the
            swapfile is not correct.
Solution:   Do not try getting the full name of a file in the root directory.
            (Milly, closes #501)
Files:      src/os_unix.c

Patch 7.4.1008
Problem:    The <A HREF="os_os2.html#OS/2">OS/2</A> code pollutes the source while nobody uses <A HREF="motion.html#it">it</A> these days.
Solution:   Drop the support for <A HREF="os_os2.html#OS/2">OS/2</A>. 
Files:      src/feature.h, src/globals.h, src/macros.h, src/option.h,
            src/os_unix.c, src/os_unix.h, src/proto/os_unix.pro, src/vim.h,
            src/digraph.c, src/eval.c, src/ex_cmds.c, src/ex_docmd.c,
            src/ex_getln.c, src/fileio.c, src/getchar.c, src/memline.c,
            src/misc1.c, src/misc2.c, src/netbeans.c, src/option.c,
            src/term.c, src/ui.c, src/window.c, src/os_os2_cfg.h,
            src/Make_os2.mak, src/testdir/Make_os2.mak, src/testdir/os2.vim,
            src/INSTALL, runtime/doc/os_os2.txt

Patch 7.4.1009
Problem:    There are still #ifdefs for ARCHIE.
Solution:   Remove references to ARCHIE, the code was removed in Vim 5.
Files:      src/ex_cmds.c, src/ex_docmd.c, src/fileio.c, src/main.c,
            src/memline.c, src/option.c, src/term.c

Patch 7.4.1010
Problem:    Some developers are unhappy while running tests.
Solution:   Add a test and some color.
Files:      src/ex_cmds.c, src/testdir/test_assert.vim

Patch 7.4.1011
Problem:    Can't build with Strawberry <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Include stdbool.h. (Ken Takata, closes #328)
Files:      Filelist, src/Make_mvc.mak, src/if_perl_msvc/stdbool.h

Patch 7.4.1012
Problem:    Vim overwrites the value of $PYTHONHOME.
Solution:   Do not set $PYTHONHOME if <A HREF="motion.html#it">it</A> is already set. (Kazuki Sakamoto,
            closes #500)
Files:      src/if_python.c, src/if_python3.c

Patch 7.4.1013
Problem:    The local value of <A HREF="options.html#'errorformat'">'errorformat'</A> is not used for &quot;<A HREF="quickfix.html#:lexpr">:lexpr</A>&quot; and
            &quot;<A HREF="quickfix.html#:cexpr">:cexpr</A>&quot;.
Solution:   Use the local value if <A HREF="motion.html#it">it</A> exists. (Christian Brabandt) Adjust the
            help for this.
Files:      runtime/doc/quickfix.txt, src/quickfix.c

Patch 7.4.1014
Problem:    `fnamemodify('.', ':.')` returns an empty <A HREF="eval.html#string">string</A> in Cygwin.
Solution:   Use CCP_RELATIVE in the call to cygwin_conv_path. (Jacob Niehus,
            closes #505)
Files:      src/os_unix.c

Patch 7.4.1015
Problem:    The column is not restored properly when the <A HREF="pi_paren.html#matchparen">matchparen</A> <A HREF="usr_05.html#plugin">plugin</A> is
            used in <A HREF="insert.html#Insert">Insert</A> mode and the cursor is after the end of the line.
Solution:   Set the curswant flag. (Christian Brabandt).  Also fix
            highlighting the match of the character before the cursor.
Files:      src/eval.c, runtime/plugin/matchparen.vim

Patch 7.4.1016
Problem:    Still a few <A HREF="os_os2.html#OS/2">OS/2</A> pieces remain.
Solution:   Delete more.
Files:      Filelist, README_os2.txt, testdir/todos.vim, src/xxd/Make_os2.mak

Patch 7.4.1017
Problem:    When there is a <A HREF="intro.html#backslash">backslash</A> in an option &quot;<A HREF="options.html#:set">:set</A> -=&quot; doesn't work.
Solution:   Handle a <A HREF="intro.html#backslash">backslash</A> better. (Jacob Niehus)  Add a new test, <A HREF="diff.html#merge">merge</A>
            in old test.
Files:      src/testdir/test_cdo.vim, src/testdir/test_set.vim,
            src/testdir/test_alot.vim, src/option.c, src/testdir/test_set.in,
            src/testdir/test_set.ok, src/Makefile

Patch 7.4.1018 (after 7.4.1017)
Problem:    Failure running tests.
Solution:   Add missing change to <A HREF="eval.html#list">list</A> of old style tests.
Files:      src/testdir/Make_all.mak

Patch 7.4.1019
Problem:    Directory listing of &quot;src&quot; is too long.
Solution:   Rename the resources file to make <A HREF="motion.html#it">it</A> shorter.
Files:      src/gui_gtk_gresources.xml, src/gui_gtk_res.xml, src/Makefile,
            Filelist

Patch 7.4.1020
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> there is no target to run tests with <A HREF="starting.html#gvim">gvim</A>.
Solution:   Add the testgvim target.
Files:      src/Make_mvc.mak

Patch 7.4.1021
Problem:    Some makefiles are outdated.
Solution:   Add a note to warn developers.
Files:      src/Make_manx.mak, src/Make_bc3.mak, src/Make_bc5.mak,
            src/Make_djg.mak, src/Make_w16.mak

Patch 7.4.1022
Problem:    The README file contains some outdated information.
Solution:   Update the information about supported systems.
Files:      README.txt, README.md

Patch 7.4.1023
Problem:    The <A HREF="intro.html#distribution">distribution</A> files for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> use CR-LF, which is
            inconsistent with what one gets from github.
Solution:   Use LF in the <A HREF="intro.html#distribution">distribution</A> files.
Files:      Makefile

Patch 7.4.1024
Problem:    Interfaces for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> are outdated.
Solution:   Use <A HREF="if_pyth.html#Python">Python</A> 2.7.10, <A HREF="if_pyth.html#Python">Python</A> 3.4.4, <A HREF="if_perl.html#Perl">Perl</A> 5.22, <A HREF="if_tcl.html#TCL">TCL</A> 8.6.
Files:      src/bigvim.bat

Patch 7.4.1025
Problem:    Version in installer needs to be updated manually.
Solution:   Generate a file with the version number. (Guopeng Wen)
Files:      Makefile, nsis/gvim.nsi, nsis/gvim_version.nsh

Patch 7.4.1026
Problem:    When using MingW the tests <A HREF="diff.html#do">do</A> not clean up all files.  E.g. test
            17 leaves Xdir1 behind. (Michael Soyka)
Solution:   Also delete directories, like Make_dos.mak.  Delete files after
            directories to reduce warnings.
Files:      src/testdir/Make_ming.mak, src/testdir/Make_dos.mak

Patch 7.4.1027
Problem:    No support for binary numbers.
Solution:   Add &quot;bin&quot; to <A HREF="options.html#'nrformats'">'nrformats'</A>. (Jason Schulz)
Files:      runtime/doc/change.txt, runtime/doc/eval.txt,
            runtime/doc/version7.txt, src/charset.c, src/eval.c,
            src/ex_cmds.c, src/ex_getln.c, src/misc2.c, src/ops.c,
            src/option.c, src/proto/charset.pro, src/spell.c,
            src/testdir/test57.in, src/testdir/test57.ok,
            src/testdir/test58.in, src/testdir/test58.ok,
            src/testdir/test_increment.in, src/testdir/test_increment.ok,
            src/vim.h

Patch 7.4.1028
Problem:    Nsis version file missing from the <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add the file to the <A HREF="eval.html#list">list</A>.
Files:      Filelist

Patch 7.4.1029 (after 7.4.1027)
Problem:    test_increment fails on systems with 32 bit long.
Solution:   Only test with 32 bits.
Files:      src/testdir/test_increment.in, src/testdir/test_increment.ok

Patch 7.4.1030
Problem:    test49 is still slow.
Solution:   Move more tests from old to new style.
Files:      src/testdir/test_viml.vim, src/testdir/test49.vim,
            src/testdir/test49.ok, src/testdir/runtest.vim

Patch 7.4.1031
Problem:    Can't build with <A HREF="if_pyth.html#Python">Python</A> interface using MingW.
Solution:   Update the Makefile. (Yasuhiro Matsumoto)
Files:      src/INSTALLpc.txt, src/Make_cyg_ming.mak

Patch 7.4.1032
Problem:    message from <A HREF="eval.html#assert_false()">assert_false()</A> does not look <A HREF="todo.html#nice">nice</A>.
Solution:   Handle missing sourcing_name. Use right number of spaces. (Watiko)
            Don't use line number if it's zero.
Files:      src/eval.c

Patch 7.4.1033
Problem:    Memory use on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> is very conservative.
Solution:   Use the global memory status to estimate amount of memory.
            (Mike Williams)
Files:      src/os_win32.c, src/os_win32.h, src/proto/os_win32.pro

Patch 7.4.1034
Problem:    There is no test for the <A HREF="options.html#'backspace'">'backspace'</A> option behavior.
Solution:   Add a test. (Hirohito Higashi)
Files:      src/testdir/test_alot.vim, src/testdir/test_backspace_opt.vim

Patch 7.4.1035
Problem:    An <A HREF="intro.html#Ex">Ex</A> range gets adjusted for folded lines even when the range is
            not using line numbers.
Solution:   Only adjust line numbers for <A HREF="fold.html#folding">folding</A>. (Christian Brabandt)
Files:      runtime/doc/fold.txt, src/ex_docmd.c

Patch 7.4.1036
Problem:    Only terminals with up to 256 colors work properly.
Solution:   Use the 256 color behavior for all terminals with 256 or more
            colors. (Robert de Bath, closes #504)
Files:      src/syntax.c

Patch 7.4.1037
Problem:    Using &quot;q!&quot; when there is a modified hidden buffer does not unload
            the current buffer, resulting in the need to <A HREF="editing.html#abandon">abandon</A> <A HREF="motion.html#it">it</A> again.
Solution:   When using &quot;q!&quot; unload the current buffer when needed. (Yasuhiro
            Matsumoto, Hirohito Higashi)
Files:      src/testdir/test31.in, src/testdir/test31.ok,
            runtime/doc/editing.txt, src/ex_cmds2.c, src/ex_docmd.c,
            src/gui.c, src/gui_gtk_x11.c, src/os_unix.c,
            src/proto/ex_cmds2.pro

Patch 7.4.1038
Problem:    Still get a warning for a deprecated function with gdk-pixbuf
            2.31.
Solution:   Change minimum minor version from 32 to 31.
Files:      src/configure.in, src/auto/configure

Patch 7.4.1039 (after 7.4.1037)
Problem:    Test 31 fails with small build.
Solution:   Bail out for small build. (Hirohito Higashi)
Files:      src/testdir/test31.in

Patch 7.4.1040
Problem:    The tee command is not available on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Adjust tee.c for MSVC and add a makefile. (Yasuhiro Matsumoto)
Files:      src/tee/tee.c, src/tee/Make_mvc.mak, src/Make_mvc.mak

Patch 7.4.1041
Problem:    Various small things.
Solution:   Add file to <A HREF="eval.html#list">list</A> of distributed files.  Adjust README.  Fix typo.
Files:      Filelist, src/testdir/README.txt, src/testdir/test_charsearch.in,
            src/INSTALLmac.txt

Patch 7.4.1042
Problem:    g-CTRL-G shows the <A HREF="motion.html#word">word</A> <A HREF="intro.html#count">count</A>, but there is no way to get the <A HREF="motion.html#word">word</A>
            <A HREF="intro.html#count">count</A> in a <A HREF="usr_41.html#script">script</A>.
Solution:   Add the <A HREF="eval.html#wordcount()">wordcount()</A> function. (Christian Brabandt)
Files:      runtime/doc/editing.txt, runtime/doc/eval.txt,
            runtime/doc/usr_41.txt, src/eval.c, src/normal.c, src/ops.c,
            src/proto/ops.pro, src/testdir/test_wordcount.in,
            src/testdir/test_wordcount.ok, src/testdir/Make_all.mak

Patch 7.4.1043
Problem:    Another small thing.
Solution:   Now really update the <A HREF="os_mac.html#Mac">Mac</A> <A HREF="usr_90.html#install">install</A> text.
Files:      src/INSTALLmac.txt

Patch 7.4.1044 (after 7.4.1042)
Problem:    Can't build without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Add #ifdef.
Files:      src/ops.c

Patch 7.4.1045
Problem:    Having shadow and coverage on the same build results in the source
            files not being available in the coverage <A HREF="starting.html#view">view</A>.
Solution:   Move using shadow to the normal build.
Files:      .travis.yml

Patch 7.4.1046
Problem:    No test coverage for <A HREF="gui.html#menus">menus</A>.
Solution:   Load the standard <A HREF="gui.html#menus">menus</A> and check there is no error.
Files:      src/testdir/test_menu.vim, src/testdir/test_alot.vim

Patch 7.4.1047 (after patch 7.4.1042)
Problem:    Tests fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set <A HREF="options.html#'selection'">'selection'</A> to <A HREF="motion.html#inclusive">inclusive</A>.
Files:      src/testdir/test_wordcount.in

Patch 7.4.1048 (after patch 7.4.1047)
Problem:    Wordcount test still fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set <A HREF="options.html#'fileformat'">'fileformat'</A> to &quot;<A HREF="os_unix.html#unix">unix</A>&quot;.
Files:      src/testdir/test_wordcount.in

Patch 7.4.1049 (after patch 7.4.1048)
Problem:    Wordcount test still fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set <A HREF="options.html#'fileformats'">'fileformats'</A> to &quot;<A HREF="os_unix.html#unix">unix</A>&quot;.
Files:      src/testdir/test_wordcount.in

Patch 7.4.1050
Problem:    Warning for unused var with tiny features. (Tony Mechelynck)
Solution:   Add #ifdef.  Use vim_snprintf().  Reduce number of statements.
Files:      src/ops.c

Patch 7.4.1051
Problem:    Segfault when unletting &quot;<A HREF="intro.html#count">count</A>&quot;.
Solution:   Check for readonly and locked first. (Dominique Pelle)
            Add a test.
Files:      src/eval.c, src/testdir/test_alot.vim, src/testdir/test_unlet.vim

Patch 7.4.1052
Problem:    Illegal memory access with weird <A HREF="syntax.html#syntax">syntax</A> command. (Dominique Pelle)
Solution:   Check for column past end of line.
Files:      src/syntax.c

Patch 7.4.1053
Problem:    Insufficient <A HREF="eval.html#testing">testing</A> for <A HREF="quickfix.html#quickfix">quickfix</A> commands.
Solution:   Add a new style <A HREF="quickfix.html#quickfix">quickfix</A> test. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test_quickfix.vim

Patch 7.4.1054
Problem:    Illegal memory access.
Solution:   Check for missing <A HREF="pattern.html#pattern">pattern</A>. (Dominique Pelle)
Files:      src/syntax.c

Patch 7.4.1055
Problem:    Running &quot;make newtests&quot; in src/testdir has no output.
Solution:   <A HREF="eval.html#List">List</A> the <A HREF="message.html#messages">messages</A> file when a test fails. (Christian Brabandt)
            Update the <A HREF="eval.html#list">list</A> of tests.
Files:      src/Makefile, src/testdir/Makefile

Patch 7.4.1056
Problem:    Don't know why finding <A HREF="spell.html#spell">spell</A> suggestions is slow.
Solution:   Add some code to gather <A HREF="repeat.html#profiling">profiling</A> information.
Files:      src/spell.c

Patch 7.4.1057
Problem:    Typos in the <A HREF="options.html#:options">:options</A> <A HREF="windows.html#window">window</A>.
Solution:   Fix the typos. (Dominique Pelle)
Files:      runtime/optwin.vim

Patch 7.4.1058
Problem:    It is not possible to test code that is only reached when memory
            allocation fails.
Solution:   Add the alloc_fail() function.  Try <A HREF="motion.html#it">it</A> out with <A HREF="quickfix.html#:vimgrep">:vimgrep</A>.
Files:      runtime/doc/eval.txt, src/globals.h, src/eval.c, src/quickfix.c,
            src/misc2.c, src/proto/misc2.pro, src/testdir/test_quickfix.vim

Patch 7.4.1059
Problem:    Code will never be executed.
Solution:   Remove the code.
Files:      src/quickfix.c

Patch 7.4.1060
Problem:    Instructions for <A HREF="editing.html#writing">writing</A> tests are outdated.
Solution:   Mention Make_all.mak.  Add steps for new style tests.
Files:      src/testdir/README.txt

Patch 7.4.1061
Problem:    Compiler warning for ignoring return value of fwrite().
Solution:   Do use the return value. (idea: Charles Campbell)
Files:      src/misc2.c, src/proto/misc2.pro

Patch 7.4.1062
Problem:    Building with <A HREF="if_ruby.html#Ruby">Ruby</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> requires a lot of arguments.
Solution:   Make <A HREF="motion.html#it">it</A> simpler. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.1063
Problem:    TCL_VER_LONG and DYNAMIC_TCL_VER are not set when building with
            Cygwin and MingW.
Solution:   Add TCL_VER_LONG and DYNAMIC_TCL_VER to the makefile. (Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1064
Problem:    When a <A HREF="spell.html#spell">spell</A> file has single <A HREF="print.html#letter">letter</A> compounding creating
            suggestions takes an awful long time.
Solution:   Add the NOCOMPOUNDSUGS flag.
Files:      runtime/doc/spell.txt, src/spell.c

Patch 7.4.1065
Problem:    Cannot use the &quot;dll&quot; <A HREF="options.html#options">options</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Support the <A HREF="options.html#options">options</A> on all platforms.  Use the built-in name <A HREF="motion.html#as">as</A>
            the default, so that it's clear what Vim is looking for.
Files:      src/if_python.c, src/if_python3.c, src/if_lua.c, src/if_perl.xs,
            src/if_ruby.c, src/option.c, runtime/doc/options.txt, src/Makefile

Patch 7.4.1066 (after 7.4.1065)
Problem:    Build fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Adjust the #ifdefs for &quot;dll&quot; <A HREF="options.html#options">options</A>.
Files:      src/option.h

Patch 7.4.1067 (after 7.4.1065)
Problem:    Can't build with MingW and <A HREF="if_pyth.html#Python">Python</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Move the build flags to CFLAGS.
Files:      src/Make_cyg_ming.mak

Patch 7.4.1068
Problem:    Wrong way to check for unletting internal <A HREF="eval.html#variables">variables</A>.
Solution:   Use a better way. (Olaf Dabrunz)
Files:      src/testdir/test_unlet.c, src/eval.c

Patch 7.4.1069
Problem:    Compiler warning for unused argument.
Solution:   Add UNUSED.
Files:      src/misc2.c

Patch 7.4.1070
Problem:    The <A HREF="if_tcl.html#Tcl">Tcl</A> interface can't be loaded dynamically on <A HREF="os_unix.html#Unix">Unix</A>.
Solution:   Make <A HREF="motion.html#it">it</A> possible to load <A HREF="motion.html#it">it</A> dynamically. (Ken Takata)
Files:      runtime/doc/if_tcl.txt, runtime/doc/options.txt,
            runtime/doc/quickref.txt, runtime/optwin.vim, src/Makefile,
            src/config.h.in, src/configure.in, src/auto/configure,
            src/if_tcl.c, src/option.c, src/option.h

Patch 7.4.1071
Problem:    New style tests are executed in arbitrary order.
Solution:   Sort the test function names. (Hirohito Higashi)
            Fix the <A HREF="quickfix.html#quickfix">quickfix</A> test that depended on the order.
Files:      src/testdir/runtest.vim, src/testdir/test_quickfix.vim

Patch 7.4.1072
Problem:    Increment test is old style.
Solution:   Make the increment test a new style test. (Hirohito Higashi)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_increment.in, src/testdir/test_increment.ok,
            src/testdir/test_increment.vim

Patch 7.4.1073
Problem:    Alloc_id depends on numbers, may use the same one <A HREF="if_cscop.html#twice">twice</A>.  It's not
            clear from the number what it's for.
Solution:   Use an enum.  Add a function to lookup the enum value from the
            name.
Files:      src/misc2.c, src/vim.h, src/alloc.h, src/globals.h,
            src/testdir/runtest.vim, src/proto/misc2.pro,
            src/testdir/test_quickfix.vim

Patch 7.4.1074
Problem:    Warning from VC2015 compiler.
Solution:   Add a type cast. (Mike Williams)
Files:      src/gui_dwrite.cpp

Patch 7.4.1075
Problem:    Crash when using an invalid command.
Solution:   Fix generating the error message. (Dominique Pelle)
Files:      src/ex_docmd.c

Patch 7.4.1076
Problem:    <A HREF="change.html#CTRL-A">CTRL-A</A> does not work well in right-left mode.
Solution:   Remove reversing the line, add a test. (Hirohito Higashi)
Files:      src/ops.c, src/testdir/test_increment.vim

Patch 7.4.1077
Problem:    The build instructions for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> are incomplete.
Solution:   Add explanations for how to build with various interfaces. (Ken
            Takata)
Files:      src/INSTALLpc.txt

Patch 7.4.1078
Problem:    MSVC: &quot;make clean&quot; doesn't cleanup in the tee directory.
Solution:   Add the commands to cleanup tee. (Erich Ritz)
Files:      src/Make_mvc.mak

Patch 7.4.1079 (after 7.4.1073)
Problem:    New include file missing from <A HREF="intro.html#distribution">distribution</A>.  Missing changes to
            <A HREF="quickfix.html#quickfix">quickfix</A> code.
Solution:   Add alloc.h to the <A HREF="eval.html#list">list</A> of distributed files. Use the enum in
            <A HREF="quickfix.html#quickfix">quickfix</A> code.
Files:      Filelist, src/quickfix.c

Patch 7.4.1080
Problem:    VS2015 has a function HandleToLong() that is shadowed by the <A HREF="map.html#macro">macro</A>
            that Vim defines.
Solution:   Do not define HandleToLong() for MSVC version 1400 and later.
            (Mike Williams)
Files:      src/gui_w32.c

Patch 7.4.1081
Problem:    No test for what previously caused a crash.
Solution:   Add test for unletting errmsg.
Files:      src/testdir/test_unlet.vim

Patch 7.4.1082
Problem:    The <A HREF="if_tcl.html#Tcl">Tcl</A> interface is always skipping memory free on exit.
Solution:   Only skip for dynamically loaded <A HREF="if_tcl.html#Tcl">Tcl</A>.
Files:      src/if_tcl.c

Patch 7.4.1083
Problem:    Building GvimExt with VS2015 may fail.
Solution:   Adjust the makefile. (Mike Williams)
Files:      src/GvimExt/Makefile

Patch 7.4.1084
Problem:    Using &quot;<A HREF="repeat.html#.">.</A>&quot; to repeat <A HREF="change.html#CTRL-A">CTRL-A</A> in <A HREF="visual.html#Visual">Visual</A> mode increments the wrong
            numbers.
Solution:   Append right size to the <A HREF="undo.html#redo">redo</A> buffer. (Ozaki Kiichi)
Files:      src/normal.c, src/testdir/test_increment.vim

Patch 7.4.1085
Problem:    The <A HREF="change.html#CTRL-A">CTRL-A</A> and <A HREF="change.html#CTRL-X">CTRL-X</A> commands <A HREF="diff.html#do">do</A> not update the <A HREF="motion.html#'[">'[</A> and <A HREF="motion.html#']">']</A> marks.
Solution:   (Yukihiro Nakadaira)
Files:      src/ops.c, src/testdir/test_marks.in, src/testdir/test_marks.ok

Patch 7.4.1086
Problem:    Crash with an extremely long buffer name.
Solution:   Limit the return value of vim_snprintf(). (Dominique Pelle)
Files:      src/buffer.c

Patch 7.4.1087
Problem:    <A HREF="change.html#CTRL-A">CTRL-A</A> and <A HREF="change.html#CTRL-X">CTRL-X</A> <A HREF="diff.html#do">do</A> not work properly with blockwise visual
            selection if there is a mix of <A HREF="intro.html#Tab">Tab</A> and spaces.
Solution:   Add OP_NR_ADD and OP_NR_SUB. (Hirohito Higashi)
Files:      src/testdir/test_increment.vim, src/normal.c, src/ops.c,
            src/proto/ops.pro, src/vim.h

Patch 7.4.1088
Problem:    Coverity warns for uninitialized <A HREF="eval.html#variables">variables</A>.  Only one is an actual
            problem.
Solution:   Move the conditions.  Don't use endpos if handling an error.
Files:      src/ops.c

Patch 7.4.1089
Problem:    Repeating <A HREF="change.html#CTRL-A">CTRL-A</A> doesn't work.
Solution:   Call prep_redo_cmd(). (Hirohito Higashi)
Files:      src/normal.c, src/testdir/test_increment.vim

Patch 7.4.1090
Problem:    No tests for <A HREF="print.html#:hardcopy">:hardcopy</A> and related <A HREF="options.html#options">options</A>.
Solution:   Add test_hardcopy.
Files:      src/testdir/test_hardcopy.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 7.4.1091
Problem:    When making a change while need_wait_return is set there is a two
            second delay.
Solution:   Do not assume the <A HREF="usr_11.html#ATTENTION">ATTENTION</A> prompt was given when need_wait_return
            was set already.
Files:      src/misc1.c

Patch 7.4.1092
Problem:    It is not simple to test for an exception and give a proper error
            message.
Solution:   Add <A HREF="eval.html#assert_exception()">assert_exception()</A>.
Files:      src/eval.c, runtime/doc/eval.txt

Patch 7.4.1093
Problem:    Typo in test goes unnoticed.
Solution:   Fix the typo. Give error for wrong arguments to <A HREF="eval.html#cursor()">cursor()</A>.
            (partly by Hirohito Higashi) Add a test for <A HREF="eval.html#cursor()">cursor()</A>.
Files:      src/testdir/test_searchpos.vim, src/testdir/test_cursor_func.vim,
            src/eval.c, src/testdir/test_alot.vim

Patch 7.4.1094
Problem:    Test for <A HREF="print.html#:hardcopy">:hardcopy</A> fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Check for the <A HREF="various.html#+postscript">+postscript</A> feature.
Files:      src/testdir/test_hardcopy.vim

Patch 7.4.1095
Problem:    Can't build GvimExt with SDK 7.1.
Solution:   Support using setenv.bat instead of vcvars32.bat. (Ken Takata)
Files:      src/Make_mvc.mak, src/GvimExt/Makefile

Patch 7.4.1096
Problem:    Need several lines to verify a command produces an error.
Solution:   Add <A HREF="eval.html#assert_fails()">assert_fails()</A>. (suggested by Nikolai Pavlov)
            Make the <A HREF="quickfix.html#quickfix">quickfix</A> alloc test actually work.
Files:      src/testdir/test_quickfix.vim, src/eval.c, runtime/doc/eval.txt,
            src/misc2.c, src/alloc.h

Patch 7.4.1097
Problem:    Looking up the alloc ID for tests fails.
Solution:   Fix the line computation.  Use <A HREF="eval.html#assert_fails()">assert_fails()</A> for unlet test.
Files:      src/testdir/runtest.vim, src/testdir/test_unlet.vim

Patch 7.4.1098
Problem:    Still using old style C function declarations.
Solution:   Always define __ARGS() to include types.  Turn a few <A HREF="eval.html#functions">functions</A>
            into ANSI style to find out if this causes problems for anyone.
Files:      src/vim.h, src/os_unix.h, src/eval.c, src/main.c

Patch 7.4.1099
Problem:    It's not <A HREF="starting.html#easy">easy</A> to know if Vim supports <A HREF="options.html#blowfish">blowfish</A>. (Smu Johnson)
Solution:   Add has('crypt-blowfish') and has('crypt-blowfish2').
Files:      src/eval.c

Patch 7.4.1100
Problem:    Cygwin makefiles are unused.
Solution:   Remove them.
Files:      src/GvimExt/Make_ming.mak, src/GvimExt/Make_cyg.mak,
            src/xxd/Make_ming.mak, src/xxd/Make_cyg.mak

Patch 7.4.1101
Problem:    With <A HREF="options.html#'rightleft'">'rightleft'</A> and concealing the cursor may move to the wrong
            position.
Solution:   Compute the column differently when <A HREF="options.html#'rightleft'">'rightleft'</A> is set. (Hirohito
            Higashi)
Files:      src/screen.c

Patch 7.4.1102
Problem:    Debugger has no stack backtrace support.
Solution:   Add &quot;backtrace&quot;, &quot;frame&quot;, &quot;up&quot; and &quot;down&quot; commands. (Alberto
            Fanjul, closes #433)
Files:      runtime/doc/repeat.txt, src/eval.c, src/ex_cmds2.c, src/globals.h,
            src/testdir/Make_all.mak, src/testdir/test108.in,
            src/testdir/test108.ok

Patch 7.4.1103 (after 7.4.1100)
Problem:    Removed file still in <A HREF="intro.html#distribution">distribution</A>.
Solution:   Remove Make_cyg.mak from the <A HREF="eval.html#list">list</A> of files.
Files:      Filelist

Patch 7.4.1104
Problem:    Various problems building with MzScheme/Racket.
Solution:   Make <A HREF="motion.html#it">it</A> work with new versions of Racket. (Yukihiro Nakadaira, Ken
            Takata)
Files:      runtime/doc/if_mzsch.txt, src/INSTALLpc.txt,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/auto/configure,
            src/configure.in, src/if_mzsch.c

Patch 7.4.1105
Problem:    When using slices there is a mixup of variable name and namespace.
Solution:   Recognize <A HREF="eval.html#variables">variables</A> that can't be a namespace. (Hirohito Higashi)
Files:      src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok

Patch 7.4.1106
Problem:    The nsis <A HREF="usr_41.html#script">script</A> can't be used from the appveyor build.
Solution:   Add &quot;ifndef&quot; to allow for <A HREF="eval.html#variables">variables</A> to be set from the command
            line. Remove duplicate SetCompressor command. Support using other
            gettext binaries. (Ken Takata)  Update build instructions to use
            libintl-8.dll.
Files:      Makefile, nsis/gvim.nsi, src/os_win32.c, src/proto/os_win32.pro,
            src/main.c, os_w32exe.c

Patch 7.4.1107
Problem:    Vim can create a directory but not delete <A HREF="motion.html#it">it</A>.
Solution:   Add an argument to <A HREF="eval.html#delete()">delete()</A> to make <A HREF="motion.html#it">it</A> possible to delete a
            directory, also recursively.
Files:      src/fileio.c, src/eval.c, src/proto/fileio.pro,
            src/testdir/test_delete.vim, src/testdir/test_alot.vim,
            runtime/doc/eval.txt

Patch 7.4.1108
Problem:    Expanding &quot;<A HREF="change.html#~">~</A>&quot; halfway a file name.
Solution:   Handle the file name <A HREF="motion.html#as">as</A> one name. (Marco Hinz)  Add a test.
            Closes #564.
Files:      src/testdir/test27.in, src/testdir/test27.ok,
            src/testdir/test_expand.vim, src/testdir/test_alot.vim,
            src/Makefile, src/misc2.c

Patch 7.4.1109 (after 7.4.1107)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> doesn't have rmdir().
Solution:   Add mch_rmdir().
Files:      src/os_win32.c, src/proto/os_win32.pro

Patch 7.4.1110
Problem:    Test 108 fails when language is French.
Solution:   Force English <A HREF="message.html#messages">messages</A>. (Dominique Pelle)
Files:      src/testdir/test108.in

Patch 7.4.1111
Problem:    test_expand fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Always use forward slashes.  Remove references to test27.
Files:      src/testdir/runtest.vim, src/testdir/test_expand.vim,
            src/testdir/Make_dos.mak, src/testdir/Make_all.mak,
            src/testdir/Make_amiga.mak, src/testdir/Make_ming.mak

Patch 7.4.1112
Problem:    When using &quot;<A HREF="editing.html#:next">:next</A>&quot; with an illegal file name no error is reported.
Solution:   Give an error message.
Files:      src/ex_cmds2.c

Patch 7.4.1113 (after 7.4.1105)
Problem:    Using {ns} in variable name does not work. (lilydjwg)
Solution:   Fix recognizing colon.  Add a test.
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1114 (after 7.4.1107)
Problem:    <A HREF="eval.html#delete()">delete()</A> does not work well with symbolic links.
Solution:   Recognize symbolic links.
Files:      src/eval.c, src/fileio.c, src/os_unix.c, src/proto/os_unix.pro,
            src/testdir/test_delete.vim, runtime/doc/eval.txt

Patch 7.4.1115
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: make clean in testdir doesn't clean everything.
Solution:   Add command to delete X* directories. (Ken Takata)
Files:      src/testdir/Make_dos.mak

Patch 7.4.1116
Problem:    delete(x, 'rf') does not delete files starting with a dot.
Solution:   Also delete files starting with a dot.
Files:      src/misc1.c, src/fileio.c, src/vim.h

Patch 7.4.1117 (after 7.4.1116)
Problem:    No longer get &quot;<A HREF="repeat.html#.">.</A>&quot; and &quot;..&quot; in directory <A HREF="eval.html#list">list</A>.
Solution:   Do not skip &quot;<A HREF="repeat.html#.">.</A>&quot; and &quot;..&quot; unless EW_DODOT is set.
Files:      src/misc1.c

Patch 7.4.1118
Problem:    Tests hang in 24 line <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Set the <A HREF="options.html#'more'">'more'</A> option off.
Files:      src/testdir/runtest.vim

Patch 7.4.1119
Problem:    <A HREF="eval.html#argidx()">argidx()</A> has a wrong value after &quot;:&#37;argdelete&quot;. (Yegappan
            Lakshmanan)
Solution:   Correct the value of w_arg_idx.  Add a test.
Files:      src/ex_cmds2.c, src/testdir/test_arglist.vim,
            src/testdir/Make_all.mak

Patch 7.4.1120
Problem:    delete(x, 'rf') fails if a directory is empty. (Lcd)
Solution:   Ignore not finding matches in an empty directory.
Files:      src/fileio.c, src/misc1.c, src/vim.h, src/testdir/test_delete.vim

Patch 7.4.1121
Problem:    test_expand leaves files behind.
Solution:   Edit another file before <A HREF="change.html#deleting">deleting</A>, otherwise the swap file
            remains.
Files:      src/testdir/test_expand.vim

Patch 7.4.1122
Problem:    Test 92 and 93 fail when using <A HREF="starting.html#gvim">gvim</A> on a system with a non <A HREF="mbyte.html#utf-8">utf-8</A>
            <A HREF="mbyte.html#locale">locale</A>.
Solution:   Avoid using <A HREF="gui.html#.gvimrc">.gvimrc</A> by adding <A HREF="starting.html#-U">-U</A> NONE. (Yukihiro Nakadaira)
Files:      src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile

Patch 7.4.1123
Problem:    Using &quot;<A HREF="editing.html#:argadd">:argadd</A>&quot; when there are no arguments results in the second
            argument to be the current one. (Yegappan Lakshmanan)
Solution:   Correct the w_arg_idx value.
Files:      src/ex_cmds2.c, src/testdir/test_arglist.vim

Patch 7.4.1124
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: dead key behavior is not ideal.
Solution:   Handle dead keys differently when not in <A HREF="insert.html#Insert">Insert</A> or <A HREF="visual.html#Select">Select</A> mode.
            (John Wellesz, closes #399)
Files:      src/gui_w48.c

Patch 7.4.1125
Problem:    There is no <A HREF="eval.html#perleval()">perleval()</A>.
Solution:   Add <A HREF="eval.html#perleval()">perleval()</A>. (Damien)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,
            src/if_perl.xs, src/proto/if_perl.pro, src/testdir/Make_all.mak,
            src/testdir/test_perl.vim

Patch 7.4.1126
Problem:    Can only get the directory of the current <A HREF="windows.html#window">window</A>.
Solution:   Add <A HREF="windows.html#window">window</A> and <A HREF="intro.html#tab">tab</A> arguments to <A HREF="eval.html#getcwd()">getcwd()</A> and <A HREF="eval.html#haslocaldir()">haslocaldir()</A>.
            (Thinca, Hirohito Higashi)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_getcwd.in, src/testdir/test_getcwd.ok,
            runtime/doc/eval.txt, patching file src/eval.c

Patch 7.4.1127
Problem:    Both old and new style tests for <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Merge the old tests with the new style tests.
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_perl.in,
            src/testdir/test_perl.ok, src/testdir/test_perl.vim

Patch 7.4.1128
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="eval.html#delete()">delete()</A> does not recognize junctions.
Solution:   Add mch_isrealdir() for <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. Update mch_is_symbolic_link().
            (Ken Takata)
Files:      src/fileio.c, src/os_win32.c, src/proto/os_win32.pro

Patch 7.4.1129
Problem:    <A HREF="if_pyth.html#Python">Python</A> None value can't be converted to a Vim value.
Solution:   Just use zero. (Damien)
Files:      src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok,

Patch 7.4.1130
Problem:    Memory leak in <A HREF="quickfix.html#:vimgrep">:vimgrep</A>.
Solution:   Call FreeWild(). (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 7.4.1131
Problem:    New lines in the <A HREF="starting.html#viminfo">viminfo</A> file are dropped.
Solution:   Copy lines starting with &quot;|&quot;.  Fix that when using <A HREF="starting.html#:rviminfo">:rviminfo</A> in a
            function global <A HREF="eval.html#variables">variables</A> were restored <A HREF="motion.html#as">as</A> function-local
            <A HREF="eval.html#variables">variables</A>.
Files:      src/eval.c, src/structs.h, src/ex_cmds.c, src/misc2.c,
            src/proto/misc2.pro, src/testdir/test_viminfo.vim,
            src/testdir/Make_all.mak, src/testdir/test74.in,
            src/testdir/test74.ok

Patch 7.4.1132
Problem:    Old style tests for the argument <A HREF="eval.html#list">list</A>.
Solution:   Add more new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/test_arglist.vim, src/testdir/test_argument_0count.in,
            src/testdir/test_argument_0count.ok,
            src/testdir/test_argument_count.in, src/Makefile,
            src/testdir/test_argument_count.ok, src/testdir/Make_all.mak

Patch 7.4.1133
Problem:    Generated function prototypes still have __ARGS().
Solution:   Generate function prototypes without __ARGS().
Files:      src/Makefile, src/if_ruby.c, src/os_win32.c,
            src/proto/blowfish.pro, src/proto/buffer.pro,
            src/proto/charset.pro, src/proto/crypt.pro,
            src/proto/crypt_zip.pro, src/proto/diff.pro,
            src/proto/digraph.pro, src/proto/edit.pro, src/proto/eval.pro,
            src/proto/ex_cmds2.pro, src/proto/ex_cmds.pro,
            src/proto/ex_docmd.pro, src/proto/ex_eval.pro,
            src/proto/ex_getln.pro, src/proto/fileio.pro, src/proto/fold.pro,
            src/proto/getchar.pro, src/proto/gui_athena.pro,
            src/proto/gui_beval.pro, src/proto/gui_gtk_gresources.pro,
            src/proto/gui_gtk.pro, src/proto/gui_gtk_x11.pro,
            src/proto/gui_mac.pro, src/proto/gui_motif.pro,
            src/proto/gui_photon.pro, src/proto/gui.pro,
            src/proto/gui_w16.pro, src/proto/gui_w32.pro,
            src/proto/gui_x11.pro, src/proto/gui_xmdlg.pro,
            src/proto/hangulin.pro, src/proto/hardcopy.pro,
            src/proto/hashtab.pro, src/proto/if_cscope.pro,
            src/proto/if_lua.pro, src/proto/if_mzsch.pro,
            src/proto/if_ole.pro, src/proto/if_perl.pro,
            src/proto/if_perlsfio.pro, src/proto/if_python3.pro,
            src/proto/if_python.pro, src/proto/if_ruby.pro,
            src/proto/if_tcl.pro, src/proto/if_xcmdsrv.pro,
            src/proto/main.pro, src/proto/mark.pro, src/proto/mbyte.pro,
            src/proto/memfile.pro, src/proto/memline.pro, src/proto/menu.pro,
            src/proto/message.pro, src/proto/misc1.pro, src/proto/misc2.pro,
            src/proto/move.pro, src/proto/netbeans.pro, src/proto/normal.pro,
            src/proto/ops.pro, src/proto/option.pro, src/proto/os_amiga.pro,
            src/proto/os_beos.pro, src/proto/os_mac_conv.pro,
            src/proto/os_msdos.pro, src/proto/os_mswin.pro,
            src/proto/os_qnx.pro, src/proto/os_unix.pro, src/proto/os_vms.pro,
            src/proto/os_win16.pro, src/proto/os_win32.pro,
            src/proto/popupmnu.pro, src/proto/pty.pro, src/proto/quickfix.pro,
            src/proto/regexp.pro, src/proto/screen.pro, src/proto/search.pro,
            src/proto/sha256.pro, src/proto/spell.pro, src/proto/syntax.pro,
            src/proto/tag.pro, src/proto/termlib.pro, src/proto/term.pro,
            src/proto/ui.pro, src/proto/undo.pro, src/proto/version.pro,
            src/proto/winclip.pro, src/proto/window.pro,
            src/proto/workshop.pro

Patch 7.4.1134
Problem:    The <A HREF="editing.html#arglist">arglist</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Only check for failure of argedit on <A HREF="os_unix.html#Unix">Unix</A>.
Files:      src/testdir/test_arglist.vim

Patch 7.4.1135
Problem:    One more <A HREF="editing.html#arglist">arglist</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Don't edit &quot;<A HREF="change.html#Y">Y</A>&quot; after editing &quot;<A HREF="change.html#y">y</A>&quot;.
Files:      src/testdir/test_arglist.vim

Patch 7.4.1136
Problem:    Wrong argument to <A HREF="eval.html#assert_exception()">assert_exception()</A> causes a crash. (reported by
            Coverity)
Solution:   Check for NULL pointer.  Add a test.
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1137
Problem:    Illegal memory access when using <A HREF="quickfix.html#:copen">:copen</A> and <A HREF="quickfix.html#:cclose">:cclose</A>.
Solution:   Avoid that curbuf is invalid. (suggestion by Justin <A HREF="motion.html#M">M</A>. Keyes)
            Add a test.
Files:      src/window.c, src/testdir/test_quickfix.vim

Patch 7.4.1138
Problem:    When running <A HREF="starting.html#gvim">gvim</A> in the foreground some icons are missing.
            (Taylor Venable)
Solution:   Move the call to gui_gtk_register_resource(). (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1139
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="eval.html#getftype()">getftype()</A> returns &quot;file&quot; for symlink to directory.
Solution:   Make <A HREF="motion.html#it">it</A> return &quot;dir&quot;. (Ken Takata)
Files:      src/os_mswin.c

Patch 7.4.1140
Problem:    Recognizing &lt;sid&gt; does not work when the language is Turkish.
            (Christian Brabandt)
Solution:   Use MB_STNICMP() instead of STNICMP().
Files:      src/eval.c

Patch 7.4.1141
Problem:    Using <A HREF="eval.html#searchpair()">searchpair()</A> with a skip <A HREF="eval.html#expression">expression</A> that uses <A HREF="syntax.html#syntax">syntax</A>
            highlighting sometimes doesn't work. (David Fishburn)
Solution:   Reset next_match_idx. (Christian Brabandt)
Files:      src/syntax.c

Patch 7.4.1142
Problem:    Cannot define keyword characters for a <A HREF="syntax.html#syntax">syntax</A> file.
Solution:   Add the &quot;<A HREF="syntax.html#:syn">:syn</A> iskeyword&quot; command. (Christian Brabandt)
Files:      runtime/doc/options.txt, runtime/doc/syntax.txt, src/buffer.c,
            src/option.c, src/structs.h, src/syntax.c,
            src/testdir/Make_all.mak, src/testdir/test_syntax.vim

Patch 7.4.1143
Problem:    Can't sort on floating point numbers.
Solution:   Add the &quot;<A HREF="motion.html#f">f</A>&quot; flag to &quot;<A HREF="change.html#:sort">:sort</A>&quot;.  (Alex Jakushev)  Also add the &quot;<A HREF="motion.html#f">f</A>&quot;
            flag to <A HREF="eval.html#sort()">sort()</A>.
Files:      runtime/doc/change.txt, src/ex_cmds.c, src/testdir/test_sort.vim,
            src/testdir/test57.in, src/testdir/test57.ok, src/eval.c

Patch 7.4.1144 (after 7.4.1143)
Problem:    Can't build on several systems.
Solution:   Include float.h. (Christian Robinson, closes #570 #571)
Files:      src/ex_cmds.c

Patch 7.4.1145
Problem:    Default features are conservative.
Solution:   Make the default feature set for most of today's systems &quot;huge&quot;.
Files:      src/feature.h, src/configure.in, src/auto/configure

Patch 7.4.1146
Problem:    Can't build with <A HREF="if_pyth.html#Python">Python</A> 3 interface using MingW.
Solution:   Update the Makefile. (Yasuhiro Matsumoto, Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1147
Problem:    Conflict for &quot;chartab&quot;. (Kazunobu Kuriyama)
Solution:   Rename the global one to something <A HREF="various.html#less">less</A> obvious.  Move <A HREF="motion.html#it">it</A> into
            src/chartab.c.
Files:      src/macros.h, src/globals.h, src/charset.c, src/main.c,
            src/option.c, src/screen.c, src/vim.h

Patch 7.4.1148
Problem:    Default for MingW and Cygwin is still &quot;normal&quot;.
Solution:   Use &quot;huge&quot; <A HREF="motion.html#as">as</A> default. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.1149 (after 7.4.1013)
Problem:    Using the local value of <A HREF="options.html#'errorformat'">'errorformat'</A> causes more problems than
            <A HREF="motion.html#it">it</A> solves.
Solution:   Revert 7.4.1013.
Files:      runtime/doc/quickfix.txt, src/quickfix.c

Patch 7.4.1150
Problem:    <A HREF="options.html#'langmap'">'langmap'</A> applies to the first character typed in <A HREF="visual.html#Select">Select</A> mode.
            (David Watson)
Solution:   Check for SELECTMODE. (Christian Brabandt, closes #572)
            Add the '<A HREF="change.html#x">x</A>' flag to <A HREF="eval.html#feedkeys()">feedkeys()</A>.
Files:      src/getchar.c, src/normal.c, src/testdir/test_langmap.vim,
            src/ex_docmd.c, src/proto/ex_docmd.pro, src/testdir/Make_all.mak,
            runtime/doc/eval.txt

Patch 7.4.1151 (after 7.4.1150)
Problem:    Missing change to eval.c
Solution:   Also change <A HREF="eval.html#feedkeys()">feedkeys()</A>.
Files:      src/eval.c

Patch 7.4.1152
Problem:    Langmap test fails with normal build.
Solution:   Check for <A HREF="various.html#+langmap">+langmap</A> feature.
Files:      src/testdir/test_langmap.vim

Patch 7.4.1153
Problem:    Autocommands triggered by <A HREF="quickfix.html#quickfix">quickfix</A> cannot always get the current
            title value.
Solution:   Call qf_fill_buffer() later. (Christian Brabandt)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1154
Problem:    No support for JSON.
Solution:   Add jsonencode() and jsondecode().  Also add <A HREF="eval.html#v:false">v:false</A>, <A HREF="eval.html#v:true">v:true</A>,
            <A HREF="eval.html#v:null">v:null</A> and <A HREF="eval.html#v:none">v:none</A>.
Files:      src/json.c, src/eval.c, src/proto.h, src/structs.h, src/vim.h,
            src/if_lua.c, src/if_mzsch.c, src/if_ruby.c, src/if_py_both.h,
            src/globals.h, src/Makefile, src/Make_bc3.mak, src/Make_bc5.mak,
            src/Make_cyg_ming.mak, src/Make_dice.mak, src/Make_ivc.mak,
            src/Make_manx.mak, src/Make_morph.mak, src/Make_mvc.mak,
            src/Make_sas.mak, src/Make_vms.mms, src/proto/json.pro,
            src/proto/eval.pro, src/testdir/test_json.vim,
            src/testdir/test_alot.vim, Filelist, runtime/doc/eval.txt

Patch 7.4.1155
Problem:    Build with normal features fails.
Solution:   Always define dict_lookup().
Files:      src/eval.c

Patch 7.4.1156
Problem:    Coverity warns for NULL pointer and ignoring return value.
Solution:   Check for NULL pointer. When dict_add() returns FAIL free the item.
Files:      src/json.c

Patch 7.4.1157
Problem:    <A HREF="eval.html#type()">type()</A> does not work for <A HREF="eval.html#v:true">v:true</A>, <A HREF="eval.html#v:none">v:none</A>, etc.
Solution:   Add new type numbers.
Files:      src/eval.c, src/testdir/test_json.vim, src/testdir/test_viml.vim

Patch 7.4.1158
Problem:    Still using __ARGS().
Solution:   Remove __ARGS() from eval.c
Files:      src/eval.c

Patch 7.4.1159
Problem:    Automatically generated function prototypes use __ARGS.
Solution:   Remove __ARGS from osdef.sh.
Files:      src/osdef.sh, src/osdef1.h.in, src/osdef2.h.in

Patch 7.4.1160
Problem:    No error for jsondecode(&#39;&#34;'').
Solution:   Give an error message for missing double <A HREF="change.html#quote.">quote.</A>
Files:      src/json.c

Patch 7.4.1161
Problem:    &quot;<A HREF="editing.html#:argadd">:argadd</A>&quot; without argument is supposed to add the current buffer
            name to the <A HREF="editing.html#arglist">arglist</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work <A HREF="motion.html#as">as</A> documented. (Coot, closes #577)
Files:      src/ex_cmds.h, src/ex_cmds2.c, src/testdir/test_arglist.vim

Patch 7.4.1162
Problem:    Missing error number in <A HREF="if_mzsch.html#MzScheme">MzScheme</A>. (Dominique Pelle)
Solution:   Add a proper error number.
Files:      src/if_mzsch.c

Patch 7.4.1163
Problem:    Expressions &quot;<A HREF="motion.html#0">0</A> + v:true&quot; and &quot;<A HREF="motion.html#''">''</A> . v:true&quot; cause an error.
Solution:   Return something sensible when using a special variable <A HREF="motion.html#as">as</A> a
            number or <A HREF="motion.html#as">as</A> a <A HREF="eval.html#string">string</A>. (suggested by Damien)
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1164
Problem:    No tests for comparing special <A HREF="eval.html#variables">variables</A>.  Error in jsondecode()
            not reported.  test_json does not work with <A HREF="mbyte.html#Japanese">Japanese</A> system.
Solution:   Set scriptencoding. (Ken Takata) Add a few more tests. Add error.
Files:      src/json.c, src/testdir/test_viml.vim, src/testdir/test_json.vim

Patch 7.4.1165
Problem:    When defining DYNAMIC_ICONV_DLL in the makefile, the build fails.
Solution:   Add #ifdef's. (Taro Muraoka)  Try the newer version first.
Files:      src/mbyte.c, src/os_win32.c

Patch 7.4.1166
Problem:    Can't encode a <A HREF="eval.html#Funcref">Funcref</A> into JSON.  jsonencode() doesn't handle the
            same <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> <A HREF="if_cscop.html#twice">twice</A> properly.  (Nikolai Pavlov)
Solution:   Give an error.  Reset copyID when the <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> is finished.
Files:      src/json.c, src/proto/json.pro, src/testdir/test_json.vim

Patch 7.4.1167
Problem:    No tests for &quot;is&quot; and &quot;isnot&quot; with the new <A HREF="eval.html#variables">variables</A>.
Solution:   Add tests.
Files:      src/testdir/test_viml.vim

Patch 7.4.1168
Problem:    This doesn't give the right result: eval(string(v:true)). (Nikolai
            Pavlov)
Solution:   Make the <A HREF="eval.html#string">string</A> &quot;<A HREF="eval.html#v:true">v:true</A>&quot; instead of &quot;true&quot;.
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1169
Problem:    The socket I/O is intertwined with the <A HREF="netbeans.html#netbeans">netbeans</A> code.
Solution:   Start refactoring the <A HREF="netbeans.html#netbeans">netbeans</A> communication to split off the
            socket I/O.  Add the <A HREF="various.html#+channel">+channel</A> feature.
Files:      src/channel.c, src/netbeans.c, src/proto/channel.pro,
            src/proto/netbeans.pro, src/proto/gui_w32.pro, src/gui_w32.c,
            src/eval.c, src/os_mswin.c, src/ui.c, src/macros.h, Makefile,
            src/proto.h, src/feature.h, src/os_unix.c, src/vim.h,
            src/configure.in, src/auto/configure, src/config.mk.in,
            src/config.aap.in, src/config.h.in, src/Make_bc5.mak,
            src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.1170 (after 7.4.1169)
Problem:    Missing changes in src/Makefile, Filelist.
Solution:   Add the missing changes.
Files:      Filelist, src/Makefile

Patch 7.4.1171
Problem:    Makefile dependencies are outdated.
Solution:   Run &quot;make depend&quot;. Add <A HREF="gui_x11.html#GTK">GTK</A> resource dependencies.
Files:      src/Makefile

Patch 7.4.1172 (after 7.4.1169)
Problem:    Configure is overly positive.
Solution:   <A HREF="insert.html#Insert">Insert</A> &quot;test&quot;.
Files:      src/configure.in, src/auto/configure

Patch 7.4.1173 (after 7.4.1168)
Problem:    No test for new behavior of <A HREF="eval.html#v:true">v:true</A> et al.
Solution:   Add a test.
Files:      src/testdir/test_viml.vim

Patch 7.4.1174
Problem:    Netbeans contains dead code inside #ifndef INIT_SOCKETS.
Solution:   Remove the dead code.
Files:      src/netbeans.c

Patch 7.4.1175 (after 7.4.1169)
Problem:    Can't build with Mingw and Cygwin.
Solution:   Remove extra &quot;endif&quot;. (Christian <A HREF="change.html#J">J</A>. Robinson)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1176
Problem:    Missing change to proto file.
Solution:   Update the proto file. (Charles Cooper)
Files:      src/proto/gui_w32.pro

Patch 7.4.1177
Problem:    The <A HREF="various.html#+channel">+channel</A> feature is not in <A HREF="various.html#:version">:version</A> output. (Tony Mechelynck)
Solution:   Add the feature <A HREF="eval.html#string">string</A>.
Files:      src/version.c

Patch 7.4.1178
Problem:    <A HREF="eval.html#empty()">empty()</A> doesn't work for the new special <A HREF="eval.html#variables">variables</A>.
Solution:   Make <A HREF="eval.html#empty()">empty()</A> work. (Damien)
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1179
Problem:    test_writefile and test_viml <A HREF="diff.html#do">do</A> not delete the <A HREF="change.html#tempfile">tempfile</A>.
Solution:   Delete the <A HREF="change.html#tempfile">tempfile</A>. (Charles Cooper)  Add DeleteTheScript().
Files:      src/testdir/test_writefile.in, src/testdir/test_viml.vim

Patch 7.4.1180
Problem:    Crash with invalid argument to <A HREF="eval.html#glob2regpat()">glob2regpat()</A>.
Solution:   Check for NULL. (Justin <A HREF="motion.html#M">M</A>. Keyes, closes #596)  Add a test.
Files:      src/eval.c, src/testdir/test_glob2regpat.vim,
            src/testdir/test_alot.vim

Patch 7.4.1181
Problem:    free_tv() can't handle special <A HREF="eval.html#variables">variables</A>. (Damien)
Solution:   Add the variable type.
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1182
Problem:    Still socket code intertwined with <A HREF="netbeans.html#netbeans">netbeans</A>.
Solution:   Move code from netbeans.c to channel.c
Files:      src/channel.c, src/netbeans.c, src/proto/channel.pro,
            src/proto/netbeans.pro, src/gui.c, src/gui_w48.c

Patch 7.4.1183 (after 7.4.1182)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> build is broken.
Solution:   Remove init in wrong place.
Files:      src/channel.c

Patch 7.4.1184 (after 7.4.1182)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> build is still broken.
Solution:   Change nbsock to ch_fd.
Files:      src/channel.c

Patch 7.4.1185
Problem:    Can't build with <A HREF="if_tcl.html#TCL">TCL</A> on some systems.
Solution:   Rename the channel_ <A HREF="eval.html#functions">functions</A>.
Files:      src/if_tcl.c

Patch 7.4.1186
Problem:    Error <A HREF="message.html#messages">messages</A> for security context are hard to translate.
Solution:   Use one <A HREF="eval.html#string">string</A> with &#37;s. (Ken Takata)
Files:      src/os_unix.c

Patch 7.4.1187
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="channel.html#channel">channel</A> code only supports one <A HREF="channel.html#channel">channel</A>.  Doesn't build
            without <A HREF="netbeans.html#netbeans">netbeans</A> support.
Solution:   Get the <A HREF="channel.html#channel">channel</A> index from the socket in the message. Closes #600.
Files:      src/channel.c, src/netbeans.c, src/gui_w48.c,
            src/proto/channel.pro, src/proto/netbeans.pro

Patch 7.4.1188
Problem:    Using older JSON standard.
Solution:   Update the link.  Adjust the text a bit.
Files:      src/json.c, runtime/doc/eval.txt

Patch 7.4.1189 (after 7.4.1165)
Problem:    Using another language on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> does not work. (Yongwei Wu)
Solution:   Undo the change to try loading libintl-8.dll first.
Files:      src/os_win32.c

Patch 7.4.1190
Problem:    On OSX the default flag for dlopen() is different.
Solution:   Add RTLD_LOCAL in the configure check. (sv99, closes #604)
Files:      src/configure.in, src/auto/configure

Patch 7.4.1191
Problem:    The <A HREF="channel.html#channel">channel</A> feature isn't working yet.
Solution:   Add the connect(), disconnect(), sendexpr() and sendraw()
            <A HREF="eval.html#functions">functions</A>.  Add initial documentation.  Add a demo server.
Files:      src/channel.c, src/eval.c, src/proto/channel.pro,
            src/proto/eval.pro, runtime/doc/channel.txt, runtime/doc/eval.txt,
            runtime/doc/Makefile, runtime/tools/demoserver.py

Patch 7.4.1192
Problem:    Can't build with FEAT_EVAL but without FEAT_MBYTE. (John
            Marriott)
Solution:   Add #ifdef for FEAT_MBYTE.
Files:      src/json.c

Patch 7.4.1193
Problem:    Can't build the <A HREF="channel.html#channel">channel</A> feature on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add #ifdef HAVE_POLL.
Files:      src/channel.c

Patch 7.4.1194
Problem:    Compiler warning for not using return value of fwrite().
Solution:   Return OK/FAIL. (Charles Campbell)
Files:      src/channel.c, src/proto/channel.pro

Patch 7.4.1195
Problem:    The <A HREF="channel.html#channel">channel</A> feature does not work in the <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   Add <A HREF="os_win32.html#win32">win32</A> console support. (Yasuhiro Matsumoto)
Files:      src/channel.c, src/gui_w32.c, src/os_mswin.c, src/os_win32.c,
            src/proto/gui_w32.pro, src/proto/os_mswin.pro, src/vim.h

Patch 7.4.1196
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
Files:      src/arabic.c, src/buffer.c, src/charset.c, src/crypt_zip.c,
            src/diff.c, src/digraph.c, src/edit.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c

Patch 7.4.1197
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
Files:      src/ex_eval.c, src/ex_getln.c, src/farsi.c, src/fileio.c,
            src/fold.c, src/getchar.c, src/gui.c, src/gui_at_fs.c,
            gui_at_sb.c, src/gui_athena.c, src/gui_beval.c, src/gui_motif.c,
            src/gui_w32.c, src/gui_w48.c

Patch 7.4.1198
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
            Also remove use of HAVE_STDARG_H.
Files:      src/gui_x11.c, src/hangulin.c, src/hardcopy.c, src/hashtab.c,
            src/if_cscope.c, src/if_python3.c, src/if_sniff.c,
            src/if_xcmdsrv.c, src/main.c, src/mark.c, src/mbyte.c,
            src/memfile.c, src/memfile_test.c, src/memline.c, src/menu.c,
            src/message.c, src/misc1.c, src/misc2.c, src/move.c,
            src/netbeans.c, src/normal.c

Patch 7.4.1199
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
Files:      src/ops.c, src/option.c, src/os_amiga.c, src/os_mac_conv.c,
            src/os_unix.c, src/os_vms.c, src/os_w32exe.c, src/popupmnu.c,
            src/pty.c, src/quickfix.c, src/regexp.c, src/regexp_nfa.c,
            src/screen.c, src/search.c, src/sha256.c, src/spell.c,
            src/syntax.c, src/tag.c, src/term.c, src/termlib.c, src/ui.c,
            src/undo.c, src/version.c, src/window.c

Patch 7.4.1200
Problem:    Still using __ARGS.
Solution:   Remove __ARGS in several files. (script by Hirohito Higashi)
Files:      src/blowfish.c, src/ex_cmds2.c, src/ex_getln.c, src/fold.c,
            src/gui_beval.c, src/gui_w32.c, src/os_unix.c, src/os_win16.c,
            src/pty.c, src/regexp.c, src/syntax.c, src/xpm_w32.c,
            src/ex_cmds.h, src/globals.h, src/gui_at_sb.h, src/gui_beval.h,
            src/if_cscope.h, src/if_sniff.h, src/nbdebug.h, src/os_unix.h,
            src/proto.h, src/structs.h, src/vim.h, src/xpm_w32.h,
            src/if_perl.xs, src/proto/if_lua.pro, src/proto/pty.pro,
            runtime/tools/xcmdsrv_client.c,
            src/Makefile

Patch 7.4.1201
Problem:    One more file still using __ARGS.
Solution:   Remove __ARGS in the last file. (script by Hirohito Higashi)
Files:      src/gui_at_sb.c

Patch 7.4.1202
Problem:    Still one more file still using __ARGS.
Solution:   Remove __ARGS in the last file. (script by Hirohito Higashi)
            (closes #612)
Files:      src/proto/os_mac_conv.pro, src/os_mac_conv.c, src/Makefile

Patch 7.4.1203
Problem:    Still more files still using __ARGS.
Solution:   Remove __ARGS in really the last files.
Files:      src/proto/if_mzsch.pro, src/if_mzsch.c, src/vim.h,
            src/proto/gui_gtk_gresources.pro, src/proto/gui_mac.pro,
            src/proto/if_ole.pro, src/proto/os_qnx.pro, src/Makefile

Patch 7.4.1204
Problem:    Latin1 characters cause encoding conversion.
Solution:   Remove the characters.
Files:      src/gui_motif.c

Patch 7.4.1205
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/arabic.c, src/blowfish.c, src/buffer.c, src/channel.c,
            src/charset.c, src/crypt.c, src/crypt_zip.c, src/diff.c,
            src/digraph.c, src/edit.c, src/eval.c

Patch 7.4.1206
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c,
            src/ex_getln.c, src/farsi.c, src/fileio.c

Patch 7.4.1207
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/fold.c, src/getchar.c, src/gui_at_fs.c, src/gui_athena.c,
            src/gui_at_sb.c, src/gui_beval.c, src/gui.c, src/gui_gtk.c,
            src/gui_gtk_x11.c, src/gui_mac.c, src/gui_motif.c

Patch 7.4.1208
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/gui_photon.c, src/gui_w32.c, src/gui_w48.c, src/gui_x11.c,
            src/hangulin.c, src/hardcopy.c, src/hashtab.c, src/if_cscope.c,
            src/if_mzsch.c, src/if_perlsfio.c, src/if_python.c,
            src/if_python3.c, src/if_ruby.c, src/if_sniff.c, src/if_tcl.c,
            src/if_xcmdsrv.c, src/integration.c

Patch 7.4.1209 (after 7.4.1207)
Problem:    Can't build with <A HREF="gui_x11.html#Athena">Athena</A>. (Elimar Riesebieter)
Solution:   Fix function declarations.
Files:      src/gui_athena.c, src/gui_x11.c, src/gui_at_sb.c, src/gui_at_fs.c

Patch 7.4.1210
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,
            src/memfile_test.c, src/memline.c, src/menu.c, src/message.c

Patch 7.4.1211
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/misc1.c, src/misc2.c, src/move.c, src/netbeans.c,
            src/normal.c, src/ops.c, src/option.c

Patch 7.4.1212 (after 7.4.1207)
Problem:    Can't build with <A HREF="gui_x11.html#Motif">Motif</A>.
Solution:   Fix function declaration.(Dominique Pelle)
Files:      src/gui_motif.c

Patch 7.4.1213
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/os_amiga.c, src/os_mac_conv.c, src/os_msdos.d, src/os_mswin.c,
            src/os_qnx.c, src/os_unix.c, src/os_vms.c, src/os_win16.c,
            src/os_win32.c, src/popupmnu.c, src/pty.c, src/quickfix.c,
            src/regexp.c, src/regexp_nfa.c, src/screen.c

Patch 7.4.1214
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/search.c, src/sha256.c, src/spell.c, src/syntax.c, src/tag.c,
            src/term.c, src/termlib.c, src/ui.c, src/undo.c

Patch 7.4.1215
Problem:    Using old style function declarations.
Solution:   Change to new style function declarations. (script by Hirohito
            Higashi)
Files:      src/version.c, src/winclip.c, src/window.c, src/workshop.c,
            src/xpm_w32.c, runtime/doc/doctags.c,
            runtime/tools/xcmdsrv_client.c, src/po/sjiscorr.c, src/xxd/xxd.c

Patch 7.4.1216
Problem:    Still using HAVE_STDARG_H.
Solution:   Assume it's always defined.
Files:      src/eval.c, src/misc2.c, src/vim.h, src/proto.h, src/configure.in,
            src/auto/configure, config.h.in, src/os_amiga.h, src/os_msdos.h,
            src/os_vms_conf.h, src/os_win32.h

Patch 7.4.1217
Problem:    Execution of command on <A HREF="channel.html#channel">channel</A> doesn't work yet.
Solution:   Implement the &quot;<A HREF="starting.html#ex">ex</A>&quot; and &quot;normal&quot; commands.
Files:      src/channel.c, src/proto/channel.pro, src/misc2.c, src/eval.c,
            src/ex_docmd.c, src/proto/ex_docmd.pro, src/feature.h

Patch 7.4.1218
Problem:    Missing change in configure.  More changes for function style.
Solution:   Avoid the typos.
Files:      src/configure.in, src/config.h.in, runtime/tools/ccfilter.c,
            src/os_msdos.c

Patch 7.4.1219
Problem:    Build fails with <A HREF="various.html#+channel">+channel</A> but without <A HREF="various.html#+float">+float</A>.
Solution:   Add #ifdef.
Files:      src/ex_cmds.c

Patch 7.4.1220
Problem:    Warnings for unused <A HREF="eval.html#variables">variables</A> in tiny build. (Tony Mechelynck)
Solution:   Move declarations inside #ifdef. (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 7.4.1221
Problem:    Including <A HREF="netbeans.html#netbeans">netbeans</A> and <A HREF="channel.html#channel">channel</A> support in small and tiny builds.
            Build fails with some interfaces.
Solution:   Only include these features in small build and above.  Let
            configure fail if trying to enable an interface that won't build.
Files:      src/configure.in, src/auto/configure

Patch 7.4.1222
Problem:    &quot;<A HREF="various.html#:normal">:normal</A>&quot; command and others missing in tiny build.
Solution:   Graduate FEAT_EX_EXTRA.
Files:      src/feature.h, src/charset.c, src/eval.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/getchar.c,
            src/normal.c, src/ui.c, src/version.c, src/globals.h

Patch 7.4.1223
Problem:    Crash when setting <A HREF="eval.html#v:errors">v:errors</A> to a number.
Solution:   Free the typval without assuming its type. (Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1224
Problem:    Build problems with <A HREF="gui_x11.html#GTK">GTK</A> on BSD. (Mike Williams)
Solution:   Don't use &quot;$&lt;&quot;. Skip building gui_gtk_gresources.h when <A HREF="motion.html#it">it</A> doesn't
            work. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 7.4.1225
Problem:    Still a few old style function declarations.
Solution:   Make them new style. (Hirohito Higashi)
Files:      runtime/tools/blink.c, src/eval.c, src/ex_cmds2.c, src/ex_getln.c,
            src/fileio.c, src/gui_w32.c, src/gui_x11.c, src/if_perl.xs,
            src/os_unix.c, src/po/sjiscorr.c, src/pty.c

Patch 7.4.1226
Problem:    GRESOURCE_HDR is unused.
Solution:   Remove <A HREF="motion.html#it">it</A>. (Kazunobu Kuriyama)
Files:      src/configure.in, src/auto/configure, src/config.mk.in

Patch 7.4.1227
Problem:    Compiler warnings.
Solution:   Add UNUSED.  Add type cast. (Yegappan Lakshmanan)
Files:      src/getchar.c, src/os_macosx.m

Patch 7.4.1228
Problem:    <A HREF="eval.html#copy()">copy()</A> and <A HREF="eval.html#deepcopy()">deepcopy()</A> fail with special <A HREF="eval.html#variables">variables</A>. (Nikolai
            Pavlov)
Solution:   Make <A HREF="motion.html#it">it</A> work.  Add a test.  Closes #614.
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1229
Problem:    &quot;<A HREF="eval.html#eval">eval</A>&quot; and &quot;<A HREF="eval.html#expr">expr</A>&quot; <A HREF="channel.html#channel">channel</A> commands don't work yet.
Solution:   Implement them.  Update the error numbers.  Also add &quot;redraw&quot;.
Files:      src/channel.c, src/eval.c, src/json.c, src/ex_docmd.c,
            src/proto/channel.pro, src/proto/json.pro, src/proto/ex_docmd.pro,
            runtime/doc/channel.txt

Patch 7.4.1230
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: opening a <A HREF="channel.html#channel">channel</A> may hang.  Not checking for <A HREF="message.html#messages">messages</A>
            while waiting for characters.
Solution:   Add a zero timeout.  Call parse_queued_messages(). (Yasuhiro
            Matsumoto)
Files:      src/os_win32.c

Patch 7.4.1231
Problem:    JSON <A HREF="message.html#messages">messages</A> are not parsed properly.
Solution:   Queue received <A HREF="message.html#messages">messages</A>.
Files:      src/eval.c src/channel.c, src/json.c, src/proto/eval.pro,
            src/proto/channel.pro, src/proto/json.pro, src/structs.h

Patch 7.4.1232
Problem:    Compiler warnings when the Sniff feature is enabled.
Solution:   Add UNUSED.
Files:      src/gui_gtk_x11.c

Patch 7.4.1233
Problem:    <A HREF="eval.html#Channel">Channel</A> command may cause a crash.
Solution:   Check for NULL argument. (Damien)
Files:      src/channel.c

Patch 7.4.1234
Problem:    Demo server only runs with <A HREF="if_pyth.html#Python">Python</A> 2.
Solution:   Make <A HREF="motion.html#it">it</A> run with <A HREF="if_pyth.html#Python">Python</A> 3 <A HREF="motion.html#as">as</A> well. (Ken Takata)
Files:      runtime/tools/demoserver.py

Patch 7.4.1235 (after 7.4.1231)
Problem:    Missing change to eval.c.
Solution:   Include that change.
Files:      src/eval.c

Patch 7.4.1236
Problem:    When &quot;<A HREF="syntax.html#syntax">syntax</A> manual&quot; was used switching between <A HREF="windows.html#buffers">buffers</A> removes
            the highlighting.
Solution:   Set the <A HREF="syntax.html#syntax">syntax</A> option without <A HREF="change.html#changing">changing</A> the value. (Anton
            Lindqvist)
Files:      runtime/syntax/manual.vim

Patch 7.4.1237
Problem:    Can't translate message without adding a line break.
Solution:   Join the two parts of the message.
Files:      src/memline.c

Patch 7.4.1238
Problem:    Can't handle two <A HREF="message.html#messages">messages</A> right after each other.
Solution:   Find the end of the JSON.  Read more when incomplete.  Add a C
            test for the JSON decoding.
Files:      src/channel.c, src/json.c, src/proto/json.pro, src/eval.c,
            src/Makefile, src/json_test.c, src/memfile_test.c, src/structs.h

Patch 7.4.1239
Problem:    JSON message after the first one is dropped.
Solution:   Put remainder of message back in the queue.
Files:      src/channel.c

Patch 7.4.1240
Problem:    <A HREF="visual.html#Visual">Visual</A> studio tools are noisy.
Solution:   Suppress <A HREF="starting.html#startup">startup</A> info. (Mike Williams)
Files:      src/GvimExt/Makefile, src/Make_mvc.mak, src/tee/Make_mvc.mak

Patch 7.4.1241 (after 7.4.1238)
Problem:    Missing change in Makefile due to <A HREF="diff.html#diff">diff</A> mismatch
Solution:   Update the <A HREF="eval.html#list">list</A> of object files.
Files:      src/Makefile

Patch 7.4.1242 (after 7.4.1238)
Problem:    json_test fails without the <A HREF="eval.html#eval">eval</A> feature.
Solution:   Add #ifdef.
Files:      src/json_test.c

Patch 7.4.1243
Problem:    Compiler warning for uninitialized variable.
Solution:   Initialize <A HREF="motion.html#it">it</A>. (Elias Diem)
Files:      src/json.c

Patch 7.4.1244
Problem:    The <A HREF="channel.html#channel">channel</A> <A HREF="eval.html#functions">functions</A> don't sort together.
Solution:   Use a common &quot;ch_&quot; prefix.
Files:      src/eval.c, runtime/doc/eval.txt, runtime/tools/demoserver.py

Patch 7.4.1245
Problem:    File missing from <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add json_test.c.
Files:      Filelist

Patch 7.4.1246
Problem:    The <A HREF="channel.html#channel">channel</A> functionality isn't tested.
Solution:   Add a test using a <A HREF="if_pyth.html#Python">Python</A> test server.
Files:      src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, src/testdir/test_channel.py,
            src/testdir/Make_all.mak

Patch 7.4.1247
Problem:    The <A HREF="channel.html#channel">channel</A> test doesn't run on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work on the <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console. (Ken Takata)
Files:      src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1248
Problem:    Can't reliably stop the <A HREF="channel.html#channel">channel</A> test server.  Can't start the
            server if the <A HREF="if_pyth.html#python">python</A> file is not executable.
Solution:   Use &quot;pkill&quot; instead of &quot;killall&quot;.  Run the <A HREF="if_pyth.html#python">python</A> file <A HREF="motion.html#as">as</A> an
            argument instead of <A HREF="motion.html#as">as</A> an executable.
Files:      src/testdir/test_channel.vim

Patch 7.4.1249
Problem:    Crash when the process a <A HREF="channel.html#channel">channel</A> is connected to exits.
Solution:   Use the file descriptor properly.  Add a test. (Damien)
            Also add a test for <A HREF="eval.html#eval()">eval()</A>.
Files:      src/channel.c, src/testdir/test_channel.py,
            src/testdir/test_channel.vim

Patch 7.4.1250
Problem:    Running tests in shadow directory fails.
Solution:   Also link testdir/*.py
Files:      src/Makefile

Patch 7.4.1251
Problem:    New test file missing from <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add src/testdir/*.py.
Files:      Filelist

Patch 7.4.1252
Problem:    The <A HREF="channel.html#channel">channel</A> test server may receive two <A HREF="message.html#messages">messages</A> concatenated.
Solution:   Split the <A HREF="message.html#messages">messages</A>.
Files:      src/testdir/test_channel.py

Patch 7.4.1253
Problem:    <A HREF="if_pyth.html#Python">Python</A> test server not displaying second of two commands.
            Solaris doesn't have &quot;pkill --full&quot;.
Solution:   Also echo the second command. Use &quot;pkill -f&quot;.
Files:      src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1254
Problem:    Opening a second <A HREF="channel.html#channel">channel</A> causes a crash. (Ken Takata)
Solution:   Don't re-allocate the array with channels.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1255
Problem:    Crash for <A HREF="channel.html#channel">channel</A> &quot;<A HREF="eval.html#eval">eval</A>&quot; command without third argument.
Solution:   Check for missing argument.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1256
Problem:    On <A HREF="os_mac.html#Mac">Mac</A> sys.exit(0) doesn't kill the test server.
Solution:   Use self.server.shutdown(). (Jun Takimoto)
Files:      src/testdir/test_channel.py

Patch 7.4.1257
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails in some configurations.
Solution:   Add check for the <A HREF="various.html#+channel">+channel</A> feature.
Files:      src/testdir/test_channel.vim

Patch 7.4.1258
Problem:    The <A HREF="channel.html#channel">channel</A> test can fail if <A HREF="message.html#messages">messages</A> arrive later.
Solution:   Add a short sleep. (Jun Takimoto)
Files:      src/testdir/test_channel.vim

Patch 7.4.1259
Problem:    No test for what patch 7.3.414 fixed.
Solution:   Add a test. (Elias Diem)
Files:      src/testdir/test_increment.vim

Patch 7.4.1260
Problem:    The <A HREF="channel.html#channel">channel</A> feature doesn't work on <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A>.
Solution:   Use WSAGetLastError(). (Ken Takata)
Files:      src/channel.c, src/testdir/test_channel.vim, src/vim.h

Patch 7.4.1261
Problem:    Pending <A HREF="channel.html#channel">channel</A> <A HREF="message.html#messages">messages</A> are garbage collected. Leaking memory in
            <A HREF="eval.html#ch_sendexpr()">ch_sendexpr()</A>.  Leaking memory for a decoded JSON <A HREF="eval.html#string">string</A>.
Solution:   <A HREF="motion.html#Mark">Mark</A> the message <A HREF="eval.html#list">list</A> <A HREF="motion.html#as">as</A> used. Free the encoded JSON.  Don't save
            the JSON <A HREF="eval.html#string">string</A>.
Files:      src/eval.c, src/channel.c, src/json.c, src/proto/channel.pro

Patch 7.4.1262
Problem:    The <A HREF="channel.html#channel">channel</A> callback is not invoked.
Solution:   Make a <A HREF="eval.html#list">list</A> of pending callbacks.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1263
Problem:    <A HREF="eval.html#ch_open()">ch_open()</A> hangs when the server isn't running.
Solution:   Add a timeout. Use a <A HREF="eval.html#dict">dict</A> to pass arguments. (Yasuhiro Matsumoto)
Files:      runtime/doc/eval.txt, runtime/doc/channel.txt, src/channel.c,
            src/eval.c, src/netbeans.c, src/os_win32.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1264
Problem:    Crash when receiving an empty array.
Solution:   Check for array with wrong number of arguments. (Damien)
Files:      src/channel.c, src/eval.c, src/testdir/test_channel.py,
            src/testdir.test_channel.vim

Patch 7.4.1265
Problem:    Not all <A HREF="channel.html#channel">channel</A> commands are tested.
Solution:   Add a test for &quot;normal&quot;, &quot;<A HREF="eval.html#expr">expr</A>&quot; and &quot;redraw&quot;.
Files:      src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1266
Problem:    A <A HREF="autocmd.html#BufAdd">BufAdd</A> <A HREF="autocmd.html#autocommand">autocommand</A> may cause an ml_get error (Christian
            Brabandt)
Solution:   Increment RedrawingDisabled earlier.
Files:      src/ex_cmds.c

Patch 7.4.1267
Problem:    Easy to miss handling all types of <A HREF="eval.html#variables">variables</A>.
Solution:   Change the variable type into an enum.
Files:      src/structs.h, src/eval.c

Patch 7.4.1268
Problem:    Waittime is used <A HREF="motion.html#as">as</A> seconds instead of milliseconds. (Hirohito
            Higashi)
Solution:   Divide by 1000.
Files:      src/channel.c

Patch 7.4.1269
Problem:    Encoding {'key':v:none} to JSON doesn't give an error (Tyru)
Solution:   Give an error.
Files:      src/json.c, src/testdir/test_json.vim

Patch 7.4.1270
Problem:    Warnings for missing values in switch.
Solution:   Change switch to if-else or add values.
Files:      src/if_py_both.h, src/if_python.c, src/if_python3.c

Patch 7.4.1271
Problem:    assert_false(v:false) reports an error. (Nikolai Pavlov)
Solution:   Recognize <A HREF="eval.html#v:true">v:true</A> and <A HREF="eval.html#v:false">v:false</A>. (Closes #625)
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1272 (after 7.4.1270)
Problem:    Using future enum value.
Solution:   Remove <A HREF="motion.html#it">it</A>.
Files:      src/if_python.c, src/if_python3.c

Patch 7.4.1273 (after 7.4.1271)
Problem:    assert_false(v:false) still fails.
Solution:   Fix the typo.
Files:      src/eval.c

Patch 7.4.1274
Problem:    Cannot run a <A HREF="channel.html#job">job</A>.
Solution:   Add <A HREF="eval.html#job_start()">job_start()</A>, <A HREF="eval.html#job_status()">job_status()</A> and <A HREF="eval.html#job_stop()">job_stop()</A>. Currently only works
            for <A HREF="os_unix.html#Unix">Unix</A>.
Files:      src/eval.c, src/structs.h, runtime/doc/eval.txt, src/os_unix.c,
            src/proto/os_unix.pro, src/feature.h, src/version.c,
            src/testdir/test_channel.vim

Patch 7.4.1275 (after 7.4.1274)
Problem:    Build fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Fix wrong #ifdef.
Files:      src/eval.c

Patch 7.4.1276
Problem:    Warning for not using return value of fcntl().
Solution:   Explicitly ignore the return value.
Files:      src/fileio.c, src/channel.c, src/memfile.c, src/memline.c

Patch 7.4.1277
Problem:    Compiler can complain about missing enum value in switch with some
            combination of features.
Solution:   Remove #ifdefs around <A HREF="change.html#case">case</A> statements.
Files:      src/eval.c

Patch 7.4.1278
Problem:    When jsonencode() fails <A HREF="motion.html#it">it</A> still returns something.
Solution:   Return an empty <A HREF="eval.html#string">string</A> on failure.
Files:      src/json.c, src/channel.c, src/testdir/test_json.vim,
            src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 7.4.1279
Problem:    jsonencode() is not producing strict JSON.
Solution:   Add jsencode() and jsdecode().  Make jsonencode() and jsondecode()
            strict.
Files:      src/json.c, src/json_test.c, src/proto/json.pro, src/channel.c,
            src/proto/channel.pro, src/eval.c, src/vim.h, src/structs.h,
            runtime/doc/eval.txt, runtime/doc/channel.txt,
            src/testdir/test_json.vim

Patch 7.4.1280
Problem:    Missing <A HREF="change.html#case">case</A> value.
Solution:   Add VAR_JOB.
Files:      src/if_python.c, src/if_python3.c

Patch 7.4.1281
Problem:    No test for skipping over code that isn't evaluated.
Solution:   Add a test with code that would fail when not skipped.
Files:      src/testdir/test_viml.vim

Patch 7.4.1282
Problem:    Crash when evaluating the <A HREF="pattern.html#pattern">pattern</A> of &quot;<A HREF="eval.html#:catch">:catch</A>&quot; causes an error.
            (Dominique Pelle)
Solution:   Block error <A HREF="message.html#messages">messages</A> at this point.
Files:      src/ex_eval.c

Patch 7.4.1283
Problem:    The <A HREF="channel.html#job">job</A> feature isn't available on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add the <A HREF="channel.html#job">job</A> feature.  Fix argument of <A HREF="eval.html#job_stop()">job_stop()</A>. (Yasuhiro
            Matsumoto)
Files:      src/eval.c, src/feature.h, src/os_win32.c, src/proto/os_win32.pro

Patch 7.4.1284 (after 7.4.1282)
Problem:    Test 49 fails.
Solution:   Check for a different error message.
Files:      src/testdir/test49.vim

Patch 7.4.1285
Problem:    Cannot measure elapsed time.
Solution:   Add <A HREF="eval.html#reltimefloat()">reltimefloat()</A>.
Files:      src/ex_cmds2.c, src/eval.c, src/proto/ex_cmds2.pro,
            src/testdir/test_reltime.vim, src/testdir/test_alot.vim

Patch 7.4.1286
Problem:    <A HREF="eval.html#ch_open()">ch_open()</A> with a timeout doesn't work correctly.
Solution:   Change how select() is used.  Don't give an error on timeout.
            Add a test for <A HREF="eval.html#ch_open()">ch_open()</A> failing.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1287 (after 7.4.1286)
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails.
Solution:   Use <A HREF="eval.html#reltimefloat()">reltimefloat()</A>.
Files:      src/testdir/test_channel.vim

Patch 7.4.1288
Problem:    <A HREF="eval.html#ch_sendexpr()">ch_sendexpr()</A> does not use JS encoding.
Solution:   Use the encoding that fits the <A HREF="channel.html#channel">channel</A> mode.  Refuse using
            <A HREF="eval.html#ch_sendexpr()">ch_sendexpr()</A> on a raw <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c, src/proto/channel.pro, src/eval.c

Patch 7.4.1289
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>, connect() takes too long.
Solution:   Adjust the test for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> using &quot;<A HREF="channel.html#waittime">waittime</A>&quot;.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1290
Problem:    Coverity complains about unnecessary check for NULL.
Solution:   Remove the check.
Files:      src/eval.c

Patch 7.4.1291
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> the <A HREF="channel.html#channel">channel</A> test server doesn't quit.
Solution:   Use return instead of break. (Ken Takata)
Files:      src/testdir/test_channel.py

Patch 7.4.1292
Problem:    Some compilers complain about uninitialized variable, even though
            all possible cases are handled. (Dominique Pelle)
Solution:   Add a default <A HREF="starting.html#initialization">initialization</A>.
Files:      src/eval.c

Patch 7.4.1293
Problem:    Sometimes a <A HREF="channel.html#channel">channel</A> may hang waiting for a message that was
            already discarded. (Ken Takata)
Solution:   Store the ID of the message blocking on in the <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c

Patch 7.4.1294
Problem:    <A HREF="eval.html#job_stop()">job_stop()</A> only kills the started process.
Solution:   Send the signal to the process group. (Olaf Dabrunz)
Files:      src/os_unix.c

Patch 7.4.1295
Problem:    string(job) doesn't work well on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use the process ID. (Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1296
Problem:    Cursor changes column with up motion when the <A HREF="pi_paren.html#matchparen">matchparen</A> <A HREF="usr_05.html#plugin">plugin</A>
            saves and restores the cursor position. (Martin Kunev)
Solution:   Make sure curswant is updated before invoking the <A HREF="autocmd.html#autocommand">autocommand</A>.
Files:      src/edit.c

Patch 7.4.1297
Problem:    On <A HREF="os_mac.html#Mac">Mac</A> test_channel leaves <A HREF="if_pyth.html#python">python</A> instances running.
Solution:   Use a small <A HREF="channel.html#waittime">waittime</A> to make <A HREF="eval.html#ch_open()">ch_open()</A> work. (Ozaki Kiichi)
Files:      src/testdir/test_channel.vim

Patch 7.4.1298
Problem:    When the <A HREF="channel.html#channel">channel</A> test fails in an unexpected way the server keeps
            running.
Solution:   Use try/catch. (Ozaki Kiichi)
Files:      src/testdir/test_channel.vim

Patch 7.4.1299
Problem:    When the server sends a message with ID zero the <A HREF="channel.html#channel">channel</A> handler
            is not invoked. (Christian <A HREF="change.html#J">J</A>. Robinson)
Solution:   Recognize zero value for the request ID.  Add a test for invoking
            the <A HREF="channel.html#channel">channel</A> handler.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1300
Problem:    Cannot test <A HREF="autocmd.html#CursorMovedI">CursorMovedI</A> because there is typeahead.
Solution:   Add disable_char_avail_for_testing().
Files:      src/eval.c, src/getchar.c, src/globals.h,
            src/testdir/test_cursor_func.vim, src/testdir/README.txt

Patch 7.4.1301
Problem:    Missing <A HREF="options.html#options">options</A> in <A HREF="eval.html#ch_open()">ch_open()</A>.
Solution:   Add s:chopt like in the other calls. (Ozaki Kiichi)
Files:      src/testdir/test_channel.vim

Patch 7.4.1302
Problem:    Typo in struct field name. (Ken Takata)
Solution:   Rename jf_pi to jv_pi.
Files:      src/eval.c, src/os_win32.c, src/structs.h

Patch 7.4.1303
Problem:    A <A HREF="eval.html#Funcref">Funcref</A> is not accepted <A HREF="motion.html#as">as</A> a callback.
Solution:   Make a <A HREF="eval.html#Funcref">Funcref</A> work. (Damien)
Files:      src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1304
Problem:    Function names are difficult to read.
Solution:   Rename jsonencode to json_encode, jsondecode to json_decode,
            jsencode to js_encode and jsdecode to js_decode.
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_json.vim

Patch 7.4.1305
Problem:    &quot;\&#37;1l^#.*&quot; does not match on a line starting with &quot;<A HREF="pattern.html##">#</A>&quot;.
Solution:   Do not clear the start-of-line flag. (Christian Brabandt)
Files:      src/regexp.c, src/regexp_nfa.c, src/testdir/test36.in,
            src/testdir/test36.ok

Patch 7.4.1306
Problem:    <A HREF="eval.html#Job">Job</A> <A HREF="intro.html#control">control</A> doesn't work well on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Various fixes. (Ken Takata, Ozaki Kiichi, Yukihiro Nakadaira,
            Yasuhiro Matsumoto)
Files:      src/Make_mvc.mak, src/eval.c, src/os_unix.c, src/os_win32.c,
            src/proto/os_unix.pro, src/proto/os_win32.pro, src/structs.h

Patch 7.4.1307
Problem:    Some <A HREF="channel.html#channel">channel</A> tests fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Disable the failing tests temporarily.
Files:      src/testdir/test_channel.vim

Patch 7.4.1308 (after 7.4.1307)
Problem:    Typo in test.
Solution:   Change endf to endif.
Files:      src/testdir/test_channel.vim

Patch 7.4.1309
Problem:    When a test fails not all relevant info is listed.
Solution:   Add the <A HREF="message.html#errors">errors</A> to the <A HREF="message.html#messages">messages</A>.
Files:      src/testdir/runtest.vim

Patch 7.4.1310
Problem:    <A HREF="eval.html#Jobs">Jobs</A> don't open a <A HREF="channel.html#channel">channel</A>.
Solution:   Create pipes and add them to the <A HREF="channel.html#channel">channel</A>.  Add <A HREF="eval.html#ch_logfile()">ch_logfile()</A>.
            Only <A HREF="os_unix.html#Unix">Unix</A> for now.
Files:      src/channel.c, src/eval.c, src/os_unix.c, src/structs.h,
            src/gui_w48.c, src/proto/channel.pro, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py, runtime/doc/eval.txt

Patch 7.4.1311 (after 7.4.1310)
Problem:    sock_T is defined too late.
Solution:   Move <A HREF="motion.html#it">it</A> up.
Files:      src/vim.h

Patch 7.4.1312 (after 7.4.1311)
Problem:    sock_T is not defined without the <A HREF="various.html#+channel">+channel</A> feature.
Solution:   Always define <A HREF="motion.html#it">it</A>.
Files:      src/vim.h

Patch 7.4.1313
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Using socket after <A HREF="motion.html#it">it</A> was closed causes an exception.
Solution:   Don't give an error when handling WM_NETBEANS.  Re-enable tests
            for <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/gui_w48.c, src/testdir/test_channel.vim

Patch 7.4.1314
Problem:    Warning for uninitialized variable.
Solution:   Initialize <A HREF="motion.html#it">it</A>. (Dominique Pelle)
Files:      src/channel.c

Patch 7.4.1315
Problem:    Using a <A HREF="channel.html#channel">channel</A> handle does not allow for freeing <A HREF="motion.html#it">it</A> when unused.
Solution:   Add the <A HREF="eval.html#Channel">Channel</A> variable type.
Files:      src/structs.h, src/channel.c, src/misc2.c, src/eval.c,
            src/if_python.c, src/if_python3.c, src/json.c, src/gui_w48.c,
            src/netbeans.c, src/proto/channel.pro, src/os_unix.c,
            src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1316
Problem:    Can't build <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console version. (Tux)
Solution:   Add #ifdefs.
Files:      src/eval.c

Patch 7.4.1317
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="channel.html#channel">channel</A> test fails.
Solution:   Temporarily disable Test_connect_waittime().
Files:      src/testdir/test_channel.vim

Patch 7.4.1318
Problem:    <A HREF="eval.html#Channel">Channel</A> with pipes doesn't work in <A HREF="gui.html#GUI">GUI</A>.
Solution:   Register input handlers for pipes.
Files:      src/structs.h, src/feature.h, src/channel.c, src/eval.c,
            src/os_unix.c, src/os_win32.c, src/gui_w48.c, src/proto/channel.pro

Patch 7.4.1319 (after 7.4.1318)
Problem:    Tests fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> and on <A HREF="os_unix.html#Unix">Unix</A> with <A HREF="gui.html#GUI">GUI</A>.
Solution:   Fix unregistering.
Files:      src/structs.h, src/channel.c, src/os_unix.c, src/os_win32.c,
            src/proto/channel.pro

Patch 7.4.1320
Problem:    Building with Cygwin or MingW with <A HREF="channel.html#channel">channel</A> but without Netbeans
            doesn't work.
Solution:   Set NETBEANS to &quot;no&quot; when not used.
Files:      src/Make_cyg_ming.mak

Patch 7.4.1321
Problem:    Compiler complains about missing statement.
Solution:   Add an empty statement. (Andrei Olsen)
Files:      src/os_win32.c

Patch 7.4.1322
Problem:    Crash when unletting the variable that holds the <A HREF="channel.html#channel">channel</A> in a
            callback function.  (Christian Robinson)
Solution:   Increase the reference <A HREF="intro.html#count">count</A> while invoking the callback.
Files:      src/eval.c, src/channel.c, src/proto/eval.pro,
            src/testdir/test_channel.vim

Patch 7.4.1323
Problem:    Do not get warnings when building with MingW.
Solution:   Remove the <A HREF="starting.html#-w">-w</A> flag. (Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1324
Problem:    <A HREF="eval.html#Channels">Channels</A> with pipes don't work on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add pipe I/O support. (Yasuhiro Matsumoto)
Files:      src/channel.c, src/os_win32.c, src/proto/channel.pro,
            src/structs.h, src/vim.h, src/testdir/test_channel.vim

Patch 7.4.1325
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails on difference between <A HREF="os_unix.html#Unix">Unix</A> and <A HREF="os_dos.html#DOS">DOS</A> line endings.
Solution:   Strip off CR.  Make assert show difference better.
Files:      src/eval.c, src/channel.c

Patch 7.4.1326
Problem:    Build rules are bit too complicated.
Solution:   Remove -lwsock32 from Netbeans, it's already added for the <A HREF="channel.html#channel">channel</A>
            feature that <A HREF="motion.html#it">it</A> depends on. (Tony Mechelynck)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1327
Problem:    <A HREF="eval.html#Channel">Channel</A> test doesn't work if <A HREF="if_pyth.html#Python">Python</A> executable is python.exe.
Solution:   Find py.exe or python.exe. (Ken Takata)
Files:      src/testdir/test_channel.vim

Patch 7.4.1328
Problem:    Can't compile with <A HREF="various.html#+job">+job</A> but without <A HREF="various.html#+channel">+channel</A>. (John Marriott)
Solution:   Add more #ifdefs.
Files:      src/os_unix.c

Patch 7.4.1329
Problem:    Crash when using <A HREF="channel.html#channel">channel</A> that failed to open.
Solution:   Check for NULL.  Update <A HREF="message.html#messages">messages</A>. (Yukihiro Nakadaira)
Files:      src/channel.c, src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1330
Problem:    fd_read() has an unused argument.
Solution:   Remove the timeout. (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 7.4.1331
Problem:    Crash when closing the <A HREF="channel.html#channel">channel</A> in a callback. (Christian <A HREF="change.html#J">J</A>.
            Robinson)
Solution:   Take the callback out of the <A HREF="eval.html#list">list</A> before invoking <A HREF="motion.html#it">it</A>.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1332
Problem:    Problem using Python3 when compiled with MingW.
Solution:   Define PYTHON3_HOME <A HREF="motion.html#as">as</A> a wide character <A HREF="eval.html#string">string</A>. (Yasuhiro
            Matsumoto)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1333
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails on non-darwin builds.
Solution:   Add the &quot;osx&quot; feature and test for that. (Kazunobu Kuriyama)
Files:      runtime/doc/eval.txt, src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1334
Problem:    Many compiler warnings with MingW.
Solution:   Add type casts. (Yasuhiro Matsumoto)
Files:      src/channel.c, src/dosinst.h, src/eval.c, src/ex_cmds2.c,
            src/ex_getln.c, src/fileio.c, src/if_cscope.c, src/if_perl.xs,
            src/if_python.c, src/if_python3.c, src/if_ruby.c, src/main.c,
            src/mbyte.c, src/misc1.c, src/option.c, src/os_mswin.c,
            src/os_win32.c

Patch 7.4.1335
Problem:    Can't build on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with <A HREF="various.html#+job">+job</A> but without <A HREF="various.html#+channel">+channel</A>. (Cesar
            Romani)
Solution:   Add #ifdefs. (Yasuhiro Matsumoto)
Files:      src/os_win32.c

Patch 7.4.1336
Problem:    <A HREF="eval.html#Channel">Channel</A> NL mode is not supported yet.
Solution:   Add NL mode support to channels.
Files:      src/channel.c, src/netbeans.c, src/structs.h, src/os_unix.d,
            src/os_win32.c, src/proto/channel.pro, src/proto/os_unix.pro,
            src/proto/os_win32.pro, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py

Patch 7.4.1337 (after 7.4.1336)
Problem:    Part of the change is missing.
Solution:   Add changes to eval.c
Files:      src/eval.c


Patch 7.4.1338 (after 7.4.1336)
Problem:    Another part of the change is missing.
Solution:   Type os_unix.c right this time.
Files:      src/os_unix.c

Patch 7.4.1339
Problem:    Warnings when building the <A HREF="gui.html#GUI">GUI</A> with MingW. (Cesar Romani)
Solution:   Add type casts. (Yasuhiro Matsumoto)
Files:      src/edit.c, src/gui_w32.c, src/gui_w48.c, src/os_mswin.c,
            src/os_win32.c

Patch 7.4.1340 (after 7.4.1339)
Problem:    Merge left extra #endif behind.
Solution:   Remove the #endif
Files:      src/os_win32.c

Patch 7.4.1341
Problem:    It's difficult to add more arguments to <A HREF="eval.html#ch_sendraw()">ch_sendraw()</A> and
            <A HREF="eval.html#ch_sendexpr()">ch_sendexpr()</A>.
Solution:   Make the third option a dictionary.
Files:      src/eval.c, src/structs.h, src/channel.c, src/os_unix.c,
            src/os_win32.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1342
Problem:    On <A HREF="os_mac.html#Mac">Mac</A> OS/X the <A HREF="channel.html#waittime">waittime</A> must be <A HREF="change.html#&gt;">&gt;</A> 0 for connect to work.
Solution:   Use select() in a different way. (partly by Kazunobu Kuriyama)
            Always use a <A HREF="channel.html#waittime">waittime</A> of 1 or more.
Files:      src/eval.c, src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1343
Problem:    Can't compile with <A HREF="various.html#+job">+job</A> but without <A HREF="various.html#+channel">+channel</A>. (Andrei Olsen)
Solution:   Move get_job_options up and adjust #ifdef.
Files:      src/eval.c

Patch 7.4.1344
Problem:    Can't compile <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A> with tiny features.
Solution:   Add #ifdef. (Christian Brabandt)
Files:      src/gui_w32.c

Patch 7.4.1345
Problem:    A few more compiler warnings. (Axel Bender)
Solution:   Add type casts.
Files:      src/gui_w32.c, src/gui_w48.c

Patch 7.4.1346
Problem:    Compiler warnings in build with -O2.
Solution:   Add initializations.
Files:      src/eval.c

Patch 7.4.1347
Problem:    When there is any error Vim will use a non-zero exit code.
Solution:   When using &quot;<A HREF="various.html#:silent!">:silent!</A>&quot; <A HREF="diff.html#do">do</A> not set the exit code. (Yasuhiro
            Matsumoto)
Files:      src/message.c

Patch 7.4.1348
Problem:    More compiler warnings. (John Marriott)
Solution:   Add type casts, remove unused variable.
Files:      src/gui_w32.c

Patch 7.4.1349
Problem:    And some more MingW compiler warnings. (Cesar Romani)
Solution:   Add type casts.
Files:      src/if_mzsch.c

Patch 7.4.1350
Problem:    When the test server fails to start Vim hangs.
Solution:   Check that there is actually something to read from the tty fd.
Files:      src/os_unix.c

Patch 7.4.1351
Problem:    When the port isn't opened yet when <A HREF="eval.html#ch_open()">ch_open()</A> is called <A HREF="motion.html#it">it</A> may
            fail instead of waiting for the specified time.
Solution:   Loop when select() succeeds but when connect() failed. Also use
            <A HREF="channel.html#channel">channel</A> logging for jobs.  Add <A HREF="eval.html#ch_log()">ch_log()</A>.
Files:      src/channel.c, src/eval.c, src/netbeans.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 7.4.1352
Problem:    The test <A HREF="usr_41.html#script">script</A> lists all <A HREF="eval.html#functions">functions</A> before executing them.
Solution:   Only <A HREF="eval.html#list">list</A> the function currently being executed.
Files:      src/testdir/runtest.vim

Patch 7.4.1353
Problem:    Test_connect_waittime is skipped for <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add the test back, <A HREF="motion.html#it">it</A> works now.
Files:      src/testdir/test_channel.vim

Patch 7.4.1354
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Mismatch between default compile <A HREF="options.html#options">options</A> and what the
            code expects.
Solution:   Change the default WINVER from 0x0500 to 0x0501. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.1355
Problem:    <A HREF="os_win32.html#Win32">Win32</A> console and <A HREF="gui.html#GUI">GUI</A> handle channels differently.
Solution:   Consolidate code between <A HREF="os_win32.html#Win32">Win32</A> console and <A HREF="gui.html#GUI">GUI</A>.
Files:      src/channel.c, src/eval.c, src/gui_w48.c, src/os_win32.c,
            src/proto/channel.pro

Patch 7.4.1356
Problem:    <A HREF="eval.html#Job">Job</A> and <A HREF="channel.html#channel">channel</A> <A HREF="options.html#options">options</A> parsing is scattered.
Solution:   Move all option value parsing to get_job_options();
Files:      src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1357 (after 7.4.1356)
Problem:    Error for returning value from void function.
Solution:   Don't <A HREF="diff.html#do">do</A> that.
Files:      src/eval.c

Patch 7.4.1358
Problem:    Compiler warning when not building with +crypt.
Solution:   Add #ifdef. (John Marriott)
Files:      src/undo.c

Patch 7.4.1359 (after 7.4.1356)
Problem:    <A HREF="eval.html#Channel">Channel</A> test <A HREF="eval.html#ch_sendexpr()">ch_sendexpr()</A> times out.
Solution:   Increase the timeout
Files:      src/testdir/test_channel.vim

Patch 7.4.1360
Problem:    Can't remove a callback with <A HREF="eval.html#ch_setoptions()">ch_setoptions()</A>.
Solution:   When passing zero or an empty <A HREF="eval.html#string">string</A> remove the callback.
Files:      src/channel.c, src/proto/channel.pro, src/testdir/test_channel.vim

Patch 7.4.1361
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails on Solaris.
Solution:   Use the 1 msec <A HREF="channel.html#waittime">waittime</A> for all systems.
Files:      src/channel.c

Patch 7.4.1362 (after 7.4.1356)
Problem:    Using uninitialized value.
Solution:   Initialize jo_set.
Files:      src/eval.c

Patch 7.4.1363
Problem:    Compiler warnings with tiny build.
Solution:   Add #ifdefs.
Files:      src/gui_w48.c, src/gui_w32.c

Patch 7.4.1364
Problem:    The Win 16 code is not maintained and unused.
Solution:   Remove the Win 16 support.
Files:      src/gui_w16.c, src/gui_w32.c, src/gui_w48.c, src/Make_w16.mak,
            src/Makefile, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/proto/gui_w16.pro, src/proto/os_win16.pro, src/guiw16rc.h,
            src/vim16.rc, src/vim16.def, src/tools16.bmp, src/eval.c,
            src/gui.c, src/misc2.c, src/option.c, src/os_msdos.c,
            src/os_mswin.c, src/os_win16.c, src/os_win16.h, src/version.c,
            src/winclip.c, src/feature.h, src/proto.h, src/vim.h, Filelist

Patch 7.4.1365
Problem:    Cannot execute a single test function.
Solution:   Add an argument to <A HREF="change.html#filter">filter</A> the <A HREF="eval.html#functions">functions</A> with. (Yasuhiro Matsumoto)
Files:      src/testdir/runtest.vim

Patch 7.4.1366
Problem:    Typo in test and resulting error in test result.
Solution:   Fix the typo and correct the result. (James McCoy, closes #650)
Files:      src/testdir/test_charsearch.in, src/testdir/test_charsearch.ok

Patch 7.4.1367
Problem:    Compiler warning for unreachable code.
Solution:   Remove a &quot;break&quot;. (Danek Duvall)
Files:      src/json.c

Patch 7.4.1368
Problem:    One more Win16 file remains.
Solution:   Delete <A HREF="motion.html#it">it</A>.
Files:      src/proto/os_win16.pro

Patch 7.4.1369
Problem:    <A HREF="eval.html#Channels">Channels</A> don't have a queue for stderr.
Solution:   Have a queue for each part of the <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c, src/eval.c, src/structs.h, src/netbeans.c,
            src/gui_w32.c, src/proto/channel.pro

Patch 7.4.1370
Problem:    The <A HREF="if_pyth.html#Python">Python</A> test <A HREF="usr_41.html#script">script</A> may keep on running.
Solution:   Join the threads. (Yasuhiro Matsumoto)
Files:      src/testdir/test_channel.py

Patch 7.4.1371
Problem:    <A HREF="options.html#X11">X11</A> <A HREF="gui.html#GUI">GUI</A> callbacks don't specify the part of the <A HREF="channel.html#channel">channel</A>.
Solution:   Pass the fd instead of the <A HREF="channel.html#channel">channel</A> ID.
Files:      src/channel.c

Patch 7.4.1372
Problem:    <A HREF="channel.html#channel">channel</A> read implementation is incomplete.
Solution:   Add <A HREF="eval.html#ch_read()">ch_read()</A> and <A HREF="options.html#options">options</A> for <A HREF="eval.html#ch_readraw()">ch_readraw()</A>.
Files:      src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1373
Problem:    Calling a Vim function over a <A HREF="channel.html#channel">channel</A> requires turning the
            arguments into a <A HREF="eval.html#string">string</A>.
Solution:   Add the &quot;call&quot; command. (Damien)  Also <A HREF="diff.html#merge">merge</A> &quot;<A HREF="eval.html#expr">expr</A>&quot; and &quot;<A HREF="eval.html#eval">eval</A>&quot;
            into one.
Files:      src/channel.c, src/testdir/test_channel.py,
            src/testdir/test_channel.vim

Patch 7.4.1374
Problem:    <A HREF="eval.html#Channel">Channel</A> test hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Disable the <A HREF="eval.html#ch_read()">ch_read()</A> that is supposed to time out.
Files:      src/testdir/test_channel.vim

Patch 7.4.1375
Problem:    Still some Win16 code.
Solution:   Remove FEAT_GUI_W16.(Hirohito Higashi)
Files:      src/eval.c, src/ex_cmds.h, src/feature.h, src/gui.h, src/menu.c,
            src/misc1.c, src/option.c, src/proto.h, src/structs.h, src/term.c,
            src/vim.h, runtime/doc/gui_w16.txt

Patch 7.4.1376
Problem:    <A HREF="eval.html#ch_setoptions()">ch_setoptions()</A> cannot set all <A HREF="options.html#options">options</A>.
Solution:   Support more <A HREF="options.html#options">options</A>.
Files:      src/channel.c, src/eval.c, src/structs.h, runtime/doc/channel.txt,
            src/testdir/test_channel.vim

Patch 7.4.1377
Problem:    Test_connect_waittime() is flaky.
Solution:   Ignore the &quot;Connection reset by peer&quot; error.
Files:      src/testdir/test_channel.vim

Patch 7.4.1378
Problem:    Can't change <A HREF="channel.html#job">job</A> settings after <A HREF="motion.html#it">it</A> started.
Solution:   Add <A HREF="eval.html#job_setoptions()">job_setoptions()</A> with the &quot;stoponexit&quot; flag.
Files:      src/eval.c, src/main.c, src/structs.h, src/proto/eval.pro,
            src/testdir/test_channel.vim

Patch 7.4.1379
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails on <A HREF="os_win32.html#Win32">Win32</A> console.
Solution:   Don't sleep when timeout is zero. Call channel_wait() before
            channel_read(). <A HREF="eval.html#Channels">Channels</A> are not polled during &quot;<A HREF="various.html#:sleep">:sleep</A>&quot;. (Yukihiro
            Nakadaira)
Files:      src/channel.c, src/misc2.c, src/gui_w32.c, src/os_win32.c

Patch 7.4.1380
Problem:    The <A HREF="channel.html#job">job</A> exit callback is not implemented.
Solution:   Add the &quot;exit-cb&quot; option.
Files:      src/structs.h, src/eval.c, src/channel.c, src/proto/eval.pro,
            src/misc2.c, src/macros.h, src/testdir/test_channel.vim

Patch 7.4.1381 (after 7.4.1380)
Problem:    Exit value not available on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set the exit value.
Files:      src/structs.h, src/os_win32.c

Patch 7.4.1382
Problem:    Can't get the <A HREF="channel.html#job">job</A> of a <A HREF="channel.html#channel">channel</A>.
Solution:   Add <A HREF="eval.html#ch_getjob()">ch_getjob()</A>.
Files:      src/eval.c, runtime/doc/channel.txt, runtime/doc/eval.txt

Patch 7.4.1383
Problem:    GvimExt only loads the old libintl.dll.
Solution:   Also try loading libint-8.dll. (Ken Takata, closes #608)
Files:      src/GvimExt/gvimext.cpp, src/GvimExt/gvimext.h

Patch 7.4.1384
Problem:    It is not <A HREF="starting.html#easy">easy</A> to use a set of plugins and their dependencies.
Solution:   Add <A HREF="repeat.html#packages">packages</A>, &quot;:loadplugin&quot;, <A HREF="options.html#'packpath'">'packpath'</A>.
Files:      src/main.c, src/ex_cmds2.c, src/option.c, src/option.h,
            src/ex_cmds.h, src/eval.c, src/version.c, src/proto/ex_cmds2.pro,
            runtime/doc/repeat.txt, runtime/doc/options.txt,
            runtime/optwin.vim

Patch 7.4.1385
Problem:    Compiler warning for using array.
Solution:   Use the right member name. (Yegappan Lakshmanan)
Files:      src/eval.c

Patch 7.4.1386
Problem:    When the <A HREF="eval.html#Job">Job</A> exit callback is invoked, the <A HREF="channel.html#job">job</A> may be freed too
            soon. (Yasuhiro Matsumoto)
Solution:   Increase refcount.
Files:      src/eval.c

Patch 7.4.1387
Problem:    Win16 docs still referenced.
Solution:   Remove Win16 files from the docs Makefile. (Kenichi Ito)
Files:      runtime/doc/Makefile

Patch 7.4.1388
Problem:    Compiler warning. (Cesar Romani)
Solution:   Initialize variable.
Files:      src/ex_cmds2.c

Patch 7.4.1389
Problem:    Incomplete function declaration.
Solution:   Add &quot;void&quot;. (Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1390
Problem:    When building with <A HREF="gui_x11.html#GTK">GTK</A> and glib-compile-resources cannot be found
            building Vim fails. (Michael Gehring)
Solution:   Make GLIB_COMPILE_RESOURCES empty instead of leaving <A HREF="motion.html#it">it</A> at &quot;no&quot;.
            (nuko8, closes #655)
Files:      src/configure.in, src/auto/configure

Patch 7.4.1391
Problem:    Warning for uninitialized variable.
Solution:   Set <A HREF="motion.html#it">it</A> to zero. (Christian Brabandt)
Files:      src/eval.c

Patch 7.4.1392
Problem:    Some tests fail for <A HREF="os_win32.html#Win32">Win32</A> console version.
Solution:   Move the tests to SCRIPTS_MORE2.  Pass VIMRUNTIME. (Christian
            Brabandt)
Files:      src/testdir/Make_all.mak

Patch 7.4.1393
Problem:    Starting a <A HREF="channel.html#job">job</A> hangs in the <A HREF="gui.html#GUI">GUI</A>. (Takuya Fujiwara)
Solution:   Don't check if ch_job is NULL when checking for an error.
            (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 7.4.1394
Problem:    Can't sort inside a sort function.
Solution:   Use a struct to store the sort parameters. (Jacob Niehus)
Files:      src/eval.c, src/testdir/test_sort.vim

Patch 7.4.1395
Problem:    Using DETACH in <A HREF="quotes.html#quotes">quotes</A> is not compatible with the Netbeans
            interface. (Xavier de Gaye)
Solution:   Remove the <A HREF="quotes.html#quotes">quotes</A>, only use them for JSON and JS mode.
Files:      src/netbeans.c, src/channel.c

Patch 7.4.1396
Problem:    Compiler warnings for conversions.
Solution:   Add type cast.
Files:      src/ex_cmds2.c

Patch 7.4.1397
Problem:    Sort test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Correct the compare function.
Files:      src/testdir/test_sort.vim

Patch 7.4.1398
Problem:    The close-cb option is not implemented yet.
Solution:   Implement close-cb. (Yasuhiro Matsumoto)
Files:      src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,
            src/testdir/test_channel.py, src/testdir/test_channel.vim

Patch 7.4.1399
Problem:    The <A HREF="os_msdos.html#MS-DOS">MS-DOS</A> code does not build.
Solution:   Remove the old <A HREF="os_msdos.html#MS-DOS">MS-DOS</A> code.
Files:      Filelist, src/Make_bc3.mak, src/Make_bc5.mak, src/Make_djg.mak,
            src/Makefile, src/blowfish.c, src/buffer.c, src/diff.c,
            src/digraph.c, src/dosinst.h, src/eval.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/feature.h,
            src/fileio.c, src/getchar.c, src/globals.h, src/macros.h,
            src/main.c, src/mbyte.c, src/memfile.c, src/memline.c,
            src/misc1.c, src/misc2.c, src/netbeans.c, src/option.c,
            src/option.h, src/os_msdos.c, src/os_msdos.h, src/proto.h,
            src/proto/os_msdos.pro, src/regexp.c, src/screen.c, src/structs.h,
            src/syntax.c, src/term.c, src/undo.c, src/uninstal.c,
            src/version.c, src/vim.h, src/window.c, src/xxd/Make_bc3.mak,
            src/xxd/Make_djg.mak


Patch 7.4.1400
Problem:    <A HREF="if_perl.html#Perl">Perl</A> <A HREF="eval.html#eval">eval</A> doesn't work properly on 64-bit big-endian machine.
Solution:   Use 32 bit type for the key. (Danek Duvall)
Files:      src/if_perl.xs

Patch 7.4.1401
Problem:    Having <A HREF="options.html#'autochdir'">'autochdir'</A> set during <A HREF="starting.html#startup">startup</A> and using <A HREF="diff.html#diff">diff</A> mode doesn't
            work. (Axel Bender)
Solution:   Don't use <A HREF="options.html#'autochdir'">'autochdir'</A> while still starting up. (Christian
            Brabandt)
Files:      src/buffer.c

Patch 7.4.1402
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> 3 is not supported.
Solution:   Add <A HREF="gui_x11.html#GTK">GTK</A> 3 support. (Kazunobu Kuriyama)
Files:      runtime/doc/eval.txt, runtime/doc/gui.txt,
            runtime/doc/gui_x11.txt, src/auto/configure, src/channel.c,
            src/config.h.in, src/configure.in, src/eval.c, src/gui.h,
            src/gui_beval.c, src/gui_beval.h, src/gui_gtk.c, src/gui_gtk_f.c,
            src/gui_gtk_f.h, src/gui_gtk_x11.c, src/if_mzsch.c, src/mbyte.c,
            src/netbeans.c, src/structs.h, src/version.c

Patch 7.4.1403
Problem:    Can't build without the <A HREF="quickfix.html#quickfix">quickfix</A> feature.
Solution:   Add #ifdefs. Call ex_ni() for unimplemented commands. (Yegappan
            Lakshmanan)
Files:      src/ex_cmds2.c, src/popupmnu.c

Patch 7.4.1404
Problem:    <A HREF="eval.html#ch_read()">ch_read()</A> doesn't time out on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Instead of WM_NETBEANS use select(). (Yukihiro Nakadaira)
Files:      src/channel.c, src/gui_w32.c, src/os_win32.c, src/structs.h,
            src/testdir/test_channel.vim, src/vim.h

Patch 7.4.1405
Problem:    Completion menu flickers.
Solution:   Delay showing the popup menu. (Shougo Matsu, Justin <A HREF="motion.html#M">M</A>. Keyes,
	    closes #656)
Files:      src/edit.c

Patch 7.4.1406
Problem:    Leaking memory in cs_print_tags_priv().
Solution:   Free tbuf. (idea by Forrest Fleming)
Files:      src/if_cscope.c

Patch 7.4.1407
Problem:    <A HREF="eval.html#json_encode()">json_encode()</A> does not handle NaN and inf properly. (David
            Barnett)
Solution:   For JSON turn them into &quot;null&quot;.  For JS use &quot;NaN&quot; and &quot;Infinity&quot;.
            Add <A HREF="eval.html#isnan()">isnan()</A>.
Files:      src/eval.c, src/json.c, src/testdir/test_json.vim

Patch 7.4.1408
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> doesn't have <A HREF="eval.html#isnan()">isnan()</A> and isinf().
Solution:   Use _isnan() and _isinf().
Files:      src/eval.c, src/json.c

Patch 7.4.1409 (after 7.4.1402)
Problem:    Configure includes <A HREF="gui.html#GUI">GUI</A> despite --disable-gui flag.
Solution:   Add SKIP_GTK3. (Kazunobu Kuriyama)
Files:      src/configure.in, src/auto/configure

Patch 7.4.1410
Problem:    Leaking memory in <A HREF="if_cscop.html#cscope">cscope</A> interface.
Solution:   Free memory when no <A HREF="intro.html#tab">tab</A> is found. (Christian Brabandt)
Files:      src/if_cscope.c

Patch 7.4.1411
Problem:    Compiler warning for indent. (Ajit Thakkar)
Solution:   Indent normally.
Files:      src/ui.c

Patch 7.4.1412
Problem:    Compiler warning for indent. (Dominique Pelle)
Solution:   Fix the indent.
Files:      src/farsi.c

Patch 7.4.1413
Problem:    When calling <A HREF="eval.html#ch_close()">ch_close()</A> the close callback is invoked, even though
            the docs say <A HREF="motion.html#it">it</A> isn't. (Christian <A HREF="change.html#J">J</A>. Robinson)
Solution:   Don't call the close callback.
Files:      src/eval.c, src/channel.c, src/netbeans.c, src/proto/channel.pro

Patch 7.4.1414
Problem:    Appveyor only builds one feature set.
Solution:   Build a combination of features and GUI/console. (Christian
            Brabandt)
Files:      appveyor.yml, src/appveyor.bat

Patch 7.4.1415 (after 7.4.1414)
Problem:    Dropped the skip-tags setting.
Solution:   Put <A HREF="motion.html#it">it</A> back.
Files:      appveyor.yml

Patch 7.4.1416
Problem:    Using &quot;u_char&quot; instead of &quot;char_u&quot;, which doesn't work everywhere.
            (Jrg Plate)
Solution:   Use &quot;char_u&quot; always.
Files:      src/integration.c, src/macros.h

Patch 7.4.1417 (after 7.4.1414)
Problem:    Missing appveyor.bat from the <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add <A HREF="motion.html#it">it</A> to the <A HREF="eval.html#list">list</A> of files.
Files:      Filelist

Patch 7.4.1418
Problem:    <A HREF="eval.html#job_stop()">job_stop()</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> does not really stop the <A HREF="channel.html#job">job</A>.
Solution:   Make the default to stop the <A HREF="channel.html#job">job</A> forcefully. (Ken Takata)
            Make <A HREF="os_win32.html#MS-Windows">MS-Windows</A> and <A HREF="os_unix.html#Unix">Unix</A> more similar.
Files:      src/os_win32.c, src/os_unix.c, runtime/doc/eval.txt

Patch 7.4.1419
Problem:    Tests slowed down because of the &quot;not a terminal&quot; warning.
Solution:   Add the <A HREF="starting.html#--not-a-term">--not-a-term</A> command line argument.
Files:      src/main.c, src/testdir/Makefile, src/Make_all.mak,
            src/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,
            runtime/doc/starting.txt

Patch 7.4.1420 (after 7.4.1419)
Problem:    Missing makefile.
Solution:   Type the path correctly.
Files:      src/testdir/Make_all.mak

Patch 7.4.1421
Problem:    May free a <A HREF="channel.html#channel">channel</A> when a callback may need to be invoked.
Solution:   Keep the <A HREF="channel.html#channel">channel</A> when refcount is zero.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1422
Problem:    Error when reading fails uses wrong errno.  Keeping <A HREF="channel.html#channel">channel</A> open
            after <A HREF="channel.html#job">job</A> stops results in test failing.
Solution:   Move the error up.  Add ch_job_killed.
Files:      src/channel.c, src/eval.c, src/structs.h

Patch 7.4.1423
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do not give an error message when reading fails, assume the other
            end exited.
Files:      src/channel.c

Patch 7.4.1424
Problem:    Not using <A HREF="starting.html#--not-a-term">--not-a-term</A> when running tests on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use NO_PLUGIN. (Christian Brabandt)
Files:      src/testdir/Make_dos.mak

Patch 7.4.1425
Problem:    There are still references to <A HREF="os_msdos.html#MS-DOS">MS-DOS</A> support.
Solution:   Remove most of the help txt and <A HREF="usr_90.html#install">install</A> instructions. (Ken Takata)
Files:      src/INSTALLpc.txt, runtime/doc/os_msdos.txt, csdpmi4b.zip,
            Filelist

Patch 7.4.1426
Problem:    The &quot;out-io&quot; option for jobs is not implemented yet.
Solution:   Implement the &quot;buffer&quot; value: append <A HREF="channel.html#job">job</A> output to a buffer.
Files:      src/eval.c, src/channel.c, src/structs.h, src/netbeans.c,
            runtime/doc/channel.txt

Patch 7.4.1427
Problem:    Trailing comma in enums is not ANSI C.
Solution:   Remove the trailing commas.
Files:      src/alloc.h, src/gui_mac.c

Patch 7.4.1428
Problem:    Compiler warning for non-virtual destructor.
Solution:   Make <A HREF="motion.html#it">it</A> virtual. (Yasuhiro Matsumoto)
Files:      src/gui_dwrite.cpp

Patch 7.4.1429
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A>, when not use renderoptions=type:directx, drawing
            emoji will be broken.
Solution:   Fix usage of unicodepdy. (Yasuhiro Matsumoto)
Files:      src/gui_w32.c

Patch 7.4.1430
Problem:    When encoding JSON, turning NaN and Infinity into null without
            giving an error is not useful.
Solution:   Pass NaN and Infinity on.  If the receiver can't handle them <A HREF="motion.html#it">it</A>
            will generate the error.
Files:      src/json.c, src/testdir/test_json.vim, runtime/doc/eval.txt

Patch 7.4.1431
Problem:    Including header files <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Remove the extra includes.
Files:      src/if_cscope.h

Patch 7.4.1432
Problem:    Typo in button text.
Solution:   Fix the typo. (Dominique Pelle)
Files:      src/gui_gtk.c

Patch 7.4.1433
Problem:    The Sniff interface is no longer useful, the tool has not been
            available for may years.
Solution:   Delete the Sniff interface and related code.
Files:      src/if_sniff.c, src/if_sniff.h, src/charset.c, src/edit.c,
            src/eval.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c,
            src/gui_gtk_x11.c, src/gui_w32.c, src/gui_x11.c, src/normal.c,
            src/os_unix.c, src/os_win32.c, src/term.c, src/ui.c,
            src/version.c, src/ex_cmds.h, src/feature.h, src/keymap.h,
            src/structs.h, src/vim.h, src/Make_mvc.mak, src/Make_vms.mms,
            src/Makefile, src/configure.in, src/auto/configure,
            src/config.h.in, src/config.mk.in, runtime/doc/if_sniff.txt,
            src/config.aap.in, src/main.aap

Patch 7.4.1434
Problem:    JSON encoding doesn't handle surrogate pair.
Solution:   Improve <A HREF="mbyte.html#multi-byte">multi-byte</A> handling of JSON. (Yasuhiro Matsumoto)
Files:      src/json.c, src/testdir/test_json.vim

Patch 7.4.1435
Problem:    It is confusing that <A HREF="eval.html#ch_sendexpr()">ch_sendexpr()</A> and <A HREF="eval.html#ch_sendraw()">ch_sendraw()</A> wait for a
            response.
Solution:   Add <A HREF="eval.html#ch_evalexpr()">ch_evalexpr()</A> and <A HREF="eval.html#ch_evalraw()">ch_evalraw()</A>.
Files:      src/eval.c, runtime/doc/channel.txt, runtime/doc/eval.txt,
            src/testdir/test_channel.vim

Patch 7.4.1436 (after 7.4.1433)
Problem:    Sniff files still referenced in <A HREF="intro.html#distribution">distribution</A>.
Solution:   Remove sniff files from <A HREF="intro.html#distribution">distribution</A>.
Files:      Filelist

Patch 7.4.1437
Problem:    Old system doesn't have isinf() and NAN. (Ben Fritz)
Solution:   Adjust #ifdefs.  Detect <A HREF="eval.html#isnan()">isnan()</A> and isinf() <A HREF="eval.html#functions">functions</A> with
            configure. Use a replacement when missing. (Kazunobu Kuriyama)
Files:      src/eval.c, src/json.c, src/macros.h, src/message.c,
            src/config.h.in, src/configure.in, src/auto/configure

Patch 7.4.1438
Problem:    Can't get buffer number of a <A HREF="channel.html#channel">channel</A>.
Solution:   Add <A HREF="eval.html#ch_getbufnr()">ch_getbufnr()</A>.
Files:      src/eval.c, src/channel.c, src/testdir/test_channel.vim,
            runtime/doc/channel.txt, runtime/doc/eval.txt

Patch 7.4.1439 (after 7.4.1434)
Problem:    Using uninitialized variable.
Solution:   Initialize vc_type.
Files:      src/json.c

Patch 7.4.1440 (after 7.4.1437)
Problem:    Can't build on Windows.
Solution:   Change #ifdefs.  Only define isnan when used.
Files:      src/macros.h, src/eval.c, src/json.c

Patch 7.4.1441
Problem:    Using empty name instead of no name for <A HREF="channel.html#channel">channel</A> buffer.
Solution:   Remove the empty name.
Files:      src/channel.c

Patch 7.4.1442
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: more compilation warnings for destructor.
Solution:   Add &quot;virtual&quot;. (Ken Takata)
Files:      src/if_ole.cpp

Patch 7.4.1443
Problem:    Can't build <A HREF="gui_x11.html#GTK3">GTK3</A> with small features.
Solution:   Use gtk_widget_get_window().  Fix typos. (Dominique Pelle)
Files:      src/gui_gtk_x11.c

Patch 7.4.1444
Problem:    Can't build with JSON but without <A HREF="mbyte.html#multi-byte">multi-byte</A>.
Solution:   Fix pointer name.
Files:      src/json.c

Patch 7.4.1445
Problem:    Memory corruption when <A HREF="options.html#'encoding'">'encoding'</A> is not <A HREF="mbyte.html#utf-8">utf-8</A>.
Solution:   Convert decoded <A HREF="eval.html#string">string</A> later.
Files:      src/json.c

Patch 7.4.1446
Problem:    Crash when using <A HREF="eval.html#json_decode()">json_decode()</A>.
Solution:   Terminate <A HREF="eval.html#string">string</A> with a NUL byte.
Files:      src/json.c

Patch 7.4.1447
Problem:    Memory leak when using <A HREF="eval.html#ch_read()">ch_read()</A>. (Dominique Pelle)
            No log message when stopping a <A HREF="channel.html#job">job</A> and a few other situations.
            Too many &quot;Nothing to read&quot; <A HREF="message.html#messages">messages</A>.  <A HREF="eval.html#Channels">Channels</A> are not freed.
Solution:   Free the listtv.  Add more log <A HREF="message.html#messages">messages</A>. Remove &quot;Nothing to read&quot;
            message.  Remove the <A HREF="channel.html#channel">channel</A> from the <A HREF="channel.html#job">job</A> when its refcount
            becomes zero.
Files:      src/eval.c, src/channel.c

Patch 7.4.1448
Problem:    JSON tests fail if <A HREF="options.html#'encoding'">'encoding'</A> is not <A HREF="mbyte.html#utf-8">utf-8</A>.
Solution:   Force encoding to <A HREF="mbyte.html#utf-8">utf-8</A>.
Files:      src/testdir/test_json.vim

Patch 7.4.1449
Problem:    Build fails with <A HREF="channel.html#job">job</A> feature but without <A HREF="channel.html#channel">channel</A> feature.
Solution:   Add #ifdef.
Files:      src/eval.c

Patch 7.4.1450
Problem:    Json encoding still fails when encoding is not <A HREF="mbyte.html#utf-8">utf-8</A>.
Solution:   Set <A HREF="options.html#'encoding'">'encoding'</A> before <A HREF="repeat.html#:scriptencoding">:scriptencoding</A>.  Run the json test
            separately to avoid affecting other tests.
Files:      src/testdir/test_json.vim, src/testdir/Make_all.mak,
            src/testdir/test_alot.vim

Patch 7.4.1451
Problem:    Vim hangs when a <A HREF="channel.html#channel">channel</A> has a callback but isn't referenced.
Solution:   Have channel_unref() only return <A HREF="eval.html#TRUE">TRUE</A> when the <A HREF="channel.html#channel">channel</A> was
            actually freed.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1452
Problem:    When a callback adds a <A HREF="syntax.html#syntax">syntax</A> item either the redraw doesn't
            happen right away or in the <A HREF="gui.html#GUI">GUI</A> the cursor is in the wrong
            position for a moment. (Jakson Alves de Aquino)
Solution:   Redraw after the callback was invoked.
Files:      src/channel.c

Patch 7.4.1453
Problem:    Missing <A HREF="starting.html#--not-a-term">--not-a-term</A>.
Solution:   Add the argument.
Files:      src/testdir/Make_amiga.mak

Patch 7.4.1454
Problem:    The exit callback test is flaky.
Solution:   Loop to wait for a short time up to a second.
Files:      src/testdir/test_channel.vim

Patch 7.4.1455
Problem:    JSON decoding test for surrogate pairs is in the wrong place.
Solution:   Move the test lines. (Ken Takata)
Files:      src/testdir/test_json.vim

Patch 7.4.1456
Problem:    Test 87 fails with <A HREF="if_pyth.html#Python">Python</A> 3.5.
Solution:   Work around difference. (Taro Muraoka)
Files:      src/testdir/test87.in

Patch 7.4.1457
Problem:    Opening a <A HREF="channel.html#channel">channel</A> with select() is not done properly.
Solution:   Also used read-fds. Use getsockopt() to check for <A HREF="message.html#errors">errors</A>. (Ozaki
            Kiichi)
Files:      src/channel.c

Patch 7.4.1458
Problem:    When a JSON <A HREF="channel.html#channel">channel</A> has a callback <A HREF="motion.html#it">it</A> may never be cleared.
Solution:   Do not write &quot;DETACH&quot; into a JS or JSON <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c

Patch 7.4.1459 (after 7.4.1457)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> doesn't know socklen_t.
Solution:   Use previous method for WIN32.
Files:      src/channel.c

Patch 7.4.1460
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> error in rarely used code.
Solution:   Fix the mch_rename() declaration. (Ken Takata)
Files:      src/os_unix.c, src/proto/os_unix.pro

Patch 7.4.1461
Problem:    When starting <A HREF="channel.html#job">job</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> all parts of the command are put
            in <A HREF="quotes.html#quotes">quotes</A>.
Solution:   Only use <A HREF="quotes.html#quotes">quotes</A> when needed. (Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1462
Problem:    Two more rarely used <A HREF="eval.html#functions">functions</A> with <A HREF="message.html#errors">errors</A>.
Solution:   Add proper argument types. (Dominique Pelle)
Files:      src/misc2.c, src/termlib.c

Patch 7.4.1463
Problem:    Configure doesn't find isinf() and <A HREF="eval.html#isnan()">isnan()</A> on some systems.
Solution:   Use a configure check that includes math.h.
Files:      src/configure.in, src/auto/configure

Patch 7.4.1464
Problem:    When the argument of <A HREF="eval.html#sort()">sort()</A> is zero or empty <A HREF="motion.html#it">it</A> fails.
Solution:   Make zero work <A HREF="motion.html#as">as</A> documented. (suggested by Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_sort.vim

Patch 7.4.1465
Problem:    Coverity reported possible use of NULL pointer when using buffer
            output with JSON mode.
Solution:   Make <A HREF="motion.html#it">it</A> actually possible to use JSON mode with a buffer.
            Re-encode the JSON to append <A HREF="motion.html#it">it</A> to the buffer.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1466
Problem:    Coverity reports dead code.
Solution:   Remove the two lines.
Files:      src/channel.c

Patch 7.4.1467
Problem:    Can't build without the float feature.
Solution:   Add #ifdefs. (Nick Owens, closes #667)
Files:      src/eval.c, src/json.c

Patch 7.4.1468
Problem:    Sort test doesn't test with &quot;1&quot; argument.
Solution:   Also test ignore-case <A HREF="change.html#sorting">sorting</A>. (Yasuhiro Matsumoto)
Files:      src/testdir/test_sort.vim

Patch 7.4.1469
Problem:    <A HREF="eval.html#Channel">Channel</A> test sometimes fails, especially on OS/X. (Kazunobu
            Kuriyama)
Solution:   Change the &amp;&amp; into &#124;&#124;, call getsockopt() in more situations.
            (Ozaki Kiichi)
Files:      src/channel.c

Patch 7.4.1470
Problem:    Coverity reports missing restore.
Solution:   Move <A HREF="eval.html#json_encode()">json_encode()</A> call up.
Files:      src/channel.c

Patch 7.4.1471
Problem:    Missing out-of-memory check.  And Coverity warning.
Solution:   Bail out when msg is NULL.
Files:      src/channel.c

Patch 7.4.1472
Problem:    Coverity warning for not using return value.
Solution:   Add &quot;(void)&quot;.
Files:      src/os_unix.c

Patch 7.4.1473
Problem:    Can't build without the <A HREF="autocmd.html#autocommand">autocommand</A> feature.
Solution:   Add #ifdefs. (Yegappan Lakshmanan)
Files:      src/edit.c, src/main.c, src/syntax.c

Patch 7.4.1474
Problem:    Compiler warnings without the float feature.
Solution:   Move #ifdefs. (John Marriott)
Files:      src/eval.c

Patch 7.4.1475
Problem:    When using hangulinput with <A HREF="mbyte.html#utf-8">utf-8</A> a CSI character is
            misinterpreted.
Solution:   Convert CSI to K_CSI. (SungHyun Nam)
Files:      src/ui.c

Patch 7.4.1476
Problem:    Function arguments marked <A HREF="motion.html#as">as</A> unused while they are not.
Solution:   Remove UNUSED. (Yegappan Lakshmanan)
Files:      src/diff.c, src/eval.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/window.c

Patch 7.4.1477
Problem:    Test_reltime is flaky, <A HREF="motion.html#it">it</A> depends on timing.
Solution:   When <A HREF="motion.html#it">it</A> fails run <A HREF="motion.html#it">it</A> a second time.
Files:      src/testdir/runtest.vim

Patch 7.4.1478
Problem:    &quot;:loadplugin&quot; doesn't take care of <A HREF="filetype.html#ftdetect">ftdetect</A> files.
Solution:   Also load <A HREF="filetype.html#ftdetect">ftdetect</A> scripts when appropriate.
Files:      src/ex_cmds2.c

Patch 7.4.1479
Problem:    No testfor &quot;:loadplugin&quot;.
Solution:   Add a test.  Fix how option is being set.
Files:      src/ex_cmds2.c, src/testdir/test_loadplugin.vim,
            src/testdir/Make_all.mak

Patch 7.4.1480
Problem:    Cannot add a pack directory without loading a <A HREF="usr_05.html#plugin">plugin</A>.
Solution:   Add the <A HREF="repeat.html#:packadd">:packadd</A> command.
Files:      src/ex_cmds.h, src/ex_cmds2.c, src/proto/ex_cmds2.pro,
            src/testdir/test_loadplugin.vim, runtime/doc/repeat.txt

Patch 7.4.1481
Problem:    Can't build with small features.
Solution:   Add #ifdef.
Files:      src/ex_cmds2.c

Patch 7.4.1482
Problem:    &quot;timeout&quot; option not supported on ch_eval*().
Solution:   Get and use the timeout option from the argument.
Files:      src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1483
Problem:    A one-time callback is not used for a raw <A HREF="channel.html#channel">channel</A>.
Solution:   Use a one-time callback when <A HREF="motion.html#it">it</A> exists.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1484
Problem:    <A HREF="eval.html#Channel">Channel</A> &quot;err-io&quot; value &quot;out&quot; is not supported.
Solution:   Connect stderr to stdout if wanted.
Files:      src/os_unix.c, src/os_win32.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py

Patch 7.4.1485
Problem:    <A HREF="eval.html#Job">Job</A> input from buffer is not implemented.
Solution:   Implement <A HREF="motion.html#it">it</A>.  Add &quot;in-top&quot; and &quot;in-bot&quot; <A HREF="options.html#options">options</A>.
Files:      src/structs.h, src/eval.c, src/channel.c, src/proto/channel.pro,
            src/os_unix.c, src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.1486
Problem:    &quot;:loadplugin&quot; is not optimal, some people find <A HREF="motion.html#it">it</A> confusing.
Solution:   Only use &quot;<A HREF="repeat.html#:packadd">:packadd</A>&quot; with an optional &quot;<A HREF="change.html#!">!</A>&quot;.
Files:      src/ex_cmds.h, src/ex_cmds2.c, src/testdir/test_loadplugin.vim,
            src/testdir/test_packadd.vim, src/testdir/Make_all.mak,
            runtime/doc/repeat.txt

Patch 7.4.1487
Problem:    For WIN32 isinf() is defined <A HREF="motion.html#as">as</A> a <A HREF="map.html#macro">macro</A>.
Solution:   Define <A HREF="motion.html#it">it</A> <A HREF="motion.html#as">as</A> an inline function. (ZyX)
Files:      src/macros.h

Patch 7.4.1488 (after 7.4.1475)
Problem:    Not using key when result from hangul_string_convert() is NULL.
Solution:   Fall back to not converted <A HREF="eval.html#string">string</A>.
Files:      src/ui.c

Patch 7.4.1489 (after 7.4.1487)
Problem:    &quot;inline&quot; is not supported by old MSVC.
Solution:   use &quot;__inline&quot;. (Ken Takata)
Files:      src/macros.h

Patch 7.4.1490
Problem:    Compiler warning for unused function.
Solution:   Add #ifdef. (Dominique Pelle)
Files:      src/gui_gtk_x11.c

Patch 7.4.1491
Problem:    Visual-block <A HREF="intro.html#shift">shift</A> breaks <A HREF="mbyte.html#multi-byte">multi-byte</A> characters.
Solution:   Compute column differently. (Yasuhiro Matsumoto) Add a test.
Files:      src/ops.c, src/testdir/test_visual.vim, src/testdir/Make_all.mak

Patch 7.4.1492
Problem:    No command line completion for &quot;<A HREF="repeat.html#:packadd">:packadd</A>&quot;.
Solution:   Implement completion. (Hirohito Higashi)
Files:      src/ex_docmd.c, src/ex_getln.c, src/testdir/test_packadd.vim,
            src/vim.h

Patch 7.4.1493
Problem:    Wrong callback invoked for zero-id <A HREF="message.html#messages">messages</A>.
Solution:   Don't use the first one-time callback when the sequence number
            doesn't match.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1494
Problem:    clr_history() does not work properly.
Solution:   Increment hisptr. Add a test. (Yegappan Lakshmanan)
Files:      src/ex_getln.c, src/testdir/test_history.vim,
            src/testdir/Make_all.mak

Patch 7.4.1495
Problem:    Compiler warnings when building on <A HREF="os_unix.html#Unix">Unix</A> with the <A HREF="channel.html#job">job</A> feature but
            without the <A HREF="channel.html#channel">channel</A> feature.
Solution:   Move #ifdefs. (Dominique Pelle)
Files:      src/os_unix.c

Patch 7.4.1496
Problem:    Crash when built with <A HREF="gui.html#GUI">GUI</A> but it's not active. (Dominique Pelle)
Solution:   Check gui.in_use.
Files:      src/channel.c

Patch 7.4.1497
Problem:    Cursor drawing problem with <A HREF="gui_x11.html#GTK">GTK</A> 3.
Solution:   Handle blinking differently. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1498
Problem:    Error for locked item when using <A HREF="eval.html#json_decode()">json_decode()</A>. (Shougo Matsu)
Solution:   Initialize v_lock.
Files:      src/json.c

Patch 7.4.1499
Problem:    No error message when <A HREF="repeat.html#:packadd">:packadd</A> does not find anything.
Solution:   Add an error message. (Hirohito Higashi)
Files:      runtime/doc/repeat.txt, src/ex_cmds.h, src/ex_cmds2.c,
            src/globals.h, src/testdir/test_packadd.vim

Patch 7.4.1500
Problem:    Should_free flag set to <A HREF="eval.html#FALSE">FALSE</A>.
Solution:   Set <A HREF="motion.html#it">it</A> to <A HREF="eval.html#TRUE">TRUE</A>. (Neovim 4415)
Files:      src/ex_eval.c

Patch 7.4.1501
Problem:    Garbage collection with an open <A HREF="channel.html#channel">channel</A> is not tested.
Solution:   Call <A HREF="eval.html#garbagecollect()">garbagecollect()</A> in the test.
Files:      src/testdir/test_channel.vim

Patch 7.4.1502
Problem:    Writing last-but-one line of buffer to a <A HREF="channel.html#channel">channel</A> isn't implemented
            yet.
Solution:   Implement <A HREF="motion.html#it">it</A>.  Fix leaving a swap file behind.
Files:      src/channel.c, src/structs.h, src/memline.c, src/proto/channel.pro

Patch 7.4.1503
Problem:    Crash when using <A HREF="eval.html#ch_getjob()">ch_getjob()</A>. (Damien)
Solution:   Check for a NULL <A HREF="channel.html#job">job</A>.
Files:      src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1504 (after 7.4.1502)
Problem:    No test for reading last-but-one line.
Solution:   Add a test.
Files:      src/testdir/test_channel.vim

Patch 7.4.1505
Problem:    When <A HREF="channel.html#channel">channel</A> log is enabled get too many &quot;looking for messages&quot;
            log entries.
Solution:   Only give the message after another message.
Files:      src/channel.c

Patch 7.4.1506
Problem:    <A HREF="eval.html#Job">Job</A> cannot read from a file.
Solution:   Implement reading from a file for <A HREF="os_unix.html#Unix">Unix</A>.
Files:      src/eval.c, src/os_unix.c, src/os_win32.c,
            src/testdir/test_channel.vim

Patch 7.4.1507
Problem:    Crash when starting a <A HREF="channel.html#job">job</A> fails.
Solution:   Check for the <A HREF="channel.html#channel">channel</A> to be NULL.  (idea by Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1508
Problem:    Can't build GvimExt with MingW.
Solution:   Adjust the makefile. (Ben Fritz)
Files:      src/GvimExt/Make_ming.mak

Patch 7.4.1509
Problem:    Keeping both a variable for a <A HREF="channel.html#job">job</A> and the <A HREF="channel.html#channel">channel</A> <A HREF="motion.html#it">it</A> refers to is
            a hassle.
Solution:   Allow passing the <A HREF="channel.html#job">job</A> where a <A HREF="channel.html#channel">channel</A> is expected. (Damien)
Files:      src/eval.c, src/testdir/test_channel.vim

Patch 7.4.1510
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails on AppVeyor.
Solution:   Wait longer than 10 msec if needed.
Files:      src/testdir/test_channel.vim

Patch 7.4.1511
Problem:    Statusline highlighting is sometimes wrong.
Solution:   Check for Highlight type. (Christian Brabandt)
Files:      src/buffer.c

Patch 7.4.1512
Problem:    <A HREF="eval.html#Channel">Channel</A> input from file not supported on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Implement <A HREF="motion.html#it">it</A>. (Yasuhiro Matsumoto)
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.1513
Problem:    &quot;<A HREF="change.html#J">J</A>&quot; fails if there are not enough lines. (Christian Neukirchen)
Solution:   Reduce the <A HREF="intro.html#count">count</A>, only fail on the last line.
Files:      src/normal.c, src/testdir/test_join.vim, src/testdir/test_alot.vim

Patch 7.4.1514
Problem:    <A HREF="eval.html#Channel">Channel</A> output to file not implemented yet.
Solution:   Implement <A HREF="motion.html#it">it</A> for <A HREF="os_unix.html#Unix">Unix</A>.
Files:      src/os_unix.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py

Patch 7.4.1515
Problem:    <A HREF="eval.html#Channel">Channel</A> test is a bit flaky.
Solution:   Instead of a fixed sleep time wait until an <A HREF="eval.html#expression">expression</A> evaluates
            to true.
Files:      src/testdir/test_channel.vim

Patch 7.4.1516
Problem:    Cannot change file permissions.
Solution:   Add <A HREF="eval.html#setfperm()">setfperm()</A>.
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,
            src/testdir/test_file_perm.vim

Patch 7.4.1517
Problem:    Compiler warning with 64bit compiler.
Solution:   Add typecast. (Mike Williams)
Files:      src/channel.c

Patch 7.4.1518
Problem:    <A HREF="eval.html#Channel">Channel</A> with disconnected in/out/err is not supported.
Solution:   Implement <A HREF="motion.html#it">it</A> for <A HREF="os_unix.html#Unix">Unix</A>.
Files:      src/eval.c, src/os_unix.c, src/structs.h,
            src/testdir/test_channel.vim, src/testdir/test_channel_pipe.py

Patch 7.4.1519 (after 7.4.1514)
Problem:    <A HREF="eval.html#Channel">Channel</A> output to file not implemented for <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Implement <A HREF="motion.html#it">it</A>. (Yasuhiro Matsumoto)
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.1520
Problem:    <A HREF="eval.html#Channel">Channel</A> test: Waiting for a file to appear doesn't work.
Solution:   In waitFor() ignore <A HREF="message.html#errors">errors</A>.
Files:      src/testdir/test_channel.vim

Patch 7.4.1521 (after 7.4.1516)
Problem:    File permission test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Expect a different permission.
Files:      src/testdir/test_file_perm.vim

Patch 7.4.1522
Problem:    Cannot write <A HREF="channel.html#channel">channel</A> err to a buffer.
Solution:   Implement <A HREF="motion.html#it">it</A>.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1523
Problem:    Writing <A HREF="channel.html#channel">channel</A> to a file fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Disable <A HREF="motion.html#it">it</A> for now.
Files:      src/testdir/test_channel.vim

Patch 7.4.1524
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails on BSD.
Solution:   Break out of the loop when connect() succeeds. (Ozaki Kiichi)
Files:      src/channel.c

Patch 7.4.1525
Problem:    On a high resolution screen the toolbar icons are too small.
Solution:   Add &quot;huge&quot; and &quot;giant&quot; to <A HREF="options.html#'toolbariconsize'">'toolbariconsize'</A>. (Brian Gix)
Files:      src/gui_gtk_x11.c, src/option.h

Patch 7.4.1526
Problem:    Writing to file and not connecting a <A HREF="channel.html#channel">channel</A> doesn't work for
            <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work. (Yasuhiro Matsumoto)
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.1527
Problem:    <A HREF="eval.html#Channel">Channel</A> test is flaky on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Limit the select() timeout to 50 msec and try with a new socket if
            <A HREF="motion.html#it">it</A> fails.
Files:      src/channel.c

Patch 7.4.1528
Problem:    Using &quot;ever&quot; for <A HREF="repeat.html#packages">packages</A> is confusing.
Solution:   Use &quot;start&quot;, <A HREF="motion.html#as">as</A> it's related to <A HREF="starting.html#startup">startup</A>.
Files:      src/ex_cmds2.c, runtime/doc/repeat.txt

Patch 7.4.1529
Problem:    Specifying buffer number for <A HREF="channel.html#channel">channel</A> not implemented yet.
Solution:   Implement passing a buffer number.
Files:      src/structs.h, src/channel.c, src/eval.c,
            src/testdir/test_channel.vim

Patch 7.4.1530
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="eval.html#job_start()">job_start()</A> closes wrong handle.
Solution:   Close hThread on the process info. (Ken Takata)
Files:      src/os_win32.c

Patch 7.4.1531
Problem:    Compiler warning for uninitialized variable. (Dominique Pelle)
Solution:   Always give the variable a value.
Files:      src/channel.c

Patch 7.4.1532
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="channel.html#channel">channel</A> leaks file descriptor.
Solution:   Use CreateFile with the right <A HREF="options.html#options">options</A>. (Yasuhiro Matsumoto)
Files:      src/os_win32.c

Patch 7.4.1533
Problem:    Using <A HREF="eval.html#feedkeys()">feedkeys()</A> with an empty <A HREF="eval.html#string">string</A> disregards '<A HREF="change.html#x">x</A>' option.
Solution:   Make '<A HREF="change.html#x">x</A>' work with an empty <A HREF="eval.html#string">string</A>. (Thinca)
Files:      src/eval.c, src/testdir/test_alot.vim,
            src/testdir/test_feedkeys.vim

Patch 7.4.1534
Problem:    Compiler warning for shadowed variable. (Kazunobu Kuriyama)
Solution:   Rename <A HREF="motion.html#it">it</A>.
Files:      src/eval.c

Patch 7.4.1535
Problem:    The feedkeys test has a one second delay.
Solution:   Avoid need_wait_return() to delay. (Hirohito Higashi)
Files:      src/eval.c

Patch 7.4.1536
Problem:    Cannot re-use a <A HREF="channel.html#channel">channel</A> for another <A HREF="channel.html#job">job</A>.
Solution:   Add the &quot;<A HREF="channel.html#channel">channel</A>&quot; option to <A HREF="eval.html#job_start()">job_start()</A>.
Files:      src/channel.c, src/eval.c, src/structs.h, src/os_unix.c,
            src/os_win32.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1537
Problem:    Too many feature flags for pipes, jobs and channels.
Solution:   Only use FEAT_JOB_CHANNEL.
Files:      src/structs.h, src/feature.h, src/configure.in,
            src/auto/configure, src/config.h.in, src/channel.c, src/eval.c,
            src/gui.c, src/main.c, src/memline.c, src/misc2.c, src/os_mswin.c,
            src/os_unix.c, src/os_win32.c, src/ui.c, src/version.c,
            src/macros.h, src/proto.h, src/vim.h, src/Make_cyg_ming.mak,
            src/Make_bc5.mak, src/Make_mvc.mak

Patch 7.4.1538
Problem:    Selection with the mouse does not work in command line mode.
Solution:   Use cairo <A HREF="eval.html#functions">functions</A>. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1539
Problem:    Too much code in eval.c.
Solution:   Move <A HREF="channel.html#job">job</A> and <A HREF="channel.html#channel">channel</A> code to channel.c.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/proto/eval.pro

Patch 7.4.1540
Problem:    <A HREF="eval.html#Channel">Channel</A> test is a bit flaky.
Solution:   Increase expected wait time.
Files:      src/testdir/test_channel.vim

Patch 7.4.1541
Problem:    Missing <A HREF="eval.html#job_info()">job_info()</A>.
Solution:   Implement <A HREF="motion.html#it">it</A>.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1542
Problem:    <A HREF="eval.html#job_start()">job_start()</A> with a <A HREF="eval.html#list">list</A> is not tested.
Solution:   Call <A HREF="eval.html#job_start()">job_start()</A> with a <A HREF="eval.html#list">list</A>.
Files:      src/testdir/test_channel.vim

Patch 7.4.1543
Problem:    <A HREF="eval.html#Channel">Channel</A> log methods are not tested.
Solution:   Log <A HREF="channel.html#job">job</A> activity and check <A HREF="motion.html#it">it</A>.
Files:      src/testdir/test_channel.vim

Patch 7.4.1544
Problem:    On <A HREF="os_win32.html#Win32">Win32</A> escaping the command does not work properly.
Solution:   Reset <A HREF="options.html#'ssl'">'ssl'</A> when escaping the command. (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 7.4.1545
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A>: horizontal cursor <A HREF="intro.html#movement">movement</A> in <A HREF="visual.html#Visual">Visual</A> selection not good.
Solution:   Make <A HREF="motion.html#it">it</A> work better. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1546
Problem:    Sticky type checking is more annoying than useful.
Solution:   Remove the error for <A HREF="change.html#changing">changing</A> a variable type.
Files:      src/eval.c, src/testdir/test_assign.vim,
            src/testdir/test_alot.vim, runtime/doc/eval.txt

Patch 7.4.1547
Problem:    Getting a cterm highlight attribute that is not set results in the
            <A HREF="eval.html#string">string</A> &quot;-1&quot;.
Solution:   Return an empty <A HREF="eval.html#string">string</A>. (Taro Muraoka)
Files:      src/syntax.c, src/testdir/test_alot.vim,
            src/testdir/test_syn_attr.vim

Patch 7.4.1548 (after 7.4.1546)
Problem:    Two tests fail.
Solution:   Adjust the expected error number. Remove check for type.
Files:      src/testdir/test101.ok, src/testdir/test55.in,
            src/testdir/test55.ok

Patch 7.4.1549 (after 7.4.1547)
Problem:    Test for <A HREF="syntax.html#syntax">syntax</A> attributes fails in <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A>.
Solution:   Use an existing font name.
Files:      src/testdir/test_syn_attr.vim

Patch 7.4.1550
Problem:    Cannot load <A HREF="repeat.html#packages">packages</A> early.
Solution:   Add the &quot;<A HREF="repeat.html#:packloadall">:packloadall</A>&quot; command.
Files:      src/ex_cmds.h, src/ex_cmds2.c, src/main.c,
            src/proto/ex_cmds2.pro, src/testdir/test_packadd.vim

Patch 7.4.1551
Problem:    Cannot generate help <A HREF="tagsrch.html#tags">tags</A> in all doc directories.
Solution:   Make &quot;<A HREF="helphelp.html#:helptags">:helptags</A> ALL&quot; work.
Files:      src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/ex_cmds.c, src/vim.h
            src/testdir/test_packadd.vim

Patch 7.4.1552
Problem:    &quot;<A HREF="syntax.html#:colorscheme">:colorscheme</A>&quot; does not use <A HREF="options.html#'packpath'">'packpath'</A>.
Solution:   Also use in &quot;start&quot; and &quot;opt&quot; directories in <A HREF="options.html#'packpath'">'packpath'</A>.
Files:      src/ex_cmds2.c, src/gui.c, src/hardcopy.c, src/os_mswin.c,
            src/spell.c, src/tag.c, src/if_py_both.h, src/vim.h,
            src/digraph.c, src/eval.c, src/ex_docmd.c, src/main.c,
            src/option.c, src/syntax.c, src/testdir/test_packadd.vim

Patch 7.4.1553
Problem:    &quot;<A HREF="repeat.html#:runtime">:runtime</A>&quot; does not use <A HREF="options.html#'packpath'">'packpath'</A>.
Solution:   Add &quot;what&quot; argument.
Files:      src/ex_cmds2.c, src/vim.h, runtime/doc/repeat.txt,
            src/testdir/test_packadd.vim

Patch 7.4.1554
Problem:    Completion for <A HREF="syntax.html#:colorscheme">:colorscheme</A> does not use <A HREF="options.html#'packpath'">'packpath'</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work, add a test. (Hirohito Higashi)
Files:      src/ex_getln.c, src/testdir/test_packadd.vim

Patch 7.4.1555
Problem:    <A HREF="eval.html#List">List</A> of test targets incomplete.
Solution:   Add newly added tests.
Files:      src/Makefile

Patch 7.4.1556
Problem:    &quot;make install&quot; changes the help <A HREF="tagsrch.html#tags">tags</A> file, causing <A HREF="motion.html#it">it</A> to differ
            from the repository.
Solution:   Move <A HREF="motion.html#it">it</A> aside and restore <A HREF="motion.html#it">it</A>.
Files:      src/Makefile

Patch 7.4.1557
Problem:    Windows cannot be identified.
Solution:   Add a unique <A HREF="windows.html#window">window</A> number to each <A HREF="windows.html#window">window</A> and <A HREF="eval.html#functions">functions</A> to use <A HREF="motion.html#it">it</A>.
Files:      src/structs.h, src/window.c, src/eval.c, src/proto/eval.pro,
            src/proto/window.pro, src/testdir/test_window_id.vim,
            src/testdir/Make_all.mak, runtime/doc/eval.txt

Patch 7.4.1558
Problem:    It is not <A HREF="starting.html#easy">easy</A> to find out what <A HREF="windows.html#windows">windows</A> display a buffer.
Solution:   Add <A HREF="eval.html#win_findbuf()">win_findbuf()</A>.
Files:      src/eval.c, src/window.c, src/proto/window.pro,
            src/testdir/test_window_id.vim, runtime/doc/eval.txt

Patch 7.4.1559
Problem:    Passing cookie to a callback is clumsy.
Solution:   Change <A HREF="eval.html#function()">function()</A> to take arguments and return a partial.
Files:      src/structs.h, src/channel.c, src/eval.c, src/if_python.c,
            src/if_python3.c, src/if_py_both.h, src/json.c,
            src/proto/eval.pro, src/testdir/test_partial.vim,
            src/testdir/test_alot.vim, runtime/doc/eval.txt

Patch 7.4.1560
Problem:    Dict <A HREF="options.html#options">options</A> with a dash are more difficult to use.
Solution:   Use an underscore, so that dict.err_io can be used.
Files:      src/channel.c, src/structs.h, src/testdir/test_channel.vim,
            runtime/doc/channel.txt

Patch 7.4.1561 (after 7.4.1559)
Problem:    Missing update to proto file.
Solution:   Change the proto file.
Files:      src/proto/channel.pro

Patch 7.4.1562
Problem:    &quot;<A HREF="helphelp.html#:helptags">:helptags</A> ALL&quot; crashes. (Lcd)
Solution:   Don't free <A HREF="if_cscop.html#twice">twice</A>.
Files:      src/ex_cmds.c

Patch 7.4.1563
Problem:    <A HREF="eval.html#Partial">Partial</A> test fails on <A HREF="windows.html#windows">windows</A>.
Solution:   Return 1 or -1 from compare function.
Files:      src/testdir/test_partial.vim

Patch 7.4.1564
Problem:    An empty <A HREF="eval.html#list">list</A> in <A HREF="eval.html#function()">function()</A> causes an error.
Solution:   Handle an empty <A HREF="eval.html#list">list</A> like there is no <A HREF="eval.html#list">list</A> of arguments.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1565
Problem:    Crash when <A HREF="eval.html#assert_equal()">assert_equal()</A> runs into a NULL <A HREF="eval.html#string">string</A>.
Solution:   Check for NULL. (Dominique) Add a test.
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1566
Problem:    Compiler warning for shadowed variable. (Kazunobu Kuriyama)
Solution:   Remove the inner one.
Files:      src/eval.c

Patch 7.4.1567
Problem:    Crash in <A HREF="eval.html#assert_fails()">assert_fails()</A>.
Solution:   Check for NULL. (Dominique Pelle)  Add a test.
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 7.4.1568
Problem:    Using <A HREF="tagsrch.html#CTRL-]">CTRL-]</A> in help on option in parentheses doesn't work.
Solution:   Skip the &quot;<A HREF="motion.html#(">(</A>&quot; in &quot;(&#39;&#34;'. (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 7.4.1569
Problem:    Using old style tests for <A HREF="quickfix.html#quickfix">quickfix</A>.
Solution:   Change them to new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test106.in,
            src/testdir/test106.ok, src/testdir/test_qf_title.in,
            src/testdir/test_qf_title.ok, src/testdir/test_quickfix.vim

Patch 7.4.1570
Problem:    There is no way to avoid the message when editing a file.
Solution:   Add the &quot;<A HREF="motion.html#F">F</A>&quot; flag to <A HREF="options.html#'shortmess'">'shortmess'</A>. (Shougo Matsu, closes #686)
Files:      runtime/doc/options.txt, src/buffer.c, src/ex_cmds.c,
            src/option.h

Patch 7.4.1571
Problem:    No test for &quot;<A HREF="helphelp.html#:help">:help</A>&quot;.
Solution:   Add a test for what 7.4.1568 fixed. (Hirohito Higashi)
Files:      src/testdir/test_alot.vim, src/testdir/test_help_tagjump.vim

Patch 7.4.1572
Problem:    Setting <A HREF="options.html#'compatible'">'compatible'</A> in test influences following tests.
Solution:   Turn <A HREF="options.html#'compatible'">'compatible'</A> off again.
Files:      src/testdir/test_backspace_opt.vim

Patch 7.4.1573
Problem:    Tests get stuck at the more prompt.
Solution:   Move the backspace test out of test_alot.
Files:      src/testdir/test_alot.vim, src/testdir/Make_all.mak

Patch 7.4.1574
Problem:    &quot;<A HREF="undo.html#:undo">:undo</A> 0&quot; does not work. (Florent Fayolle)
Solution:   Make <A HREF="motion.html#it">it</A> <A HREF="undo.html#undo">undo</A> all the way. (closes #688)
Files:      src/undo.c, src/testdir/test_undolevels.vim,
            src/testdir/test_ex_undo.vim, src/testdir/test_alot.vim

Patch 7.4.1575
Problem:    Using wrong size for struct.
Solution:   Use the size for wide API. (Ken Takata)
Files:      src/gui_w32.c

Patch 7.4.1576
Problem:    Write error of <A HREF="starting.html#viminfo">viminfo</A> file is not handled properly. (Christian
            Neukirchen)
Solution:   Check the return value of fclose(). (closes #682)
Files:      src/ex_cmds.c

Patch 7.4.1577
Problem:    Cannot pass &quot;dict.Myfunc&quot; around <A HREF="motion.html#as">as</A> a partial.
Solution:   Create a partial when expected.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1578
Problem:    There is no way to invoke a function later or periodically.
Solution:   Add <A HREF="eval.html#timer">timer</A> support.
Files:      src/eval.c, src/ex_cmds2.c, src/screen.c, src/ex_docmd.c,
            src/feature.h, src/gui.c, src/proto/eval.pro,
            src/proto/ex_cmds2.pro, src/proto/screen.pro, src/structs.h,
            src/version.c, src/testdir/test_alot.vim,
            src/testdir/test_timers.vim, runtime/doc/eval.txt

Patch 7.4.1579 (after 7.4.1578)
Problem:    Missing changes in channel.c
Solution:   Include the changes.
Files:      src/channel.c

Patch 7.4.1580
Problem:    Crash when using function reference. (Luchr)
Solution:   Set initial refcount. (Ken Takata, closes #690)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1581
Problem:    Using &quot;<A HREF="eval.html#:call">:call</A> dict.func()&quot; where the function is a partial does
            not work.  Using &quot;dict.func()&quot; where the function does not take a
            <A HREF="eval.html#Dictionary">Dictionary</A> does not work.
Solution:   Handle partial properly in &quot;<A HREF="eval.html#:call">:call</A>&quot;. (Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_partial.vim, src/testdir/test55.ok

Patch 7.4.1582
Problem:    Get <A HREF="eval.html#E923">E923</A> when using function(dict.func, <A HREF="motion.html#[]">[]</A>, <A HREF="eval.html#dict">dict</A>). (Kent Sibilev)
            Storing a function with a <A HREF="eval.html#dict">dict</A> in a variable drops the <A HREF="eval.html#dict">dict</A> if the
            function is <A HREF="map.html#script-local">script-local</A>.
Solution:   Translate the function name.  Use <A HREF="eval.html#dict">dict</A> arg if present.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1583
Problem:    Warning for uninitialized variable.
Solution:   Initialize <A HREF="motion.html#it">it</A>. (Dominique)
Files:      src/ex_cmds2.c

Patch 7.4.1584
Problem:    Timers don't work for <A HREF="os_win32.html#Win32">Win32</A> console.
Solution:   Add check_due_timer() in WaitForChar().
Files:      src/os_win32.c

Patch 7.4.1585
Problem:    <A HREF="eval.html#Partial">Partial</A> is not recognized everywhere.
Solution:   Check for partial in trans_function_name(). (Yasuhiro Matsumoto)
            Add a test.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1586
Problem:    Nesting partials doesn't work.
Solution:   Append arguments. (Ken Takata)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1587
Problem:    Compiler warnings with 64 bit compiler.
Solution:   Add type casts. (Mike Williams)
Files:      src/ex_cmds2.c

Patch 7.4.1588
Problem:    Old style test for <A HREF="quickfix.html#quickfix">quickfix</A>.
Solution:   Turn test 96 into a new style test.
Files:      src/testdir/Make_all.mak, src/testdir/test96.in,
            src/testdir/test96.ok, src/testdir/test_quickfix.vim

Patch 7.4.1589
Problem:    Combining <A HREF="eval.html#dict">dict</A> and args with partial doesn't always work.
Solution:   Use the arguments from the partial.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1590
Problem:    Warning for shadowed variable. (Christian Brabandt)
Solution:   Move the variable into a local block.
Files:      src/eval.c

Patch 7.4.1591
Problem:    The <A HREF="quickfix.html#quickfix">quickfix</A> title is truncated.
Solution:   Save the command before <A HREF="motion.html#it">it</A> is truncated. (Anton Lindqvist)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1592
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> code using memory after being freed. (Dominique Pelle)
Solution:   Detect that the <A HREF="windows.html#window">window</A> was closed. (Hirohito Higashi)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1593
Problem:    Using <A HREF="channel.html#channel">channel</A> timeout instead of request timeout. (Coverity)
Solution:   Remove the extra assignment.
Files:      src/channel.c

Patch 7.4.1594
Problem:    Timers don't work on <A HREF="os_unix.html#Unix">Unix</A>.
Solution:   Add missing code.
Files:      src/os_unix.c

Patch 7.4.1595
Problem:    Not checking for failed open(). (Coverity)
Solution:   Check file descriptor not being negative.
Files:      src/os_unix.c

Patch 7.4.1596
Problem:    Memory leak. (Coverity)
Solution:   Free the <A HREF="pattern.html#pattern">pattern</A>.
Files:      src/ex_cmds2.c

Patch 7.4.1597
Problem:    Memory leak when out of memory. (Coverity)
Solution:   Free the name.
Files:      src/eval.c

Patch 7.4.1598
Problem:    When starting the <A HREF="gui.html#GUI">GUI</A> fails a swap file is left behind. (Joerg
            Plate)
Solution:   Preserve files before <A HREF="starting.html#exiting">exiting</A>. (closes #692)
Files:      src/main.c, src/gui.c

Patch 7.4.1599
Problem:    No link to Coverity.
Solution:   Add Coverity badge in README.
Files:      README.md

Patch 7.4.1600
Problem:    libs directory is not useful.
Solution:   Remove arp.library, <A HREF="motion.html#it">it</A> was only for very old <A HREF="os_amiga.html#Amiga">Amiga</A> versions.
Files:      libs/arp.library, Filelist

Patch 7.4.1601
Problem:    README files take a lot of space in the top directory.
Solution:   Move most of them to &quot;READMEdir&quot;.
Files:      Filelist, Makefile, README.txt.info, README_ami.txt,
            README_ami.txt.info, README_amibin.txt, README_amibin.txt.info,
            README_amisrc.txt, README_amisrc.txt.info, README_bindos.txt,
            README_dos.txt, README_extra.txt, README_mac.txt, README_ole.txt,
            README_os2.txt, README_os390.txt, README_src.txt,
            README_srcdos.txt, README_unix.txt, README_vms.txt,
            README_w32s.txt, READMEdir/README.txt.info,
            READMEdir/README_ami.txt, READMEdir/README_ami.txt.info,
            READMEdir/README_amibin.txt, READMEdir/README_amibin.txt.info,
            READMEdir/README_amisrc.txt, READMEdir/README_amisrc.txt.info,
            READMEdir/README_bindos.txt, READMEdir/README_dos.txt,
            READMEdir/README_extra.txt, READMEdir/README_mac.txt,
            READMEdir/README_ole.txt, READMEdir/README_os2.txt,
            READMEdir/README_os390.txt, READMEdir/README_src.txt,
            READMEdir/README_srcdos.txt, READMEdir/README_unix.txt,
            READMEdir/README_vms.txt, READMEdir/README_w32s.txt,

Patch 7.4.1602
Problem:    Info files take space in the top directory.
Solution:   Move them to &quot;READMEdir&quot;.
Files:      Filelist, src.info, Contents.info, runtime.info, vimdir.info,
            Vim.info, Xxd.info, READMEdir/src.info, READMEdir/Contents.info,
            READMEdir/runtime.info, READMEdir/vimdir.info, READMEdir/Vim.info,
            READMEdir/Xxd.info

Patch 7.4.1603
Problem:    Timer with an &quot;<A HREF="eval.html#:echo">:echo</A>&quot; command messes up display.
Solution:   Redraw depending on the mode. (Hirohito Higashi)  Avoid the more
            prompt being used recursively.
Files:      src/screen.c, src/message.c

Patch 7.4.1604
Problem:    Although emoji characters are ambiguous width, best is to treat
            them <A HREF="motion.html#as">as</A> full width.
Solution:   Update the <A HREF="mbyte.html#Unicode">Unicode</A> character tables. Add the <A HREF="options.html#'emoji'">'emoji'</A> <A HREF="options.html#options">options</A>.
            (Yasuhiro Matsumoto)
Files:      runtime/doc/options.txt, runtime/optwin.vim,
            runtime/tools/unicode.vim, src/mbyte.c, src/option.c, src/option.h

Patch 7.4.1605
Problem:    Catching exception that won't be thrown.
Solution:   Remove try/catch.
Files:      src/testdir/test55.in

Patch 7.4.1606
Problem:    Having <A HREF="eval.html#type()">type()</A> handle a <A HREF="eval.html#Funcref">Funcref</A> that is or isn't a partial
            differently causes problems for existing scripts.
Solution:   Make <A HREF="eval.html#type()">type()</A> return the same value. (Thinca)
Files:      src/eval.c, src/testdir/test_viml.vim

Patch 7.4.1607
Problem:    Comparing a function that exists on two dicts is not backwards
            compatible. (Thinca)
Solution:   Only compare the function, not what the partial adds.
Files:      src/eval.c, src/testdir/test_alot.vim, src/testdir/test_expr.vim

Patch 7.4.1608
Problem:    <A HREF="eval.html#string()">string()</A> doesn't handle a partial.
Solution:   Make a <A HREF="eval.html#string">string</A> from a partial.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1609
Problem:    <A HREF="quickref.html#Contents">Contents</A> file is only for <A HREF="os_amiga.html#Amiga">Amiga</A> distro.
Solution:   Move <A HREF="motion.html#it">it</A> to &quot;READMEdir&quot;.  Update some info.
Files:      Filelist, <A HREF="quickref.html#Contents">Contents</A>, READMEdir/Contents

Patch 7.4.1610
Problem:    Compiler warnings for non-virtual destructor.
Solution:   <A HREF="motion.html#Mark">Mark</A> the classes final. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/gui_dwrite.cpp, src/if_ole.cpp

Patch 7.4.1611
Problem:    The versplit feature makes the code unnecessary complicated.
Solution:   Remove FEAT_VERTSPLIT, always support vertical splits when
            FEAT_WINDOWS is defined.
Files:      src/buffer.c, src/charset.c, src/eval.c, src/ex_cmds.c,
            src/ex_docmd.c, src/ex_getln.c, src/gui.c, src/if_lua.c,
            src/if_mzsch.c, src/if_ruby.c, src/main.c, src/misc1.c,
            src/misc2.c, src/move.c, src/normal.c, src/option.c,
            src/quickfix.c, src/screen.c, src/syntax.c, src/term.c, src/ui.c,
            src/window.c, src/globals.h, src/gui.h, src/if_py_both.h,
            src/option.h, src/structs.h, src/term.h
            src/feature.h, src/vim.h, src/version.c

Patch 7.4.1612 (after 7.4.1611)
Problem:    Can't build with small features.
Solution:   Move code and #ifdefs.
Files:      src/ex_getln.c

Patch 7.4.1613 (after 7.4.1612)
Problem:    Still can't build with small features.
Solution:   Adjust #ifdefs.
Files:      src/ex_getln.c

Patch 7.4.1614
Problem:    Still <A HREF="quickfix.html#quickfix">quickfix</A> test in old style.
Solution:   Turn test 10 into a new style test.
Files:      src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/main.aap, src/testdir/test10.in,
            src/testdir/test10.ok, src/testdir/test_quickfix.vim,
            src/testdir/test10a.in, src/testdir/test10a.ok

Patch 7.4.1615
Problem:    Build fails with tiny features.
Solution:   Adjust #ifdefs.
Files:      src/normal.c, src/window.c

Patch 7.4.1616
Problem:    Malformed <A HREF="channel.html#channel">channel</A> request causes a hang.
Solution:   Drop malformed message. (Damien)
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1617
Problem:    When a JSON message is split <A HREF="motion.html#it">it</A> isn't decoded.
Solution:   Wait a short time for the rest of the message to arrive.
Files:      src/channel.c, src/json.c, src/structs.h,
            src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 7.4.1618
Problem:    Starting <A HREF="channel.html#job">job</A> with output to buffer changes <A HREF="options.html#options">options</A> in the current
            buffer.
Solution:   Set &quot;curbuf&quot; earlier. (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 7.4.1619
Problem:    When <A HREF="options.html#'fileformats'">'fileformats'</A> is set in the <A HREF="starting.html#vimrc">vimrc</A> <A HREF="motion.html#it">it</A> applies to new <A HREF="windows.html#buffers">buffers</A>
            but not the initial buffer.
Solution:   Set <A HREF="options.html#'fileformat'">'fileformat'</A> when starting up. (Mike Williams)
Files:      src/option.c

Patch 7.4.1620
Problem:    Emoji characters are not considered <A HREF="motion.html#as">as</A> a kind of <A HREF="motion.html#word">word</A> character.
Solution:   Give emoji characters a <A HREF="motion.html#word">word</A> class number. (Yasuhiro Matsumoto)
Files:      src/mbyte.c

Patch 7.4.1621
Problem:    <A HREF="eval.html#Channel">Channel</A> test doesn't work with <A HREF="if_pyth.html#Python">Python</A> 2.6.
Solution:   Add number in <A HREF="change.html#formatting">formatting</A> placeholder. (Wiredool)
Files:      src/testdir/test_channel.py

Patch 7.4.1622
Problem:    <A HREF="eval.html#Channel">Channel</A> demo doesn't work with <A HREF="if_pyth.html#Python">Python</A> 2.6.
Solution:   Add number in <A HREF="change.html#formatting">formatting</A> placeholder
Files:      runtime/tools/demoserver.py

Patch 7.4.1623
Problem:    All <A HREF="eval.html#Channels">Channels</A> share the message ID, <A HREF="motion.html#it">it</A> keeps getting bigger.
Solution:   Use a message ID per <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c, src/proto/channel.pro, src/structs.h

Patch 7.4.1624
Problem:    Can't get info about a <A HREF="channel.html#channel">channel</A>.
Solution:   Add <A HREF="eval.html#ch_info()">ch_info()</A>.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1625
Problem:    Trying to close file descriptor that isn't open.
Solution:   Check for negative number.
Files:      src/os_unix.c

Patch 7.4.1626 (after 7.4.1624)
Problem:    Missing changes to structs.
Solution:   Include the changes.
Files:      src/structs.h

Patch 7.4.1627
Problem:    <A HREF="eval.html#Channel">Channel</A> <A HREF="channel.html#out_cb">out_cb</A> and <A HREF="channel.html#err_cb">err_cb</A> are not tested.
Solution:   Add a test.
Files:      src/testdir/test_channel.vim

Patch 7.4.1628
Problem:    64-bit Compiler warning.
Solution:   Change type of variable. (Mike Williams)
Files:      src/channel.c

Patch 7.4.1629
Problem:    Handling emoji characters <A HREF="motion.html#as">as</A> full width has problems with
            backwards compatibility.
Solution:   Remove ambiguous and double width characters from the emoji table.
            Use a separate table for the character class.
            (partly by Yasuhiro Matsumoto)
Files:      runtime/tools/unicode.vim, src/mbyte.c

Patch 7.4.1630
Problem:    <A HREF="mbyte.html#Unicode">Unicode</A> table for double width is outdated.
Solution:   Update to the latest <A HREF="mbyte.html#Unicode">Unicode</A> standard.
Files:      src/mbyte.c

Patch 7.4.1631
Problem:    Compiler doesn't understand switch on all enum values. (Tony
            Mechelynck)
Solution:   Initialize variable.
Files:      src/channel.c

Patch 7.4.1632
Problem:    <A HREF="eval.html#List">List</A> of test targets is outdated.
Solution:   Update to current <A HREF="eval.html#list">list</A> of test targets.
Files:      src/Makefile

Patch 7.4.1633
Problem:    If the help <A HREF="tagsrch.html#tags">tags</A> file was removed &quot;make install&quot; fails. (Tony
            Mechelynck)
Solution:   Only try moving the file if <A HREF="motion.html#it">it</A> exists.
Files:      src/Makefile

Patch 7.4.1634
Problem:    Vertical <A HREF="intro.html#movement">movement</A> after <A HREF="change.html#CTRL-A">CTRL-A</A> ends up in the wrong column.
            (Urtica Dioica)
Solution:   Set curswant when appropriate. (Hirohito Higashi)
Files:      src/ops.c, src/testdir/test_increment.vim

Patch 7.4.1635
Problem:    <A HREF="eval.html#Channel">Channel</A> test is a bit flaky.
Solution:   Remove 'DETACH' if it's there.
Files:      src/testdir/test_channel.vim

Patch 7.4.1636
Problem:    When '<A HREF="motion.html#F">F</A>' is in <A HREF="options.html#'shortmess'">'shortmess'</A> the prompt for the <A HREF="editing.html#encryption">encryption</A> key isn't
            displayed. (Toothpik)
Solution:   Reset msg_silent.
Files:      src/ex_getln.c

Patch 7.4.1637
Problem:    Can't build with older MinGW compiler.
Solution:   Change option from c++11 to gnu++11. (Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1638
Problem:    When binding a function to a <A HREF="eval.html#dict">dict</A> the reference <A HREF="intro.html#count">count</A> is wrong.
Solution:   Decrement <A HREF="eval.html#dict">dict</A> reference <A HREF="intro.html#count">count</A>, only reference the function when
            actually making a copy. (Ken Takata)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1639
Problem:    Invoking garbage collection may cause a double free.
Solution:   Don't free the <A HREF="eval.html#dict">dict</A> in a partial when recursive is <A HREF="eval.html#FALSE">FALSE</A>.
Files:      src/eval.c

Patch 7.4.1640
Problem:    Crash when an <A HREF="autocmd.html#autocommand">autocommand</A> changes a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>. (Dominique)
Solution:   Check whether an entry is still valid. (Yegappan Lakshmanan,
            Hirohito Higashi)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1641
Problem:    Using unterminated <A HREF="eval.html#string">string</A>.
Solution:   Add NUL before calling vim_strsave_shellescape(). (James McCoy)
Files:      src/eval.c, src/testdir/test105.in, src/testdir/test105.ok

Patch 7.4.1642
Problem:    Handling emoji characters <A HREF="motion.html#as">as</A> full width has problems with
            backwards compatibility.
Solution:   Only put characters in the 1f000 range in the emoji table.
Files:      runtime/tools/unicode.vim, src/mbyte.c

Patch 7.4.1643 (after 7.4.1641)
Problem:    Terminating file name has side effects.
Solution:   Restore the character. (mostly by James McCoy, closes #713)
Files:      src/eval.c, src/testdir/test105.in, src/testdir/test105.ok

Patch 7.4.1644
Problem:    Using <A HREF="eval.html#string()">string()</A> on a partial that exists in the dictionary <A HREF="motion.html#it">it</A> binds
            results in an error. (Nikolai Pavlov)
Solution:   Make <A HREF="eval.html#string()">string()</A> not fail on a recursively nested structure. (Ken
            Takata)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1645
Problem:    When a <A HREF="eval.html#dict">dict</A> contains a partial <A HREF="motion.html#it">it</A> can't be redefined <A HREF="motion.html#as">as</A> a
            function. (Nikolai Pavlov)
Solution:   Remove the partial when overwriting with a function.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1646
Problem:    Using <A HREF="if_pyth.html#Python">Python</A> vim.bindeval() on a partial doesn't work. (Nikolai
            Pavlov)
Solution:   Add VAR_PARTIAL support in <A HREF="if_pyth.html#Python">Python</A>.
Files:      src/if_py_both.h, src/testdir/test_partial.vim

Patch 7.4.1647
Problem:    Using freed memory after <A HREF="eval.html#setqflist()">setqflist()</A> and &quot;<A HREF="quickfix.html#:caddbuffer">:caddbuffer</A>&quot;.  (Dominique)
Solution:   Set qf_ptr when adding the first item to the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1648
Problem:    Compiler has a problem <A HREF="uganda.html#copying">copying</A> a <A HREF="eval.html#string">string</A> into di_key[]. (Yegappan
            Lakshmanan)
Solution:   Add dictitem16_T.
Files:      src/structs.h, src/eval.c

Patch 7.4.1649
Problem:    The matchit <A HREF="usr_05.html#plugin">plugin</A> needs to be copied to be used.
Solution:   Put the matchit <A HREF="usr_05.html#plugin">plugin</A> in an optional package.
Files:      Filelist, runtime/macros/matchit.vim, runtime/macros/matchit.txt,
            runtime/macros/README.txt, src/Makefile,
            runtime/pack/dist/opt/matchit/plugin/matchit.vim,
            runtime/pack/dist/opt/matchit/doc/matchit.txt,
            runtime/pack/dist/opt/matchit/doc/tags,
            runtime/doc/usr_05.txt, runtime/doc/usr_toc.txt

Patch 7.4.1650
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> test fails.
Solution:   Accept any number of matches.
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1651
Problem:    Some dead (MSDOS) code remains.
Solution:   Remove the unused lines. (Ken Takata)
Files:      src/misc1.c

Patch 7.4.1652
Problem:    Old style test for <A HREF="eval.html#fnamemodify()">fnamemodify()</A>.
Solution:   Turn <A HREF="motion.html#it">it</A> into a new style test.
Files:      src/testdir/test105.in, src/testdir/test105.ok,
            src/testdir/test_fnamemodify.vim, src/testdir/test_alot.vim,
            src/testdir/Make_all.mak

Patch 7.4.1653 (after 7.4.1649)
Problem:    Users who loaded matchit.vim manually have to change their
            <A HREF="starting.html#startup">startup</A>. (Gary Johnson)
Solution:   Add a file in the old location that loads the package.
Files:      runtime/macros/matchit.vim, Filelist

Patch 7.4.1654
Problem:    Crash when using expand('&#37;:S') in a buffer without a name.
Solution:   Don't set a NUL. (James McCoy, closes #714)
Files:      src/eval.c, src/testdir/test_fnamemodify.vim

Patch 7.4.1655
Problem:    <A HREF="eval.html#remote_expr()">remote_expr()</A> hangs. (Ramel)
Solution:   Check for <A HREF="message.html#messages">messages</A> in the waiting loop.
Files:      src/if_xcmdsrv.c

Patch 7.4.1656
Problem:    Crash when using partial with a <A HREF="eval.html#timer">timer</A>.
Solution:   Increment partial reference <A HREF="intro.html#count">count</A>. (Hirohito Higashi)
Files:      src/eval.c, src/testdir/test_timers.vim

Patch 7.4.1657
Problem:    On <A HREF="os_unix.html#Unix">Unix</A> in a <A HREF="terminal.html#terminal">terminal</A>: <A HREF="channel.html#channel">channel</A> <A HREF="message.html#messages">messages</A> are not handled right away.
            (Jackson Alves de Aquino)
Solution:   Break the loop for <A HREF="eval.html#timers">timers</A> when something was received.
Files:      src/os_unix.c

Patch 7.4.1658
Problem:    A <A HREF="usr_05.html#plugin">plugin</A> does not know when <A HREF="autocmd.html#VimEnter">VimEnter</A> <A HREF="autocmd.html#autocommands">autocommands</A> were already
            triggered.
Solution:   Add the <A HREF="eval.html#v:vim_did_enter">v:vim_did_enter</A> variable.
Files:      src/eval.c, src/main.c, src/vim.h, src/testdir/test_autocmd.vim,
            src/testdir/test_alot.vim, runtime/doc/autocmd.txt,
            runtime/doc/eval.txt

Patch 7.4.1659 (after 7.4.1657)
Problem:    Compiler warning for argument type. (Manuel Ortega)
Solution:   Remove &quot;<A HREF="change.html#&amp;">&amp;</A>&quot;.
Files:      src/os_unix.c

Patch 7.4.1660
Problem:    has('patch-7.4.1') doesn't work.
Solution:   Fix off-by-one error. (Thinca)
Files:      src/eval.c, src/testdir/test_expr.vim, src/testdir/test60.in,
            src/testdir/test60.ok

Patch 7.4.1661
Problem:    No test for special characters in <A HREF="channel.html#channel">channel</A> <A HREF="eval.html#eval">eval</A> command.
Solution:   Testing sending and receiving text with special characters.
Files:      src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 7.4.1662
Problem:    No test for an invalid <A HREF="intro.html#Ex">Ex</A> command on a <A HREF="channel.html#channel">channel</A>.
Solution:   Test handling an invalid command gracefully.  Avoid getting an
            error message, <A HREF="diff.html#do">do</A> write <A HREF="motion.html#it">it</A> to the <A HREF="channel.html#channel">channel</A> log.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel.py

Patch 7.4.1663
Problem:    In tests it's often useful to check if a <A HREF="pattern.html#pattern">pattern</A> matches.
Solution:   Add <A HREF="eval.html#assert_match()">assert_match()</A>.
Files:      src/eval.c, src/testdir/test_assert.vim,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1664
Problem:    Crash in <A HREF="quickfix.html#:cgetexpr">:cgetexpr</A>.
Solution:   Check for NULL pointer. (Dominique) Add a test.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1665
Problem:    Crash when calling <A HREF="eval.html#job_start()">job_start()</A> with a NULL <A HREF="eval.html#string">string</A>. (Dominique)
Solution:   Check for an invalid argument.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1666
Problem:    When reading JSON from a <A HREF="channel.html#channel">channel</A> all readahead is used.
Solution:   Use the fill function to reduce overhead.
Files:      src/channel.c, src/json.c, src/structs.h

Patch 7.4.1667
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: waiting on a pipe with fixed sleep time.
Solution:   Start with a short delay and increase <A HREF="motion.html#it">it</A> when looping.
Files:      src/channel.c

Patch 7.4.1668
Problem:    channel_get_all() does multiple allocations.
Solution:   Compute the size and allocate once.
Files:      src/channel.c

Patch 7.4.1669
Problem:    When <A HREF="editing.html#writing">writing</A> buffer lines to a pipe Vim may block.
Solution:   Avoid blocking, write more lines later.
Files:      src/channel.c, src/misc2.c, src/os_unix.c, src/structs.h,
            src/vim.h, src/proto/channel.pro, src/testdir/test_channel.vim

Patch 7.4.1670
Problem:    Completion doesn't work well for a variable containing &quot;<A HREF="pattern.html##">#</A>&quot;.
Solution:   Recognize the &quot;<A HREF="pattern.html##">#</A>&quot;. (Watiko)
Files:      src/eval.c

Patch 7.4.1671
Problem:    When help exists in multiple languages, adding @ab while &quot;<A HREF="motion.html#ab">ab</A>&quot; is
            the default help language is unnecessary.
Solution:   Leave out &quot;@ab&quot; when not needed. (Ken Takata)
Files:      src/ex_getln.c

Patch 7.4.1672
Problem:    The Dvorak support is a bit difficult to <A HREF="usr_90.html#install">install</A>.
Solution:   Turn <A HREF="motion.html#it">it</A> into an optional package.
Files:      runtime/macros/dvorak, runtime/macros/README.txt,
            runtime/pack/dist/opt/dvorak/plugin/dvorak.vim,
            runtime/pack/dist/opt/dvorak/dvorak/enable.vim,
            runtime/pack/dist/opt/dvorak/dvorak/disable.vim

Patch 7.4.1673
Problem:    The justify <A HREF="usr_05.html#plugin">plugin</A> has to be copied or sourced to be used.
Solution:   Turn <A HREF="motion.html#it">it</A> into a package.
Files:      runtime/macros/justify.vim, runtime/macros/README.txt,
            runtime/pack/dist/opt/justify/plugin/justify.vim, Filelist

Patch 7.4.1674
Problem:    The editexisting <A HREF="usr_05.html#plugin">plugin</A> has to be copied or sourced to be used.
Solution:   Turn <A HREF="motion.html#it">it</A> into a package.
Files:      runtime/macros/editexisting.vim, runtime/macros/README.txt,
            runtime/pack/dist/opt/editexisting/plugin/editexisting.vim,
            Filelist

Patch 7.4.1675
Problem:    The swapmous <A HREF="usr_05.html#plugin">plugin</A> has to be copied or sourced to be used.
Solution:   Turn <A HREF="motion.html#it">it</A> into the swapmouse package.
Files:      runtime/macros/swapmous.vim, runtime/macros/README.txt,
            runtime/pack/dist/opt/swapmouse/plugin/swapmouse.vim, Filelist

Patch 7.4.1676
Problem:    The shellmenu <A HREF="usr_05.html#plugin">plugin</A> has to be copied or sourced to be used.
Solution:   Turn <A HREF="motion.html#it">it</A> into a package.
Files:      runtime/macros/shellmenu.vim, runtime/macros/README.txt,
            runtime/pack/dist/opt/shellmenu/plugin/shellmenu.vim, Filelist

Patch 7.4.1677
Problem:    A reference to the removed file_select <A HREF="usr_05.html#plugin">plugin</A> remains.
Solution:   Remove <A HREF="motion.html#it">it</A>.
Files:      runtime/macros/README.txt

Patch 7.4.1678
Problem:    Warning for unused argument.
Solution:   Add UNUSED. (Dominique Pelle)
Files:      src/if_mzsch.c

Patch 7.4.1679
Problem:    Coverity: <A HREF="uganda.html#copying">copying</A> value of v_lock without initializing <A HREF="motion.html#it">it</A>.
Solution:   Init v_lock in rettv_list_alloc() and rettv_dict_alloc().
Files:      src/eval.c

Patch 7.4.1680
Problem:    Coverity warns for not checking name length (false positive).
Solution:   Only copy the characters we know are there.
Files:      src/channel.c

Patch 7.4.1681
Problem:    Coverity warns for fixed size buffer length (false positive).
Solution:   Add a check for the name length.
Files:      src/eval.c

Patch 7.4.1682
Problem:    Coverity: no check for NULL.
Solution:   Add check for invalid argument to <A HREF="eval.html#assert_match()">assert_match()</A>.
Files:      src/eval.c

Patch 7.4.1683
Problem:    Generated .bat files <A HREF="diff.html#do">do</A> not support <A HREF="starting.html#--nofork">--nofork</A>.
Solution:   Add check for <A HREF="starting.html#--nofork">--nofork</A>.  Also add &quot;setlocal&quot;. (Kevin Cant,
            closes #659)
Files:      src/dosinst.c

Patch 7.4.1684
Problem:    README text is slightly outdated.
Solution:   Mention the READMEdir directory.
Files:      README.md, README.txt

Patch 7.4.1685
Problem:    There is no <A HREF="starting.html#easy">easy</A> way to get all the information about a match.
Solution:   Add <A HREF="eval.html#matchstrpos()">matchstrpos()</A>. (Ozaki Kiichi)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,
            src/testdir/test_alot.vim, src/testdir/test_matchstrpos.vim

Patch 7.4.1686
Problem:    When running tests $HOME/.viminfo is written. (James McCoy)
Solution:   Add 'nviminfo' to the <A HREF="options.html#'viminfo'">'viminfo'</A> option. (closes #722)
Files:      src/testdir/test_backspace_opt.vim, src/testdir/test_viminfo.vim,
            src/testdir/runtest.vim.

Patch 7.4.1687
Problem:    The <A HREF="channel.html#channel">channel</A> <A HREF="channel.html#close_cb">close_cb</A> option does not work.
Solution:   Use jo_close_partial instead of jo_err_partial. (Damien)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1688
Problem:    <A HREF="if_mzsch.html#MzScheme">MzScheme</A> does not support partial.
Solution:   Add minimal partial support. (Ken Takata)
Files:      src/if_mzsch.c

Patch 7.4.1689
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> interface has inconsistent coding style.
Solution:   Fix the coding style. (Ken Takata)
Files:      src/if_ruby.c

Patch 7.4.1690
Problem:    Can't compile with the <A HREF="syntax.html#conceal">conceal</A> feature but without <A HREF="mbyte.html#multi-byte">multi-byte</A>.
Solution:   Adjust #ifdef. (Owen Leibman)
Files:      src/eval.c, src/window.c

Patch 7.4.1691
Problem:    When switching to a new buffer and an <A HREF="autocmd.html#autocommand">autocommand</A> applies <A HREF="syntax.html#syntax">syntax</A>
            highlighting an ml_get error may occur.
Solution:   Check &quot;syn_buf&quot; against the buffer in the <A HREF="windows.html#window">window</A>. (Alexander von
            Buddenbrock, closes #676)
Files:      src/syntax.c

Patch 7.4.1692
Problem:    feedkeys('i', '<A HREF="change.html#x">x</A>') gets stuck, waits for a character to be typed.
Solution:   Behave like &quot;<A HREF="various.html#:normal">:normal</A>&quot;. (Yasuhiro Matsumoto)
Files:      src/eval.c, src/testdir/test_feedkeys.vim

Patch 7.4.1693
Problem:    Building the <A HREF="if_perl.html#Perl">Perl</A> interface gives compiler warnings.
Solution:   Remove a pragma. Add noreturn attributes. (Damien)
Files:      src/if_perl.xs

Patch 7.4.1694
Problem:    <A HREF="os_win32.html#Win32">Win32</A> <A HREF="starting.html#gvim">gvim</A> doesn't work with &quot;dvorakj&quot; input method.
Solution:   Wait for QS_ALLINPUT instead of QS_ALLEVENTS. (Yukihiro Nakadaira)
Files:      src/gui_w32.c

Patch 7.4.1695
Problem:    &quot;<A HREF="syntax.html#:syn">:syn</A> reset&quot; clears the effect &quot;<A HREF="syntax.html#:syn">:syn</A> iskeyword&quot;. (James McCoy)
Solution:   Remove clearing the <A HREF="syntax.html#syntax">syntax</A> keywords.
Files:      src/syntax.c

Patch 7.4.1696
Problem:    When using <A HREF="insert.html#:stopinsert">:stopinsert</A> in a silent <A HREF="map.html#mapping">mapping</A> the &quot;INSERT&quot; message
            isn't cleared. (Coacher)
Solution:   Always clear the message. (Christian Brabandt, closes #718)
Files:      src/ex_docmd.c, src/proto/screen.pro, src/screen.c

Patch 7.4.1697
Problem:    Display problems when the <A HREF="options.html#'ambiwidth'">'ambiwidth'</A> and <A HREF="options.html#'emoji'">'emoji'</A> <A HREF="options.html#options">options</A> are not
            set properly or the <A HREF="terminal.html#terminal">terminal</A> doesn't behave <A HREF="motion.html#as">as</A> expected.
Solution:   After drawing an ambiguous width character always position the
            cursor.
Files:      src/mbyte.c, src/screen.c, src/proto/mbyte.pro

Patch 7.4.1698
Problem:    Two tests fail when running tests with MinGW. (Michael Soyka)
Solution:   Convert test_getcwd.ok test_wordcount.ok to <A HREF="os_unix.html#unix">unix</A> fileformat.
Files:      src/testdir/Make_ming.mak

Patch 7.4.1699
Problem:    <A HREF="repeat.html#:packadd">:packadd</A> does not work the same when used early or late.
Solution:   Always load plugins matching &quot;plugin/**/*.vim&quot;.
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 7.4.1700
Problem:    Equivalence classes are not properly tested.
Solution:   Add tests for <A HREF="mbyte.html#multi-byte">multi-byte</A> and latin1. Fix an error. (Owen Leibman)
Files:      src/regexp.c, src/testdir/Make_all.mak,
            src/testdir/test_alot_latin.vim, src/testdir/test_alot_utf8.vim,
            src/testdir/test_regexp_latin.vim,
            src/testdir/test_regexp_utf8.vim

Patch 7.4.1701
Problem:    Equivalence classes still tested in old style tests.
Solution:   Remove the duplicate.
Files:      src/testdir/test44.in, src/testdir/test44.ok,
            src/testdir/test99.in, src/testdir/test99.ok

Patch 7.4.1702
Problem:    Using freed memory when parsing <A HREF="options.html#'printoptions'">'printoptions'</A> fails.
Solution:   Save the old <A HREF="options.html#options">options</A> and restore them in <A HREF="change.html#case">case</A> of an error.
            (Dominique)
Files:      src/hardcopy.c, src/testdir/test_hardcopy.vim

Patch 7.4.1703
Problem:    Can't assert for not equal and not matching.
Solution:   Add <A HREF="eval.html#assert_notmatch()">assert_notmatch()</A> and <A HREF="eval.html#assert_notequal()">assert_notequal()</A>.
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_assert.vim

Patch 7.4.1704
Problem:    Using freed memory with &quot;wincmd p&quot;. (Dominique Pelle)
Solution:   Also clear &quot;prevwin&quot; in other <A HREF="intro.html#tab">tab</A> pages.
Files:      src/window.c

Patch 7.4.1705
Problem:    The <A HREF="options.html#'guifont'">'guifont'</A> option does not allow for a quality setting.
Solution:   Add the &quot;<A HREF="repeat.html#q">q</A>&quot; item, supported on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Yasuhiro Matsumoto)
Files:      runtime/doc/options.txt, src/gui_w32.c, src/os_mswin.c,
            src/proto/os_mswin.pro

Patch 7.4.1706
Problem:    Old style function declaration breaks build.
Solution:   Remove __ARGS().
Files:      src/proto/os_mswin.pro

Patch 7.4.1707
Problem:    Cannot use empty dictionary key, even though <A HREF="motion.html#it">it</A> can be useful.
Solution:   Allow using an empty dictionary key.
Files:      src/hashtab.c, src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1708
Problem:    New <A HREF="pattern.html#regexp">regexp</A> engine does not work properly with EBCDIC.
Solution:   Define equivalence class characters. (Owen Leibman)
Files:      src/regexp_nfa.c

Patch 7.4.1709
Problem:    Mistake in #ifdef.
Solution:   Change PROOF_QUALITY to DRAFT_QUALITY. (Ken Takata)
Files:      src/os_mswin.c

Patch 7.4.1710
Problem:    Not all output of an external command is read.
Solution:   Avoid timing out when the process has exited. (closes #681)
Files:      src/os_unix.c

Patch 7.4.1711
Problem:    When using try/catch in <A HREF="options.html#'statusline'">'statusline'</A> <A HREF="motion.html#it">it</A> is still considered an
            error and the status line will be disabled.
Solution:   Check did_emsg instead of called_emsg. (haya14busa, closes #729)
Files:      src/screen.c, src/testdir/test_statusline.vim,
            src/testdir/test_alot.vim

Patch 7.4.1712
Problem:    For plugins in <A HREF="repeat.html#packages">packages</A>, <A HREF="usr_05.html#plugin">plugin</A> authors need to take care of all
            dependencies.
Solution:   When loading &quot;start&quot; <A HREF="repeat.html#packages">packages</A> and for <A HREF="repeat.html#:packloadall">:packloadall</A>, first add all
            directories to <A HREF="options.html#'runtimepath'">'runtimepath'</A> before sourcing plugins.
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 7.4.1713
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#GUI">GUI</A> doesn't work on Wayland.
Solution:   Specify that only the <A HREF="options.html#X11">X11</A> backend is allowed. (Simon McVittie)
Files:      src/gui_gtk_x11.c

Patch 7.4.1714
Problem:    Non-GUI specific settings in the gvimrc_example file.
Solution:   Move some settings to the vimrc_example file.  Remove setting
            <A HREF="options.html#'hlsearch'">'hlsearch'</A> again. (suggested by Hirohito Higashi)
Files:      runtime/vimrc_example.vim, runtime/gvimrc_example.vim

Patch 7.4.1715
Problem:    Double free when a partial is in a cycle with a <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A>.
            (Nikolai Pavlov)
Solution:   Do not free a nested <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> used by the partial.
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1716
Problem:    <A HREF="options.html#'autochdir'">'autochdir'</A> doesn't work for the first file. (Rob Hoelz)
Solution:   Call DO_AUTOCHDIR after <A HREF="starting.html#startup">startup</A>. (Christian Brabandt, closes #704)
Files:      src/main.c

Patch 7.4.1717
Problem:    Leaking memory when opening a <A HREF="channel.html#channel">channel</A> fails.
Solution:   Unreference partials in <A HREF="channel.html#job">job</A> <A HREF="options.html#options">options</A>.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1718
Problem:    Coverity: not using return value of set_ref_in_item().
Solution:   Use the return value.
Files:      src/eval.c

Patch 7.4.1719
Problem:    Leaking memory when there is a cycle involving a <A HREF="channel.html#job">job</A> and a
            partial.
Solution:   Add a copyID to <A HREF="channel.html#job">job</A> and <A HREF="channel.html#channel">channel</A>.  Set references in items referred
            by them.  Go through all jobs and channels to find unreferenced
            items.  Also, decrement reference counts when garbage collecting.
Files:      src/eval.c, src/channel.c, src/netbeans.c, src/globals.h,
            src/ops.c, src/regexp.c, src/tag.c, src/proto/channel.pro,
            src/proto/eval.pro, src/testdir/test_partial.vim, src/structs.h

Patch 7.4.1720
Problem:    Tests fail without the <A HREF="channel.html#job">job</A> feature.
Solution:   Skip tests when the <A HREF="channel.html#job">job</A> feature is not present.
Files:      src/testdir/test_partial.vim

Patch 7.4.1721
Problem:    The vimtbar files are unused.
Solution:   Remove them. (Ken Takata)
Files:      src/vimtbar.dll, src/vimtbar.h, src/vimtbar.lib, Filelist

Patch 7.4.1722
Problem:    Crash when calling <A HREF="eval.html#garbagecollect()">garbagecollect()</A> after starting a <A HREF="channel.html#job">job</A>.
Solution:   Set the copyID on <A HREF="channel.html#job">job</A> and <A HREF="channel.html#channel">channel</A>. (Hirohito Higashi, Ozaki
            Kiichi)
Files:      src/eval.c

Patch 7.4.1723
Problem:    When using try/catch in <A HREF="options.html#'tabline'">'tabline'</A> <A HREF="motion.html#it">it</A> is still considered an
            error and the tabline will be disabled.
Solution:   Check did_emsg instead of called_emsg. (haya14busa, closes #746)
Files:      src/screen.c, src/testdir/test_tabline.vim,
            src/testdir/test_alot.vim

Patch 7.4.1724 (after 7.4.1723)
Problem:    Tabline test fails in <A HREF="gui.html#GUI">GUI</A>.
Solution:   Remove '<A HREF="motion.html#e">e</A>' from <A HREF="options.html#'guioptions'">'guioptions'</A>.
Files:      src/testdir/test_tabline.vim

Patch 7.4.1725
Problem:    Compiler <A HREF="message.html#errors">errors</A> for non-ANSI compilers.
Solution:   Remove <A HREF="version7.html#//">//</A> comment.  Remove comma at end of enum. (Michael Jarvis)
Files:      src/eval.c

Patch 7.4.1726
Problem:    ANSI compiler complains about <A HREF="eval.html#string">string</A> length.
Solution:   Split long <A HREF="eval.html#string">string</A> in two parts. (Michael Jarvis)
Files:      src/ex_cmds.c

Patch 7.4.1727
Problem:    Cannot detect a crash in tests when caused by <A HREF="eval.html#garbagecollect()">garbagecollect()</A>.
Solution:   Add garbagecollect_for_testing().  Do not free a <A HREF="channel.html#job">job</A> if is still
            useful.
Files:      src/channel.c, src/eval.c, src/getchar.c, src/main.c, src/vim.h,
            src/proto/eval.pro, src/testdir/runtest.vim,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1728
Problem:    The help for <A HREF="eval.html#functions">functions</A> require a space after the &quot;<A HREF="motion.html#(">(</A>&quot;.
Solution:   Make <A HREF="tagsrch.html#CTRL-]">CTRL-]</A> on a function name ignore the arguments. (Hirohito
            Higashi)
Files:      src/ex_cmds.c, src/testdir/test_help_tagjump.vim,
            runtime/doc/eval.txt

Patch 7.4.1729
Problem:    The <A HREF="if_perl.html#Perl">Perl</A> interface cannot use 'print' <A HREF="motion.html#operator">operator</A> for <A HREF="editing.html#writing">writing</A>
            directly in standard IO.
Solution:   Add a minimal implementation of PerlIO Layer feature and try to
            use <A HREF="motion.html#it">it</A> for STDOUT/STDERR. (Damien)
Files:      src/if_perl.xs, src/testdir/test_perl.vim

Patch 7.4.1730
Problem:    It is not <A HREF="starting.html#easy">easy</A> to get a character out of a <A HREF="eval.html#string">string</A>.
Solution:   Add <A HREF="eval.html#strgetchar()">strgetchar()</A> and <A HREF="eval.html#strcharpart()">strcharpart()</A>.
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1731
Problem:    <A HREF="if_pyth.html#Python">Python</A>: turns partial into simple funcref.
Solution:   Use partials like partials. (Nikolai Pavlov, closes #734)
Files:      runtime/doc/if_pyth.txt, src/eval.c, src/if_py_both.h,
            src/if_python.c, src/if_python3.c, src/proto/eval.pro,
            src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.1732
Problem:    Folds may close when using autocomplete. (Anmol Sethi)
Solution:   Increment/decrement disable_fold. (Christian Brabandt, closes
            #643)
Files:      src/edit.c, src/fold.c, src/globals.h

Patch 7.4.1733
Problem:    &quot;make install&quot; doesn't know about cross-compiling. (Christian
            Neukirchen)
Solution:   Add CROSS_COMPILING. (closes #740)
Files:      src/configure.in, src/auto/configure, src/config.mk.in,
            src/Makefile

Patch 7.4.1734 (after 7.4.1730)
Problem:    Test fails when not using <A HREF="mbyte.html#utf-8">utf-8</A>.
Solution:   Split test in regular and <A HREF="mbyte.html#utf-8">utf-8</A> part.
Files:      src/testdir/test_expr.vim, src/testdir/test_expr_utf8.vim,
            src/testdir/test_alot_utf8.vim

Patch 7.4.1735
Problem:    It is not possible to only see part of the message <A HREF="cmdline.html#history">history</A>.  It is
            not possible to clear <A HREF="message.html#messages">messages</A>.
Solution:   Add a <A HREF="intro.html#count">count</A> to &quot;<A HREF="message.html#:messages">:messages</A>&quot; and a clear argument. (Yasuhiro
            Matsumoto)
Files:      runtime/doc/message.txt, src/ex_cmds.h, src/message.c,
            src/testdir/test_messages.vim, src/testdir/test_alot.vim

Patch 7.4.1736 (after 7.4.1731)
Problem:    Unused variable.
Solution:   Remove <A HREF="motion.html#it">it</A>. (Yasuhiro Matsumoto)
Files:      src/if_py_both.h

Patch 7.4.1737
Problem:    Argument marked <A HREF="motion.html#as">as</A> unused is used.
Solution:   Remove UNUSED.
Files:      src/message.c

Patch 7.4.1738
Problem:    Count for &quot;<A HREF="message.html#:messages">:messages</A>&quot; depends on number of lines.
Solution:   Add ADDR_OTHER address type.
Files:      src/ex_cmds.h

Patch 7.4.1739
Problem:    Messages test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Adjust the asserts.  Skip the &quot;<A HREF="message.html#messages">messages</A> maintainer&quot; line if not
            showing all <A HREF="message.html#messages">messages</A>.
Files:      src/message.c, src/testdir/test_messages.vim

Patch 7.4.1740
Problem:    syn-cchar defined with <A HREF="eval.html#matchadd()">matchadd()</A> does not appear if there are no
            other <A HREF="syntax.html#syntax">syntax</A> <A HREF="intro.html#definitions">definitions</A> which matches buffer text.
Solution:   Check for startcol. (Ozaki Kiichi, haya14busa, closes #757)
Files:      src/screen.c, src/testdir/Make_all.mak,
            src/testdir/test_alot_utf8.vim, src/testdir/test_match_conceal.in,
            src/testdir/test_match_conceal.ok,
            src/testdir/test_matchadd_conceal.vim,
            src/testdir/test_matchadd_conceal_utf8.vim,
            src/testdir/test_undolevels.vim

Patch 7.4.1741
Problem:    Not <A HREF="eval.html#testing">testing</A> <A HREF="mbyte.html#utf-8">utf-8</A> characters.
Solution:   Move the right asserts to the test_expr_utf8 test.
Files:      src/testdir/test_expr.vim, src/testdir/test_expr_utf8.vim

Patch 7.4.1742
Problem:    <A HREF="eval.html#strgetchar()">strgetchar()</A> does not work correctly.
Solution:   use mb_cptr2len().  Add a test. (Naruhiko Nishino)
Files:      src/eval.c, src/testdir/test_expr_utf8.vim

Patch 7.4.1743
Problem:    Clang warns for uninitialized variable. (Michael Jarvis)
Solution:   Initialize <A HREF="motion.html#it">it</A>.
Files:      src/if_py_both.h

Patch 7.4.1744
Problem:    <A HREF="if_pyth.html#Python">Python</A>: Converting a sequence may leak memory.
Solution:   Decrement a reference. (Nikolai Pavlov)
Files:      src/if_py_both.h

Patch 7.4.1745
Problem:    README file is not clear about where to get Vim.
Solution:   Add links to github, releases and the Windows installer.
            (Suggested by Christian Brabandt)
Files:      README.md, README.txt

Patch 7.4.1746
Problem:    Memory leak in <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Decrement the reference <A HREF="intro.html#count">count</A>.  Add a test. (Damien)
Files:      src/if_perl.xs, src/testdir/test_perl.vim

Patch 7.4.1747
Problem:    Coverity: missing check for NULL pointer.
Solution:   Check for out of memory.
Files:      src/if_py_both.h

Patch 7.4.1748
Problem:    &quot;<A HREF="pattern.html#gD">gD</A>&quot; does not find match in first column of first line. (Gary
            Johnson)
Solution:   Accept match at the cursor.
Files:      src/normal.c, src/testdir/test_goto.vim, src/testdir/test_alot.vim

Patch 7.4.1749
Problem:    When using <A HREF="gui_x11.html#GTK">GTK</A> 3.20 there are a few warnings.
Solution:   Use new <A HREF="eval.html#functions">functions</A> when available. (Kazunobu Kuriyama)
Files:      src/gui_beval.c src/gui_gtk_x11.c

Patch 7.4.1750
Problem:    When a buffer gets updated while in command line mode, the screen
            may be messed up.
Solution:   Postpone the redraw when the screen is scrolled.
Files:      src/channel.c

Patch 7.4.1751
Problem:    Crash when <A HREF="options.html#'tagstack'">'tagstack'</A> is off. (Dominique Pelle)
Solution:   Fix <A HREF="motion.html#it">it</A>. (Hirohito Higashi)
Files:      src/tag.c, src/testdir/test_alot.vim, src/testdir/test_tagjump.vim

Patch 7.4.1752
Problem:    When adding to the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> the current position is reset.
Solution:   Do not reset the position when not needed. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1753
Problem:    &quot;noinsert&quot; in <A HREF="options.html#'completeopt'">'completeopt'</A> is sometimes ignored.
Solution:   Set the <A HREF="eval.html#variables">variables</A> when the <A HREF="options.html#'completeopt'">'completeopt'</A> was set. (Ozaki Kiichi)
Files:      src/edit.c, src/option.c, src/proto/edit.pro

Patch 7.4.1754
Problem:    When <A HREF="options.html#'filetype'">'filetype'</A> was set and reloading a buffer which does not
            cause <A HREF="motion.html#it">it</A> to be set, the <A HREF="syntax.html#syntax">syntax</A> isn't loaded. (KillTheMule)
Solution:   Remember whether the <A HREF="autocmd.html#FileType">FileType</A> event was fired and fire <A HREF="motion.html#it">it</A> if not.
            (Anton Lindqvist, closes #747)
Files:      src/fileio.c, src/testdir/test_syntax.vim

Patch 7.4.1755
Problem:    When using <A HREF="eval.html#getreg()">getreg()</A> on a non-existing <A HREF="sponsor.html#register">register</A> a NULL <A HREF="eval.html#list">list</A> is
            returned. (Bjorn Linse)
Solution:   Allocate an empty <A HREF="eval.html#list">list</A>. Add a test.
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1756
Problem:    &quot;dll&quot; <A HREF="options.html#options">options</A> are not expanded.
Solution:   Expand environment <A HREF="eval.html#variables">variables</A>. (Ozaki Kiichi)
Files:      src/option.c, src/testdir/test_alot.vim,
            src/testdir/test_expand_dllpath.vim

Patch 7.4.1757
Problem:    When using <A HREF="eval.html#complete()">complete()</A> <A HREF="motion.html#it">it</A> may set <A HREF="options.html#'modified'">'modified'</A> even though nothing
            was inserted.
Solution:   Use Down/Up instead of Next/Previous match. (Shougo Matsu, closes
	    #745)
Files:      src/edit.c

Patch 7.4.1758
Problem:    Triggering <A HREF="autocmd.html#CursorHoldI">CursorHoldI</A> when in <A HREF="change.html#CTRL-X">CTRL-X</A> mode causes problems.
Solution:   Do not trigger <A HREF="autocmd.html#CursorHoldI">CursorHoldI</A> in <A HREF="change.html#CTRL-X">CTRL-X</A> mode. Add &quot;<A HREF="change.html#!">!</A>&quot; flag to
            <A HREF="eval.html#feedkeys()">feedkeys()</A> (test with that didn't work though).
Files:      src/edit.c, src/eval.c

Patch 7.4.1759
Problem:    When using <A HREF="eval.html#feedkeys()">feedkeys()</A> in a <A HREF="eval.html#timer">timer</A> the inserted characters are not
            used right away.
Solution:   Break the wait loop when characters have been added to typebuf.
            use this for <A HREF="eval.html#testing">testing</A> <A HREF="autocmd.html#CursorHoldI">CursorHoldI</A>.
Files:      src/gui.c, src/os_win32.c, src/os_unix.c,
            src/testdir/test_autocmd.vim

Patch 7.4.1760 (after 7.4.1759)
Problem:    Compiler warning for unused variable.
Solution:   Add #ifdef. (John Marriott)
Files:      src/os_win32.c

Patch 7.4.1761
Problem:    Coverity complains about ignoring return value.
Solution:   Add &quot;(void)&quot; to get rid of the warning.
Files:      src/eval.c

Patch 7.4.1762
Problem:    Coverity: useless assignments.
Solution:   Remove them.
Files:      src/search.c

Patch 7.4.1763
Problem:    Coverity: useless assignment.
Solution:   Add #if 0.
Files:      src/spell.c

Patch 7.4.1764
Problem:    C++ style comment. (Ken Takata)
Solution:   Finish the work started here: don't call perror() when stderr
            isn't working.
Files:      src/os_unix.c

Patch 7.4.1765
Problem:    Undo <A HREF="options.html#options">options</A> are not together in the <A HREF="options.html#options">options</A> <A HREF="windows.html#window">window</A>.
Solution:   Put them together.  (Gary Johnson)
Files:      runtime/optwin.vim

Patch 7.4.1766
Problem:    Building instructions for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> are outdated.
Solution:   Mention setting SDK_INCLUDE_DIR. (Ben Franklin, closes #771)  Move
            outdated instructions further down.
Files:      src/INSTALLpc.txt

Patch 7.4.1767
Problem:    When installing Vim on a <A HREF="gui_x11.html#GTK">GTK</A> system the icon cache is not updated.
Solution:   Update the <A HREF="gui_x11.html#GTK">GTK</A> icon cache when possible. (Kazunobu Kuriyama)
Files:      src/Makefile, src/configure.in, src/config.mk.in,
            src/auto/configure

Patch 7.4.1768
Problem:    Arguments of <A HREF="eval.html#setqflist()">setqflist()</A> are not checked properly.
Solution:   Add better checks, add a test. (Nikolai Pavlov, Hirohito Higashi,
            closes #661)
Files:      src/eval.c, src/testdir/test_quickfix.vim

Patch 7.4.1769
Problem:    No &quot;closed&quot;, &quot;<A HREF="message.html#errors">errors</A>&quot; and &quot;encoding&quot; attribute on <A HREF="if_pyth.html#Python">Python</A> output.
Solution:   Add attributes and more tests. (Roland Puntaier, closes #622)
Files:      src/if_py_both.h, src/if_python.c, src/if_python3.c,
            src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.1770
Problem:    Cannot use true color in the <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add the 'guicolors' option. (Nikolai Pavlov)
Files:      runtime/doc/options.txt, runtime/doc/term.txt,
            runtime/doc/various.txt, src/auto/configure, src/config.h.in,
            src/configure.in, src/eval.c, src/globals.h, src/hardcopy.c,
            src/option.c, src/option.h, src/proto/term.pro, src/screen.c,
            src/structs.h, src/syntax.c, src/term.c, src/term.h,
            src/version.c, src/vim.h

Patch 7.4.1771 (after 7.4.1768)
Problem:    Warning for unused variable.
Solution:   Add #ifdef. (John Marriott)
Files:      src/eval.c

Patch 7.4.1772 (after 7.4.1767)
Problem:    Installation fails when $GTK_UPDATE_ICON_CACHE is empty.
Solution:   Add <A HREF="quotes.html#quotes">quotes</A>. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 7.4.1773 (after 7.4.1770)
Problem:    Compiler warnings. (Dominique Pelle)
Solution:   Add UNUSED. Add type cast. Avoid a buffer overflow.
Files:      src/syntax.c, src/term.c

Patch 7.4.1774 (after 7.4.1770)
Problem:    Cterm true color feature has warnings.
Solution:   Add type casts.
Files:      src/screen.c, src/syntax.c, src/term.c

Patch 7.4.1775
Problem:    The <A HREF="gui_w32.html#rgb.txt">rgb.txt</A> file is not installed.
Solution:   Install the file. (Christian Brabandt)
Files:      src/Makefile

Patch 7.4.1776
Problem:    Using wrong buffer length.
Solution:   use the right name. (Kazunobu Kuriyama)
Files:      src/term.c

Patch 7.4.1777
Problem:    Newly added features can <A HREF="intro.html#escape">escape</A> the <A HREF="eval.html#sandbox">sandbox</A>.
Solution:   Add checks for restricted and secure. (Yasuhiro Matsumoto)
Files:      src/eval.c

Patch 7.4.1778
Problem:    When using the term truecolor feature, the <A HREF="term.html#t_8f">t_8f</A> and <A HREF="term.html#t_8b">t_8b</A> <A HREF="term.html#termcap">termcap</A>
            <A HREF="options.html#options">options</A> are not set by default.
Solution:   Move the values to before BT_EXTRA_KEYS. (Christian Brabandt)
Files:      src/term.c

Patch 7.4.1779
Problem:    Using negative index in <A HREF="eval.html#strcharpart()">strcharpart()</A>. (Yegappan Lakshmanan)
Solution:   Assume single byte when using a negative index.
Files:      src/eval.c

Patch 7.4.1780
Problem:    Warnings reported by cppcheck.
Solution:   Fix the warnings. (Dominique Pelle)
Files:      src/ex_cmds2.c, src/json.c, src/misc1.c, src/ops.c,
            src/regexp_nfa.c

Patch 7.4.1781
Problem:    <A HREF="eval.html#synIDattr()">synIDattr()</A> does not respect 'guicolors'.
Solution:   Change the condition for the mode. (Christian Brabandt)
Files:      src/eval.c

Patch 7.4.1782
Problem:    <A HREF="eval.html#strcharpart()">strcharpart()</A> does not work properly with some <A HREF="mbyte.html#multi-byte">multi-byte</A>
            characters.
Solution:   Use mb_cptr2len() instead of mb_char2len(). (Hirohito Higashi)
Files:      src/eval.c, src/testdir/test_expr_utf8.vim

Patch 7.4.1783
Problem:    The old <A HREF="pattern.html#regexp">regexp</A> engine doesn't handle character classes correctly.
            (Manuel Ortega)
Solution:   Use regmbc() instead of regc().  Add a test.
Files:      src/regexp.c, src/testdir/test_regexp_utf8.vim

Patch 7.4.1784
Problem:    The termtruecolor feature is enabled differently from many other
            features.
Solution:   Enable the termtruecolor feature for the big build, not through
            configure.
Files:      src/configure.in, src/config.h.in, src/auto/configure,
            src/feature.h

Patch 7.4.1785 (after 7.4.1783)
Problem:    Regexp test fails on <A HREF="windows.html#windows">windows</A>.
Solution:   set <A HREF="options.html#'isprint'">'isprint'</A> to the right value for <A HREF="eval.html#testing">testing</A>.
Files:      src/testdir/test_regexp_utf8.vim

Patch 7.4.1786
Problem:    Compiled-in colors <A HREF="diff.html#do">do</A> not match <A HREF="gui_w32.html#rgb.txt">rgb.txt</A>.
Solution:   Use the <A HREF="gui_w32.html#rgb.txt">rgb.txt</A> colors. (Kazunobu Kuriyama)
Files:      src/term.c

Patch 7.4.1787
Problem:    When a <A HREF="channel.html#job">job</A> ends the close callback is invoked before other
            callbacks. On Windows the close callback is not called.
Solution:   First invoke out/err callbacks before the close callback.
            Make the close callback work on Windows.
Files:      src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, src/testdir/test_channel_pipe.py

Patch 7.4.1788
Problem:    NSIS <A HREF="usr_41.html#script">script</A> is missing <A HREF="repeat.html#packages">packages</A>.
Solution:   Add the missing directories. (Ken Takata)
Files:      nsis/gvim.nsi

Patch 7.4.1789
Problem:    Cannot use <A HREF="eval.html#ch_read()">ch_read()</A> in the close callback.
Solution:   Do not <A HREF="editing.html#discard">discard</A> the <A HREF="channel.html#channel">channel</A> if there is readahead.  Do not <A HREF="editing.html#discard">discard</A>
            readahead if there is a close callback.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 7.4.1790
Problem:    Leading white space in a <A HREF="channel.html#job">job</A> command matters. (Andrew Stewart)
Solution:   Skip leading white space.
Files:      src/os_unix.c

Patch 7.4.1791
Problem:    <A HREF="eval.html#Channel">Channel</A> could be garbage collected too early.
Solution:   Don't free a <A HREF="channel.html#channel">channel</A> or remove <A HREF="motion.html#it">it</A> from a <A HREF="channel.html#job">job</A> when <A HREF="motion.html#it">it</A> is still
            useful.
Files:      src/channel.c

Patch 7.4.1792
Problem:    Color name decoding is implemented several times.
Solution:   Move <A HREF="motion.html#it">it</A> to term.c. (Christian Brabandt)
Files:      src/gui_mac.c, src/gui_photon.c, src/gui_w32.c,
            src/proto/term.pro, src/term.c

Patch 7.4.1793
Problem:    Some character classes may differ between systems.  On OS/X the
            <A HREF="pattern.html#regexp">regexp</A> test fails.
Solution:   Make this <A HREF="various.html#less">less</A> dependent on the system. (idea by Kazunobu Kuriyama)
Files:      src/regexp.c, src/regexp_nfa.c

Patch 7.4.1794 (after 7.4.1792)
Problem:    Can't build on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add missing declaration.
Files:      src/gui_w32.c

Patch 7.4.1795
Problem:    Compiler warning for redefining RGB. (John Marriott)
Solution:   Rename <A HREF="motion.html#it">it</A> to TORGB.
Files:      src/term.c

Patch 7.4.1796 (after 7.4.1795)
Problem:    Colors are wrong on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Christian Robinson)
Solution:   Use existing RGB <A HREF="map.html#macro">macro</A> if <A HREF="motion.html#it">it</A> exists. (Ken Takata)
Files:      src/term.c

Patch 7.4.1797
Problem:    Warning from Windows 64 bit compiler.
Solution:   Change int to size_t. (Mike Williams)
Files:      src/term.c

Patch 7.4.1798
Problem:    Still compiler warning for unused return value. (Charles Campbell)
Solution:   Assign to ignoredp.
Files:      src/term.c

Patch 7.4.1799
Problem:    'guicolors' is a confusing option name.
Solution:   Use <A HREF="options.html#'termguicolors'">'termguicolors'</A> instead. (Hirohito Higashi, Ken Takata)
Files:      runtime/doc/options.txt, runtime/doc/term.txt,
            runtime/doc/various.txt, runtime/syntax/dircolors.vim, src/eval.c,
            src/feature.h, src/globals.h, src/hardcopy.c, src/option.c,
            src/option.h, src/proto/term.pro, src/screen.c, src/structs.h,
            src/syntax.c, src/term.c, src/version.c, src/vim.h

Patch 7.4.1800 (after 7.4.1799)
Problem:    Unnecessary #ifdef.
Solution:   Just use USE_24BIT. (Ken Takata)
Files:      src/syntax.c

Patch 7.4.1801
Problem:    Make uninstall leaves file behind.
Solution:   Delete <A HREF="gui_w32.html#rgb.txt">rgb.txt</A>. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 7.4.1802
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> doesn't handle long lines well, they are split.
Solution:   Drop characters after a limit. (Anton Lindqvist)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim,
            src/testdir/samples/quickfix.txt

Patch 7.4.1803
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A> doesn't handle menu separators properly.
Solution:   Use gtk_separator_menu_item_new(). (Kazunobu Kuriyama)
Files:      src/gui_gtk.c

Patch 7.4.1804
Problem:    Can't use Vim <A HREF="motion.html#as">as</A> MANPAGER.
Solution:   Add <A HREF="filetype.html#manpager.vim">manpager.vim</A>. (Enno Nagel, closes #491)
Files:      runtime/doc/filetype.txt, runtime/plugin/manpager.vim

Patch 7.4.1805
Problem:    Running tests in shadow dir fails.
Solution:   Link the samples directory
Files:      src/Makefile

Patch 7.4.1806
Problem:    <A HREF="options.html#'termguicolors'">'termguicolors'</A> option missing from the <A HREF="options.html#options">options</A> <A HREF="windows.html#window">window</A>.
Solution:   Add the entry.
Files:      runtime/optwin.vim

Patch 7.4.1807
Problem:    Test_out_close_cb sometimes fails.
Solution:   Always write DETACH to out, not err.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1808 (after 7.4.1806)
Problem:    Using wrong feature name to check for <A HREF="options.html#'termguicolors'">'termguicolors'</A>.
Solution:   Use the right feature name. (Ken Takata)
Files:      runtime/optwin.vim

Patch 7.4.1809 (after 7.4.1808)
Problem:    Using wrong short option name for <A HREF="options.html#'termguicolors'">'termguicolors'</A>.
Solution:   Use the option name.
Files:      runtime/optwin.vim

Patch 7.4.1810
Problem:    Sending DETACH after a <A HREF="channel.html#channel">channel</A> was closed isn't useful.
Solution:   Only add DETACH for a <A HREF="netbeans.html#netbeans">netbeans</A> <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1811
Problem:    Netbeans <A HREF="channel.html#channel">channel</A> gets garbage collected.
Solution:   Set reference in nb_channel.
Files:      src/eval.c, src/netbeans.c, src/proto/netbeans.pro

Patch 7.4.1812
Problem:    Failure on <A HREF="starting.html#startup">startup</A> with <A HREF="gui_x11.html#Athena">Athena</A> and <A HREF="gui_x11.html#Motif">Motif</A>.
Solution:   Check for INVALCOLOR. (Kazunobu Kuriyama)
Files:      src/syntax.c, src/vim.h

Patch 7.4.1813
Problem:    Memory access error when running test_quickfix.
Solution:   Allocate one more byte. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 7.4.1814
Problem:    A <A HREF="channel.html#channel">channel</A> may be garbage collected while it's still being used by
            a <A HREF="channel.html#job">job</A>. (James McCoy)
Solution:   <A HREF="motion.html#Mark">Mark</A> the <A HREF="channel.html#channel">channel</A> <A HREF="motion.html#as">as</A> used if the <A HREF="channel.html#job">job</A> is still used.  Do the same
            for channels that are still used.
Files:      src/eval.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1815
Problem:    Compiler warnings for unused <A HREF="eval.html#variables">variables</A>. (Ajit Thakkar)
Solution:   Add a dummy <A HREF="starting.html#initialization">initialization</A>. (Yasuhiro Matsumoto)
Files:      src/quickfix.c

Patch 7.4.1816
Problem:    Looping over a null <A HREF="eval.html#list">list</A> throws an error.
Solution:   Skip over the for loop.
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1817
Problem:    The screen is not updated if a callback is invoked when closing a
            <A HREF="channel.html#channel">channel</A>.
Solution:   Invoke redraw_after_callback().
Files:      src/channel.c

Patch 7.4.1818
Problem:    Help completion adds @en to all matches except the first one.
Solution:   Remove &quot;break&quot;, go over all items.
Files:      src/ex_getln.c

Patch 7.4.1819
Problem:    Compiler warnings when sprintf() is a <A HREF="map.html#macro">macro</A>.
Solution:   Don't interrupt sprintf() with an #ifdef. (Michael Jarvis,
            closes #788)
Files:      src/fileio.c, src/tag.c, src/term.c

Patch 7.4.1820
Problem:    Removing language from help <A HREF="tagsrch.html#tags">tags</A> too often.
Solution:   Only remove @en when not needed. (Hirohito Higashi)
Files:      src/ex_getln.c, src/testdir/test_help_tagjump.vim

Patch 7.4.1821 (after 7.4.1820)
Problem:    Test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Sort the completion results.
Files:      src/testdir/test_help_tagjump.vim

Patch 7.4.1822
Problem:    Redirecting stdout of a <A HREF="channel.html#channel">channel</A> to &quot;null&quot; doesn't work. (Nicola)
Solution:   Correct the file descriptor number.
Files:      src/os_unix.c

Patch 7.4.1823
Problem:    Warning from 64 bit compiler.
Solution:   Add type cast. (Mike Williams)
Files:      src/quickfix.c

Patch 7.4.1824
Problem:    When a <A HREF="channel.html#job">job</A> is no longer referenced and does not have an exit
            callback the process may hang around in defunct state. (Nicola)
Solution:   Call <A HREF="eval.html#job_status()">job_status()</A> if the <A HREF="channel.html#job">job</A> is running and won't get freed
            because <A HREF="motion.html#it">it</A> might still be useful.
Files:      src/channel.c

Patch 7.4.1825
Problem:    When <A HREF="channel.html#job">job</A> writes to buffer nothing is written. (Nicola)
Solution:   Do not <A HREF="editing.html#discard">discard</A> a <A HREF="channel.html#channel">channel</A> before <A HREF="editing.html#writing">writing</A> is done.
Files:      src/channel.c

Patch 7.4.1826
Problem:    Callbacks are invoked when it's not safe. (Andrew Stewart)
Solution:   When a <A HREF="channel.html#channel">channel</A> is to be closed don't invoke callbacks right away,
            wait for a safe moment.
Files:      src/structs.h, src/channel.c

Patch 7.4.1827
Problem:    No error when invoking a callback when it's not safe.
Solution:   Add an error message.  Avoid the error when freeing a <A HREF="channel.html#channel">channel</A>.
Files:      src/structs.h, src/channel.c

Patch 7.4.1828
Problem:    May try to access buffer that's already freed.
Solution:   When freeing a buffer remove <A HREF="motion.html#it">it</A> from any <A HREF="channel.html#channel">channel</A>.
Files:      src/buffer.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1829 (after 7.4.1828)
Problem:    No message on <A HREF="channel.html#channel">channel</A> log when buffer was freed.
Solution:   Log a message.
Files:      src/channel.c

Patch 7.4.1830
Problem:    non-antialiased misnamed.
Solution:   Use NONANTIALIASED and NONANTIALIASED_QUALITY. (Kim Brouer,
            closes #793)
Files:      src/os_mswin.c, runtime/doc/options.txt

Patch 7.4.1831
Problem:    When <A HREF="eval.html#timer_stop()">timer_stop()</A> is called with a <A HREF="eval.html#string">string</A> there is no proper error
            message.
Solution:   Require getting a number. (Bjorn Linse)
Files:      src/eval.c

Patch 7.4.1832
Problem:    Memory leak in debug commands.
Solution:   Free memory before overwriting the pointer. (hint by Justin Keyes)
Files:      src/ex_cmds2.c

Patch 7.4.1833
Problem:    Cannot use an <A HREF="intro.html#Ex">Ex</A> command for <A HREF="options.html#'keywordprg'">'keywordprg'</A>.
Solution:   Accept an <A HREF="intro.html#Ex">Ex</A> command. (Nelo-Thara Wallus)
Files:      src/normal.c, runtime/doc/options.txt

Patch 7.4.1834
Problem:    Possible crash when <A HREF="syntax.html#conceal">conceal</A> is active.
Solution:   Check for the screen to be valid when redrawing a line.
Files:      src/screen.c

Patch 7.4.1835
Problem:    When splitting and closing a <A HREF="windows.html#window">window</A> the status height changes.
Solution:   Compute the frame height correctly. (Hirohito Higashi)
Files:      src/window.c, src/testdir/test_alot.vim,
            src/testdir/test_window_cmd.vim

Patch 7.4.1836
Problem:    When using a partial on a dictionary <A HREF="motion.html#it">it</A> always gets bound to that
            dictionary.
Solution:   Make a difference between binding a function to a dictionary
            explicitly or automatically.
Files:      src/structs.h, src/eval.c, src/testdir/test_partial.vim,
            runtime/doc/eval.txt

Patch 7.4.1837
Problem:    The <A HREF="autocmd.html#BufUnload">BufUnload</A> event is triggered <A HREF="if_cscop.html#twice">twice</A>, when <A HREF="windows.html#:bunload">:bunload</A> is used with
            `bufhidden` set to `unload` or `delete`.
Solution:   Do not trigger the event when ml_mfp is NULL. (Hirohito Higashi)
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 7.4.1838
Problem:    Functions specifically for <A HREF="eval.html#testing">testing</A> <A HREF="diff.html#do">do</A> not sort together.
Solution:   Rename garbagecollect_for_testing() to <A HREF="eval.html#test_garbagecollect_now()">test_garbagecollect_now()</A>.
            Add <A HREF="eval.html#test_null_list()">test_null_list()</A>, <A HREF="eval.html#test_null_dict()">test_null_dict()</A>, etc.
Files:      src/eval.c, src/testdir/test_expr.vim,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 7.4.1839
Problem:    Cannot get the items stored in a partial.
Solution:   Support using <A HREF="eval.html#get()">get()</A> on a partial.
Files:      src/eval.c, src/testdir/test_partial.vim, runtime/doc/eval.txt

Patch 7.4.1840
Problem:    When using <A HREF="repeat.html#packages">packages</A> an &quot;after&quot; directory cannot be used.
Solution:   Add the &quot;after&quot; directory of the package to <A HREF="options.html#'runtimepath'">'runtimepath'</A> if <A HREF="motion.html#it">it</A>
            exists.
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 7.4.1841
Problem:    The code to reallocate the buffer used for <A HREF="quickfix.html#quickfix">quickfix</A> is repeated.
Solution:   Move the code to a function. (Yegappan Lakshmanan, closes #831)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1842 (after 7.4.1839)
Problem:    <A HREF="eval.html#get()">get()</A> works for <A HREF="eval.html#Partial">Partial</A> but not for <A HREF="eval.html#Funcref">Funcref</A>.
Solution:   Accept <A HREF="eval.html#Funcref">Funcref</A>.  Also return the function itself. (Nikolai Pavlov)
Files:      src/eval.c, src/testdir/test_partial.vim, runtime/doc/eval.txt

Patch 7.4.1843
Problem:    Tests involving <A HREF="if_pyth.html#Python">Python</A> are flaky.
Solution:   Set the pt_auto field.  Add tests. (Nikolai Pavlov)
Files:      runtime/doc/if_pyth.txt, src/if_py_both.h, src/testdir/test86.in,
            src/testdir/test86.ok, src/testdir/test87.in,
            src/testdir/test87.ok

Patch 7.4.1844
Problem:    Using old function name in comment.  More <A HREF="eval.html#functions">functions</A> should start
            with test_.
Solution:   Rename function in comment. (Hirohito Higashi) Rename
            disable_char_avail_for_testing() to test_disable_char_avail().
            And alloc_fail() to <A HREF="eval.html#test_alloc_fail()">test_alloc_fail()</A>.
Files:      src/eval.c, src/getchar.c, src/testdir/runtest.vim,
            src/testdir/test_cursor_func.vim, src/testdir/test_quickfix.vim,
            runtime/doc/eval.txt

Patch 7.4.1845
Problem:    Mentioning NetBeans when reading from <A HREF="channel.html#channel">channel</A>. (Ramel Eshed)
Solution:   Make the text more generic.
Files:      src/channel.c

Patch 7.4.1846
Problem:    Ubsan detects a multiplication overflow.
Solution:   Don't use orig_mouse_time when it's zero. (Dominique Pelle)
Files:      src/term.c

Patch 7.4.1847
Problem:    Getting an item from a NULL <A HREF="eval.html#dict">dict</A> crashes.  Setting a <A HREF="sponsor.html#register">register</A> to a
            NULL <A HREF="eval.html#list">list</A> crashes. (Nikolai Pavlov, issue #768)  Comparing a NULL
            <A HREF="eval.html#dict">dict</A> with a NULL <A HREF="eval.html#dict">dict</A> fails.
Solution:   Properly check for NULL.
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 7.4.1848
Problem:    Can't build with Strawberry <A HREF="if_perl.html#Perl">Perl</A> 5.24.
Solution:   Define S_SvREFCNT_dec() if needed. (Damien, Ken Takata)
Files:      src/if_perl.xs

Patch 7.4.1849
Problem:    Still trying to read from <A HREF="channel.html#channel">channel</A> that is going to be closed.
            (Ramel Eshed)
Solution:   Check if ch_to_be_closed is set.
Files:      src/channel.c

Patch 7.4.1850
Problem:    <A HREF="gui.html#GUI">GUI</A> freezes when using a <A HREF="channel.html#job">job</A>. (Shougo Matsu)
Solution:   Unregister the <A HREF="channel.html#channel">channel</A> when there is an input error.
Files:      src/channel.c

Patch 7.4.1851
Problem:    test_syn_attr fails when using the <A HREF="gui.html#GUI">GUI</A>. (Dominique Pelle)
Solution:   Escape the font name properly.
Files:      src/testdir/test_syn_attr.vim

Patch 7.4.1852
Problem:    <A HREF="os_unix.html#Unix">Unix</A>: Cannot run all tests with the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Add the &quot;testgui&quot; target.
Files:      src/Makefile, src/testdir/Makefile

Patch 7.4.1853
Problem:    Crash when <A HREF="channel.html#job">job</A> and <A HREF="channel.html#channel">channel</A> are in the same <A HREF="eval.html#dict">dict</A> while using
            partials. (Luc Hermitte)
Solution:   Do not decrement the <A HREF="channel.html#channel">channel</A> reference <A HREF="intro.html#count">count</A> too early.
Files:      src/channel.c

Patch 7.4.1854
Problem:    When setting <A HREF="options.html#'termguicolors'">'termguicolors'</A> the Ignore highlighting doesn't work.
            (Charles Campbell)
Solution:   Handle the color names &quot;fg&quot; and &quot;bg&quot; when the <A HREF="gui.html#GUI">GUI</A> isn't running
            and no colors are specified, fall back to black and white.
Files:      src/syntax.c

Patch 7.4.1855
Problem:    Valgrind reports memory leak for <A HREF="channel.html#job">job</A> that is not freed.
Solution:   Free all jobs on exit.  Add test for failing <A HREF="channel.html#job">job</A>.
Files:      src/channel.c, src/misc2.c, src/proto/channel.pro,
            src/testdir/test_partial.vim

Patch 7.4.1856 (after 7.4.1855)
Problem:    failing <A HREF="channel.html#job">job</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Expect &quot;fail&quot; status instead of &quot;dead&quot;.
Files:      src/testdir/test_partial.vim

Patch 7.4.1857
Problem:    When a <A HREF="channel.html#channel">channel</A> appends to a buffer that is <A HREF="options.html#'nomodifiable'">'nomodifiable'</A> there is
            an error but appending is done anyway.
Solution:   Add the <A HREF="options.html#'modifiable'">'modifiable'</A> option.  Refuse to write to a <A HREF="options.html#'nomodifiable'">'nomodifiable'</A>
            when the value is 1.
Files:      src/structs.h, src/channel.c, src/testdir/test_channel.vim,
            runtime/doc/channel.txt

Patch 7.4.1858
Problem:    When a <A HREF="channel.html#channel">channel</A> writes to a buffer <A HREF="motion.html#it">it</A> doesn't find a buffer by the
            short name but re-uses <A HREF="motion.html#it">it</A> anyway.
Solution:   Find buffer also by the short name.
Files:      src/channel.c, src/buffer.c, src/vim.h

Patch 7.4.1859
Problem:    Cannot use a function reference for &quot;exit_cb&quot;.
Solution:   Use get_callback(). (Yegappan Lakshmanan)
Files:      src/channel.c, src/structs.h

Patch 7.4.1860
Problem:    Using a partial for <A HREF="eval.html#timer_start()">timer_start()</A> may cause a crash.
Solution:   Set the copyID in <A HREF="eval.html#timer">timer</A> <A HREF="index.html#objects">objects</A>. (Ozaki Kiichi)
Files:      src/testdir/test_timers.vim, src/eval.c, src/ex_cmds2.c,
            src/proto/ex_cmds2.pro

Patch 7.4.1861
Problem:    Compiler warnings with 64 bit compiler.
Solution:   Change int to size_t. (Mike Williams)
Files:      src/ex_cmds2.c

Patch 7.4.1862
Problem:    <A HREF="eval.html#string()">string()</A> with repeated argument does not give a result usable by
            <A HREF="eval.html#eval()">eval()</A>.
Solution:   Refactor echo_string and tv2string(), moving the common part to
            echo_string_core(). (Ken Takata)
Files:      src/eval.c, src/testdir/test_viml.vim, src/testdir/test86.ok,
            src/testdir/test87.ok

Patch 7.4.1863
Problem:    Compiler warnings on Win64.
Solution:   Adjust types, add type casts. (Ken Takata)
Files:      src/if_mzsch.c, src/if_perl.xs, src/if_ruby.c, src/version.c

Patch 7.4.1864
Problem:    <A HREF="if_pyth.html#Python">Python</A>: encoding error with <A HREF="if_pyth.html#Python">Python</A> 2.
Solution:   Use &quot;getcwdu&quot; instead of &quot;getcwd&quot;. (Ken Takata)
Files:      src/if_py_both.h

Patch 7.4.1865
Problem:    Memory leaks in test49. (Dominique Pelle)
Solution:   Use NULL instead of an empty <A HREF="eval.html#string">string</A>.
Files:      src/eval.c

Patch 7.4.1866
Problem:    Invalid memory access when <A HREF="starting.html#exiting">exiting</A> with EXITFREE defined.
            (Dominique Pelle)
Solution:   Set &quot;really_exiting&quot; and skip error <A HREF="message.html#messages">messages</A>.
Files:      src/misc2.c, src/eval.c

Patch 7.4.1867
Problem:    Memory leak in test_matchstrpos.
Solution:   Free the <A HREF="eval.html#string">string</A> before overwriting. (Yegappan Lakshmanan)
Files:      src/eval.c

Patch 7.4.1868
Problem:    Setting really_exiting causes memory leaks to be reported.
Solution:   Add the in_free_all_mem flag.
Files:      src/globals.h, src/misc2.c, src/eval.c

Patch 7.4.1869
Problem:    Can't build with old version of <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Define PERLIO_FUNCS_DECL. (Tom <A HREF="motion.html#G">G</A>. Christensen)
Files:      src/if_perl.xs

Patch 7.4.1870 (after 7.4.1863)
Problem:    One more Win64 compiler warning.
Solution:   Change declared argument type. (Ken Takata)
Files:      src/if_mzsch.c

Patch 7.4.1871
Problem:    Appending to the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> while the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> is open
            is very slow.
Solution:   Do not delete all the lines, only append the new ones.  Avoid
            using a <A HREF="windows.html#window">window</A> while updating the <A HREF="eval.html#list">list</A>. (closes #841)
Files:      src/quickfix.c

Patch 7.4.1872
Problem:    Still build problem with old version of <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Also define SvREFCNT_inc_void_NN if needed. (Tom <A HREF="motion.html#G">G</A>. Christensen)
Files:      src/if_perl.xs

Patch 7.4.1873
Problem:    When a callback adds a <A HREF="eval.html#timer">timer</A> the <A HREF="gui.html#GUI">GUI</A> doesn't use <A HREF="motion.html#it">it</A> until later.
            (Ramel Eshed)
Solution:   Return early if a callback adds a <A HREF="eval.html#timer">timer</A>.
Files:      src/ex_cmds2.c, src/gui_gtk_x11.c, src/gui_w32.c, src/gui_x11.c,
            src/globals.h

Patch 7.4.1874
Problem:    Unused variable in <A HREF="os_win32.html#Win32">Win32</A> code.
Solution:   Remove <A HREF="motion.html#it">it</A>. (Mike Williams)
Files:      src/gui_w32.c

Patch 7.4.1875
Problem:    Comparing <A HREF="eval.html#functions">functions</A> and partials doesn't work well.
Solution:   Add tests. (Nikolai Pavlov)  Compare the <A HREF="eval.html#dict">dict</A> and arguments in the
            partial. (closes #813)
Files:      src/eval.c, src/testdir/test_partial.vim

Patch 7.4.1876
Problem:    Typing &quot;<A HREF="motion.html#k">k</A>&quot; at the <A HREF="message.html#hit-enter">hit-enter</A> prompt has no effect.
Solution:   Don't assume recursive use of the prompt if a character was typed.
            (Hirohito Higashi)
Files:      src/message.c

Patch 7.4.1877
Problem:    No test for invoking &quot;<A HREF="channel.html#close_cb">close_cb</A>&quot; when <A HREF="editing.html#writing">writing</A> to a buffer.
Solution:   Add using <A HREF="channel.html#close_cb">close_cb</A> to a test <A HREF="change.html#case">case</A>.
Files:      src/testdir/test_channel.vim

Patch 7.4.1878
Problem:    Whether a <A HREF="channel.html#job">job</A> has exited isn't detected until a character is
            typed.  After calling exit_cb the cursor is in the wrong place.
Solution:   Don't wait forever for a character to be typed when there is a
            pending <A HREF="channel.html#job">job</A>.  Update the screen if needed after calling exit_cb.
Files:      src/os_unix.c, src/channel.c, src/proto/channel.pro

Patch 7.4.1879 (after 7.4.1877)
Problem:    <A HREF="eval.html#Channel">Channel</A> test is flaky.
Solution:   Wait for <A HREF="channel.html#close_cb">close_cb</A> to be invoked.
Files:      src/testdir/test_channel.vim

Patch 7.4.1880
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console build defaults to not having <A HREF="various.html#+channel">+channel</A>.
Solution:   Include the <A HREF="channel.html#channel">channel</A> feature if building with huge features.
Files:      src/Make_mvc.mak

Patch 7.4.1881
Problem:    Appending to a long <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> is slow.
Solution:   Add qf_last.
Files:      src/quickfix.c

Patch 7.4.1882
Problem:    Check for line break at end of line wrong. (Dominique Pelle)
Solution:   Correct the logic.
Files:      src/quickfix.c

Patch 7.4.1883
Problem:    Cppcheck found 2 incorrect printf formats.
Solution:   Use &#37;ld and &#37;lx. (Dominique Pelle)
Files:      src/VisVim/Commands.cpp, src/gui_mac.c

Patch 7.4.1884
Problem:    Updating marks in a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> is very slow when the <A HREF="eval.html#list">list</A> is
            long.
Solution:   Only update marks if the buffer has a <A HREF="quickfix.html#quickfix">quickfix</A> entry.
Files:      src/structs.h, src/quickfix.c

Patch 7.4.1885
Problem:    MinGW console build defaults to not having <A HREF="various.html#+channel">+channel</A>.
Solution:   Include the <A HREF="channel.html#channel">channel</A> feature if building with huge features. (Ken
            Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.1886
Problem:    When waiting for a character is interrupted by receiving <A HREF="channel.html#channel">channel</A>
            data and the first character of a <A HREF="map.html#mapping">mapping</A> was typed, the <A HREF="map.html#mapping">mapping</A>
            times out. (Ramel Eshed)
Solution:   When dealing with <A HREF="channel.html#channel">channel</A> data don't return from mch_inchar().
Files:      src/getchar.c, src/proto/getchar.pro, src/os_unix.c

Patch 7.4.1887
Problem:    When receiving <A HREF="channel.html#channel">channel</A> data <A HREF="options.html#'updatetime'">'updatetime'</A> is not respected.
Solution:   Recompute the waiting time after being interrupted.
Files:      src/os_unix.c

Patch 7.4.1888
Problem:    Wrong computation of remaining wait time in RealWaitForChar()
Solution:   Remember the original waiting time.
Files:      src/os_unix.c

Patch 7.4.1889
Problem:    When umask is set to 0177 Vim can't create temp files. (Lcd)
Solution:   Also correct umask when using mkdtemp().
Files:      src/fileio.c

Patch 7.4.1890
Problem:    <A HREF="gui.html#GUI">GUI</A>: When <A HREF="channel.html#channel">channel</A> data is received the cursor blinking is
            interrupted.  (Ramel Eshed)
Solution:   Don't update the cursor when <A HREF="motion.html#it">it</A> is blinking.
Files:      src/screen.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,
            src/gui_mac.c, src/proto/gui_mac.pro, src/gui_photon.c,
            src/proto/gui_photon.pro, src/gui_w32.c, src/proto/gui_w32.pro,
            src/gui_x11.c, src/proto/gui_x11.pro

Patch 7.4.1891
Problem:    <A HREF="eval.html#Channel">Channel</A> reading very long lines is slow.
Solution:   Collapse multiple <A HREF="windows.html#buffers">buffers</A> until a NL is found.
Files:      src/channel.c, src/netbeans.c, src/proto/channel.pro,
            src/structs.h

Patch 7.4.1892
Problem:    balloon <A HREF="eval.html#eval">eval</A> only gets the <A HREF="windows.html#window">window</A> number, not the ID.
Solution:   Add <A HREF="eval.html#v:beval_winid">v:beval_winid</A>.
Files:      src/eval.c, src/gui_beval.c, src/vim.h

Patch 7.4.1893
Problem:    Cannot easily get the <A HREF="windows.html#window">window</A> ID for a buffer.
Solution:   Add <A HREF="eval.html#bufwinid()">bufwinid()</A>.
Files:      src/eval.c, runtime/doc/eval.txt

Patch 7.4.1894
Problem:    Cannot get the <A HREF="windows.html#window">window</A> ID for a mouse click.
Solution:   Add <A HREF="eval.html#v:mouse_winid">v:mouse_winid</A>.
Files:      src/eval.c, src/vim.h, runtime/doc/eval.txt

Patch 7.4.1895
Problem:    Cannot use a <A HREF="windows.html#window">window</A> ID where a <A HREF="windows.html#window">window</A> number is expected.
Solution:   Add LOWEST_WIN_ID, so that the <A HREF="windows.html#window">window</A> ID can be used where a
            number is expected.
Files:      src/window.c, src/eval.c, src/vim.h, runtime/doc/eval.txt,
            src/testdir/test_window_id.vim

Patch 7.4.1896
Problem:    Invoking mark_adjust() when adding a new line below the last line
            is pointless.
Solution:   Skip calling mark_adjust() when appending below the last line.
Files:      src/misc1.c, src/ops.c

Patch 7.4.1897
Problem:    Various typos, long lines and style mistakes.
Solution:   Fix the typos, wrap lines, improve style.
Files:      src/buffer.c, src/ex_docmd.c, src/getchar.c, src/option.c,
            src/main.aap, src/testdir/README.txt,
            src/testdir/test_reltime.vim, src/testdir/test_tagjump.vim,
            src/INSTALL, src/config.aap.in, src/if_mzsch.c

Patch 7.4.1898
Problem:    <A HREF="autocmd.html#User">User</A> commands don't support modifiers.
Solution:   Add the <A HREF="map.html#&lt;mods&gt;">&lt;mods&gt;</A> item. (Yegappan Lakshmanan, closes #829)
Files:      runtime/doc/map.txt, src/ex_docmd.c, src/testdir/Make_all.mak,
            src/testdir/test_usercommands.vim

Patch 7.4.1899
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> 3: cursor blinking doesn't work well.
Solution:   Instead of gui_gtk_window_clear() use gui_mch_clear_block().
            (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.1900
Problem:    Using <A HREF="tagsrch.html#CTRL-]">CTRL-]</A> in the help on &quot;{address}.&quot; doesn't work.
Solution:   Recognize an item in <A HREF="intro.html#{}">{}</A>. (Hirohito Higashi, closes #814)
Files:      src/ex_cmds.c, src/testdir/test_help_tagjump.vim

Patch 7.4.1901
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: the &quot;Disabled&quot; menu items would appear enabled.
Solution:   Use submenu_id if there is a parent. (Shane Harper, closes #834)
Files:      src/gui_w32.c

Patch 7.4.1902
Problem:    No test for collapsing <A HREF="windows.html#buffers">buffers</A> for a <A HREF="channel.html#channel">channel</A>.  Some text is lost.
Solution:   Add a simple test.  Set rq_buflen correctly.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py

Patch 7.4.1903
Problem:    When <A HREF="editing.html#writing">writing</A> <A HREF="starting.html#viminfo">viminfo</A> merging current <A HREF="cmdline.html#history">history</A> with <A HREF="cmdline.html#history">history</A> in
            <A HREF="starting.html#viminfo">viminfo</A> may drop recent <A HREF="cmdline.html#history">history</A> entries.
Solution:   Add new format for <A HREF="starting.html#viminfo">viminfo</A> lines, use <A HREF="motion.html#it">it</A> for <A HREF="cmdline.html#history">history</A> entries.  Use
            a <A HREF="editing.html#timestamp">timestamp</A> for ordering the entries. Add <A HREF="eval.html#test_settime()">test_settime()</A>.
            Add the <A HREF="starting.html#viminfo">viminfo</A> version.  Does not <A HREF="diff.html#do">do</A> merging on <A HREF="editing.html#timestamp">timestamp</A> yet.
Files:      src/eval.c, src/ex_getln.c, src/ex_cmds.c, src/structs.h,
            src/globals.h, src/proto/ex_cmds.pro, src/proto/ex_getln.pro,
            src/testdir/test_viminfo.vim

Patch 7.4.1904 (after 7.4.1903)
Problem:    Build fails.
Solution:   Add missing changes.
Files:      src/vim.h

Patch 7.4.1905 (after 7.4.1903)
Problem:    Some compilers can't handle a double semicolon.
Solution:   Remove one semicolon.
Files:      src/ex_cmds.c

Patch 7.4.1906
Problem:    Collapsing <A HREF="channel.html#channel">channel</A> <A HREF="windows.html#buffers">buffers</A> and searching for NL does not work
            properly. (Xavier de Gaye, Ramel Eshed)
Solution:   Do not assume the buffer contains a NUL or not.  Change NUL bytes
            to NL to avoid the <A HREF="eval.html#string">string</A> is truncated.
Files:      src/channel.c, src/netbeans.c, src/proto/channel.pro

Patch 7.4.1907
Problem:    Warnings from 64 bit compiler.
Solution:   Change type to size_t. (Mike Williams)
Files:      src/ex_cmds.c

Patch 7.4.1908
Problem:    Netbeans uses uninitialized pointer and freed memory.
Solution:   Set &quot;buffer&quot; at the right place (hint by Ken Takata)
Files:      src/netbeans.c

Patch 7.4.1909
Problem:    Doubled semicolons.
Solution:   Reduce to one. (Dominique Pelle)
Files:      src/dosinst.c, src/fold.c, src/gui_gtk_x11.c, src/gui_w32.c,
            src/main.c, src/misc2.c

Patch 7.4.1910
Problem:    Tests using external command to delete directory.
Solution:   Use <A HREF="eval.html#delete()">delete()</A>.
Files:      src/testdir/test17.in, src/testdir/test73.in,
            src/testdir/test_getcwd.in

Patch 7.4.1911
Problem:    Recent <A HREF="cmdline.html#history">history</A> lines may be lost when <A HREF="starting.html#exiting">exiting</A> Vim.
Solution:   Merge <A HREF="cmdline.html#history">history</A> using the <A HREF="editing.html#timestamp">timestamp</A>.
Files:      src/ex_getln.c, src/ex_cmds.c, src/vim.h, src/proto/ex_getln.pro,
            src/testdir/test_viminfo.vim

Patch 7.4.1912
Problem:    No test for using <A HREF="eval.html#setqflist()">setqflist()</A> on an older <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Add a couple of tests.
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1913
Problem:    When &quot;<A HREF="autocmd.html#:doautocmd">:doautocmd</A>&quot; is used modelines are used even when no
            <A HREF="autocmd.html#autocommands">autocommands</A> were executed. (Daniel Hahler)
Solution:   Skip processing modelines. (closes #854)
Files:      src/fileio.c, src/ex_cmds.c, src/ex_docmd.c, src/proto/fileio.pro

Patch 7.4.1914
Problem:    Executing <A HREF="autocmd.html#autocommands">autocommands</A> while using the signal stack has a high
            chance of crashing Vim.
Solution:   Don't invoke <A HREF="autocmd.html#autocommands">autocommands</A> when on the signal stack.
Files:      src/os_unix.c

Patch 7.4.1915
Problem:    The effect of the PopupMenu <A HREF="autocmd.html#autocommand">autocommand</A> isn't directly visible.
Solution:   Call gui_update_menus() before displaying the popup menu. (Shane
            Harper, closes #855)
Files:      src/menu.c

Patch 7.4.1916 (after 7.4.1906)
Problem:    No proper test for what 7.4.1906 fixes.
Solution:   Add a test for reading many lines.
Files:      src/testdir/test_channel.vim

Patch 7.4.1917
Problem:    History lines read from <A HREF="starting.html#viminfo">viminfo</A> in different encoding than when
            <A HREF="editing.html#writing">writing</A> are not converted.
Solution:   Convert the <A HREF="cmdline.html#history">history</A> lines.
Files:      src/ex_cmds.c, src/testdir/test_viminfo.vim

Patch 7.4.1918
Problem:    Not enough <A HREF="eval.html#testing">testing</A> for parsing <A HREF="starting.html#viminfo">viminfo</A> lines.
Solution:   Add test with <A HREF="starting.html#viminfo">viminfo</A> lines in bad <A HREF="syntax.html#syntax">syntax</A>.  Fix memory leak.
Files:      src/ex_cmds.c, src/ex_getln.c, src/testdir/test_viminfo.vim

Patch 7.4.1919
Problem:    Register contents is not merged when <A HREF="editing.html#writing">writing</A> <A HREF="starting.html#viminfo">viminfo</A>.
Solution:   Use <A HREF="editing.html#timestamps">timestamps</A> for <A HREF="sponsor.html#register">register</A> contents.
Files:      src/ops.c, src/ex_getln.c, src/ex_cmds.c, src/proto/ex_cmds.pro,
            src/proto/ex_getln.pro, src/proto/ops.pro, src/vim.h

Patch 7.4.1920 (after 7.4.1919)
Problem:    Missing test changes.
Solution:   Update <A HREF="starting.html#viminfo">viminfo</A> test.
Files:      src/testdir/test_viminfo.vim

Patch 7.4.1921 (after 7.4.1919)
Problem:    vim_time() not included when needed.
Solution:   Adjust #ifdef.
Files:      src/ex_cmds.c

Patch 7.4.1922
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> 2.4.0 unifies Fixnum and Bignum into Integer.
Solution:   Use rb_cInteger. (Weiyong Mao)
Files:      src/if_ruby.c

Patch 7.4.1923
Problem:    Command line editing is not tested much.
Solution:   Add tests for expanding the file name and <A HREF="options.html#'wildmenu'">'wildmenu'</A>.
Files:      src/testdir/test_cmdline.vim, src/testdir/Make_all.mak

Patch 7.4.1924
Problem:    Missing &quot;void&quot; for <A HREF="eval.html#functions">functions</A> without argument.
Solution:   Add &quot;void&quot;. (Hirohito Higashi)
Files:      src/channel.c, src/edit.c, src/ex_cmds2.c, src/ops.c, src/screen.c

Patch 7.4.1925
Problem:    Viminfo does not <A HREF="diff.html#merge">merge</A> file marks properly.
Solution:   Use a <A HREF="editing.html#timestamp">timestamp</A>.  Add the <A HREF="motion.html#:clearjumps">:clearjumps</A> command.
Files:      src/mark.c, src/ex_cmds.c, src/ex_docmd.c, src/proto/mark.pro,
            src/structs.h, src/vim.h, src/ex_cmds.h,
            src/testdir/test_viminfo.vim

Patch 7.4.1926
Problem:    Possible crash with many <A HREF="cmdline.html#history">history</A> items.
Solution:   Avoid the index going past the last item.
Files:      src/ex_getln.c

Patch 7.4.1927
Problem:    Compiler warning for signed/unsigned.
Solution:   Add type cast.
Files:      src/if_mzsch.c

Patch 7.4.1928
Problem:    Overwriting pointer argument.
Solution:   Assign to what <A HREF="motion.html#it">it</A> points to. (Dominique Pelle)
Files:      src/fileio.c

Patch 7.4.1929
Problem:    Inconsistent indenting and weird name.
Solution:   Fix indent, make name all upper <A HREF="change.html#case">case</A>. (Ken Takata)
Files:      src/if_ruby.c

Patch 7.4.1930
Problem:    Can't build without +spell but with <A HREF="various.html#+quickfix">+quickfix</A>. (Charles)
Solution:   Add better #ifdef around ml_append_buf(). (closes #864)
Files:      src/memline.c

Patch 7.4.1931
Problem:    Using both old and new style file <A HREF="motion.html#mark">mark</A> lines from <A HREF="starting.html#viminfo">viminfo</A>.
Solution:   Skip the old style lines if the <A HREF="starting.html#viminfo">viminfo</A> file was written with a
            Vim version that supports the new style.
Files:      src/ex_cmds.c

Patch 7.4.1932
Problem:    When <A HREF="editing.html#writing">writing</A> <A HREF="starting.html#viminfo">viminfo</A> the <A HREF="motion.html#jumplist">jumplist</A> is not merged with the one in
            the <A HREF="starting.html#viminfo">viminfo</A> file.
Solution:   Merge based on <A HREF="editing.html#timestamp">timestamp</A>.
Files:      src/mark.c, src/testdir/test_viminfo.vim

Patch 7.4.1933
Problem:    Compiler warning about uninitialized variable. (Yegappan)
Solution:   Give <A HREF="motion.html#it">it</A> a dummy value.
Files:      src/ex_getln.c

Patch 7.4.1934
Problem:    New style tests not executed with MinGW compiler.
Solution:   Add new style test support. (Yegappan Lakshmanan)
Files:      src/testdir/Make_ming.mak

Patch 7.4.1935
Problem:    When using the <A HREF="gui.html#GUI">GUI</A> search/replace a second match right after the
            replacement is skipped.
Solution:   Add the SEARCH_START flag. (Mleddy)
Files:      src/gui.c

Patch 7.4.1936
Problem:    Off-by-one error in bounds check. (Coverity)
Solution:   Check <A HREF="sponsor.html#register">register</A> number properly.
Files:      src/ops.c

Patch 7.4.1937
Problem:    No test for directory stack in <A HREF="quickfix.html#quickfix">quickfix</A>.
Solution:   Add a test. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1938
Problem:    When <A HREF="editing.html#writing">writing</A> <A HREF="starting.html#viminfo">viminfo</A> numbered marks were duplicated.
Solution:   Check for duplicates between current numbered marks and the ones
            read from <A HREF="starting.html#viminfo">viminfo</A>.
Files:      src/mark.c

Patch 7.4.1939
Problem:    Memory access error when reading <A HREF="starting.html#viminfo">viminfo</A>. (Dominique Pelle)
Solution:   Correct index in <A HREF="motion.html#jumplist">jumplist</A> when at the end.
Files:      src/mark.c, src/testdir/test_viminfo.vim

Patch 7.4.1940
Problem:    &quot;<A HREF="pattern.html#gd">gd</A>&quot; hangs in some situations. (Eric Biggers)
Solution:   Remove the SEARCH_START flag when looping.  Add a test.
Files:      src/normal.c, src/testdir/test_goto.vim

Patch 7.4.1941
Problem:    Not all <A HREF="quickfix.html#quickfix">quickfix</A> tests are also done with the location lists.
Solution:   Test more <A HREF="quickfix.html#quickfix">quickfix</A> code.  Use user commands instead of &quot;exe&quot;.
            (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1942
Problem:    Background is not drawn properly when <A HREF="options.html#'termguicolors'">'termguicolors'</A> is set.
Solution:   Check cterm_normal_bg_color. (Jacob Niehus, closes #805)
Files:      src/screen.c

Patch 7.4.1943
Problem:    Coverity warns for unreachable code.
Solution:   Remove the code that won't <A HREF="diff.html#do">do</A> anything.
Files:      src/mark.c

Patch 7.4.1944
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: Cannot compile with XPM feature using VC2015
Solution:   Add XPM libraries compiled with VC2015, and enable to build
            gvim.exe which supports XPM using VC2015. (Ken Takata)
Files:      src/Make_mvc.mak, src/xpm/x64/lib-vc14/libXpm.lib,
            src/xpm/x86/lib-vc14/libXpm.lib

Patch 7.4.1945
Problem:    The Man <A HREF="usr_05.html#plugin">plugin</A> doesn't work that well.
Solution:   Use &quot;g:ft_man_open_mode&quot; to be able open man pages in vert split
            or separate <A HREF="intro.html#tab">tab</A>. Set nomodifiable for buffer with man content. Add
            a test. (Andrey Starodubtsev, closes #873)
Files:      runtime/ftplugin/man.vim, src/testdir/test_man.vim,
            src/testdir/Make_all.mak

Patch 7.4.1946 (after 7.4.1944)
Problem:    File <A HREF="eval.html#list">list</A> does not include new XPM libraries.
Solution:   Add the file <A HREF="eval.html#list">list</A> entries.
Files:      Filelist

Patch 7.4.1947
Problem:    Viminfo continuation line with wrong length isn't skipped. (Marius
            Gedminas)
Solution:   Skip a line when encountering an error, but not two lines.
Files:      src/ex_cmds.c

Patch 7.4.1948
Problem:    Using Ctrl-A with double-byte encoding may result in garbled text.
Solution:   Skip to the start of a character. (Hirohito Higashi)
Files:      src/ops.c

Patch 7.4.1949
Problem:    Minor problems with the <A HREF="quickfix.html#quickfix">quickfix</A> code.
Solution:   Fix the problems. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1950
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> long lines test not executed for buffer.
Solution:   Call the function to test long lines. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1951
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> test is old style.
Solution:   Convert to a new style test. (Ken Takata)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_ruby.in,
            src/testdir/test_ruby.ok, src/testdir/test_ruby.vim

Patch 7.4.1952
Problem:    <A HREF="if_cscop.html#Cscope">Cscope</A> interface does not support finding assignments.
Solution:   Add the &quot;<A HREF="insert.html#a">a</A>&quot; command. (ppettina, closes #882)
Files:      runtime/doc/if_cscop.txt, src/if_cscope.c

Patch 7.4.1953
Problem:    Not all parts of the <A HREF="quickfix.html#quickfix">quickfix</A> code are tested.
Solution:   Add more tests. (Yegappan Lakshmanan)
Files:      src/testdir/samples/quickfix.txt,
            src/testdir/test_quickfix.vim

Patch 7.4.1954 (after 7.4.1948)
Problem:    No test for what 7.4.1948 fixes.
Solution:   Add a test. (Hirohito Higashi, closes #880)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_increment_dbcs.vim

Patch 7.4.1955
Problem:    Using 32-bit <A HREF="if_perl.html#Perl">Perl</A> with 64-bit time_t causes memory corruption.
            (Christian Brabandt)
Solution:   Use time_T instead of time_t for global <A HREF="eval.html#variables">variables</A>. (Ken Takata)
Files:      src/ex_cmds.c, src/globals.h, src/misc2.c, src/proto/ex_cmds.pro,
            src/proto/misc2.pro, src/structs.h, src/vim.h

Patch 7.4.1956
Problem:    When using <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="motion.html#f">f</A> and pressing &quot;<A HREF="repeat.html#q">q</A>&quot; at the <A HREF="usr_11.html#ATTENTION">ATTENTION</A> <A HREF="gui_w32.html#dialog">dialog</A> the
            newly opened <A HREF="windows.html#window">window</A> is not closed.
Solution:   Close the <A HREF="windows.html#window">window</A> and go back to the original one. (Norio Takagi,
            Hirohito Higashi)
Files:      src/window.c, src/testdir/test_window_cmd.vim

Patch 7.4.1957
Problem:    <A HREF="if_perl.html#Perl">Perl</A> interface has obsolete workaround.
Solution:   Remove the workaround added by 7.3.623. (Ken Takata)
Files:      src/if_perl.xs

Patch 7.4.1958
Problem:    <A HREF="if_perl.html#Perl">Perl</A> interface preprocessor statements not nicely indented.
Solution:   Improve the indenting. (Ken Takata)
Files:      src/if_perl.xs

Patch 7.4.1959
Problem:    Crash when running test_channel.vim on Windows.
Solution:   Check for NULL pointer result from FormatMessage(). (Christian
            Brabandt)
Files:      src/channel.c

Patch 7.4.1960
Problem:    <A HREF="mbyte.html#Unicode">Unicode</A> standard 9 was released.
Solution:   Update the character property tables. (Christian Brabandt)
Files:      src/mbyte.c

Patch 7.4.1961
Problem:    When <A HREF="options.html#'insertmode'">'insertmode'</A> is reset while doing completion the popup menu
            remains even though Vim is in <A HREF="intro.html#Normal">Normal</A> mode.
Solution:   Ignore stop_insert_mode when the popup menu is visible.  Don't set
            stop_insert_mode when <A HREF="options.html#'insertmode'">'insertmode'</A> was already off. (Christian
            Brabandt)
Files:      src/edit.c, src/option.c, src/Makefile, src/testdir/test_alot.vim,
            src/testdir/test_popup.vim

Patch 7.4.1962
Problem:    Two test files for increment/decrement.
Solution:   Move the old style test into the new style test. (Hirohito
            Higashi, closes #881)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/main.aap,
            src/testdir/test35.in, src/testdir/test35.ok,
            src/testdir/test_increment.vim

Patch 7.4.1963
Problem:    Running <A HREF="os_win32.html#Win32">Win32</A> Vim in mintty does not work.
Solution:   Detect mintty and give a helpful error message. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/iscygpty.c,
            src/iscygpty.h, src/main.c, Filelist

Patch 7.4.1964
Problem:    The <A HREF="quickfix.html#quickfix">quickfix</A> init function is too big.
Solution:   Factor out parsing <A HREF="options.html#'errorformat'">'errorformat'</A> to a separate function. (Yegappan
            Lakshmanan)
Files:      src/quickfix.c

Patch 7.4.1965
Problem:    When using a <A HREF="channel.html#job">job</A> in raw mode to append to a buffer garbage
            characters are added.
Solution:   Do not replace the trailing NUL with a NL. (Ozaki Kiichi)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.1966
Problem:    Coverity reports a resource leak.
Solution:   Close &quot;fd&quot; also when bailing out.
Files:      src/quickfix.c

Patch 7.4.1967
Problem:    Falling back from <A HREF="pattern.html#NFA">NFA</A> to old <A HREF="pattern.html#regexp">regexp</A> engine does not work properly.
            (fritzophrenic)
Solution:   Do not restore nfa_match. (Christian Brabandt, closes #867)
Files:      src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok

Patch 7.4.1968
Problem:    Invalid memory access with &quot;\&lt;C-&quot;&gt;.
Solution:   Do not recognize this <A HREF="motion.html#as">as</A> a special character. (Dominique Pelle)
Files:      src/misc2.c, src/testdir/test_expr.vim

Patch 7.4.1969
Problem:    When the <A HREF="netbeans.html#netbeans">netbeans</A> <A HREF="channel.html#channel">channel</A> is closed consuming the buffer may cause
            a crash.
Solution:   Check for nb_channel not to be NULL. (Xavier de Gaye)
Files:      src/netbeans.c

Patch 7.4.1970
Problem:    Using &quot;<A HREF="insert.html#:insert">:insert</A>&quot; in an empty buffer sets the jump <A HREF="motion.html#mark">mark</A>. (Ingo
            Karkat)
Solution:   Don't adjust marks when <A HREF="change.html#replacing">replacing</A> the empty line in an empty
            buffer. (closes #892)
Files:      src/ex_cmds.c, src/testdir/test_jumps.vim,
            src/testdir/test_alot.vim

Patch 7.4.1971
Problem:    It is not <A HREF="starting.html#easy">easy</A> to see unrecognized error lines below the current
            error position.
Solution:   Add &quot;<A HREF="quickfix.html#:clist">:clist</A> +count&quot;.
Files:      src/quickfix.c, runtime/doc/quickfix.txt

Patch 7.4.1972
Problem:    On Solaris select() does not work <A HREF="motion.html#as">as</A> expected when there is
            typeahead.
Solution:   Add ICANON when sleeping. (Ozaki Kiichi)
Files:      src/os_unix.c

Patch 7.4.1973
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> the package directory may be added at the end
            because of forward/backward slash differences. (Matthew
            Desjardins)
Solution:   Ignore slash differences.
Files:      src/ex_cmds2.c

Patch 7.4.1974
Problem:    <A HREF="gui.html#GUI">GUI</A> has a problem with some termcodes.
Solution:   Handle negative numbers. (Kazunobu Kuriyama)
Files:      src/gui.c

Patch 7.4.1975
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> large files (&gt; 2Gbyte) cause problems.
Solution:   Use &quot;off_T&quot; instead of &quot;off_t&quot;.  Use &quot;stat_T&quot; instead of &quot;struct
            stat&quot;.  Use 64 bit system <A HREF="eval.html#functions">functions</A> if available.  (Ken Takata)
Files:      src/Makefile, src/buffer.c, src/diff.c, src/eval.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/fileio.c, src/gui.c, src/gui_at_fs.c,
            src/if_cscope.c, src/main.c, src/memfile.c, src/memline.c,
            src/misc1.c, src/misc2.c, src/netbeans.c, src/os_mswin.c,
            src/os_win32.c, src/proto/fileio.pro, src/proto/memline.pro,
            src/proto/os_mswin.pro, src/pty.c, src/quickfix.c, src/spell.c,
            src/structs.h, src/tag.c, src/testdir/Make_all.mak,
            src/testdir/test_largefile.vim, src/testdir/test_stat.vim,
            src/undo.c, src/vim.h

Patch 7.4.1976
Problem:    <A HREF="eval.html#Number">Number</A> <A HREF="eval.html#variables">variables</A> are not 64 bits while they could be.
Solution:   Add the num64 feature. (Ken Takata, Yasuhiro Matsumoto)
Files:      runtime/doc/eval.txt, runtime/doc/various.txt,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/charset.c,
            src/eval.c, src/ex_cmds.c, src/ex_getln.c, src/feature.h,
            src/fileio.c, src/fold.c, src/json.c, src/message.c, src/misc1.c,
            src/misc2.c, src/ops.c, src/option.c, src/proto/charset.pro,
            src/proto/eval.pro, src/quickfix.c, src/structs.h,
            src/testdir/test_viml.vim, src/version.c

Patch 7.4.1977
Problem:    With 64 bit changes don't need three calls to sprintf().
Solution:   Simplify the code, use vim_snprintf(). (Ken Takata)
Files:      src/fileio.c

Patch 7.4.1978 (after 7.4.1975)
Problem:    Large file test does not delete its output.
Solution:   Delete the output. Check size properly when possible. (Ken Takata)
Files:      src/testdir/test_largefile.vim

Patch 7.4.1979 (after 7.4.1976)
Problem:    Getting value of binary option is wrong. (Kent Sibilev)
Solution:   Fix type cast.  Add a test.
Files:      src/option.c, src/testdir/test_expr.vim

Patch 7.4.1980
Problem:    <A HREF="options.html#'errorformat'">'errorformat'</A> is parsed for every call to &quot;<A HREF="quickfix.html#:caddexpr">:caddexpr</A>&quot;.  Can't add
            to two location lists asynchronously.
Solution:   Keep the previously parsed data when appropriate. (mostly by
            Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.1981
Problem:    No <A HREF="eval.html#testing">testing</A> for <A HREF="farsi.html#Farsi">Farsi</A> code.
Solution:   Add a minimal test.  Clean up <A HREF="farsi.html#Farsi">Farsi</A> code.
Files:      src/farsi.c, src/Makefile, src/charset.c, src/normal.c,
            src/proto/main.pro, src/testdir/Make_all.mak,
            src/testdir/test_farsi.vim

Patch 7.4.1982
Problem:    Viminfo file contains duplicate change marks.
Solution:   Drop duplicate marks.
Files:      src/mark.c

Patch 7.4.1983
Problem:    farsi.c and arabic.c are included in a strange way.
Solution:   Build them like other files.
Files:      src/main.c, src/farsi.c, src/arabic.c, src/proto.h,
            src/proto/main.pro, src/proto/farsi.pro, src/proto/arabic.pro,
            src/Makefile, src/Make_bc5.mak, src/Make_cyg_ming.mak,
            src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,
            src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,
            Filelist

Patch 7.4.1984
Problem:    Not all <A HREF="quickfix.html#quickfix">quickfix</A> features are tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.1985 (after 7.4.1983)
Problem:    Missing changes in <A HREF="os_vms.html#VMS">VMS</A> build file.
Solution:   Use the right file name.
Files:      src/Make_vms.mms

Patch 7.4.1986
Problem:    Compiler warns for loss of data.
Solution:   Use size_t instead of int. (Christian Brabandt)
Files:      src/ex_cmds2.c

Patch 7.4.1987
Problem:    When <A HREF="uganda.html#copying">copying</A> unrecognized lines for <A HREF="starting.html#viminfo">viminfo</A>, end up with useless
            continuation lines.
Solution:   Skip continuation lines.
Files:      src/ex_cmds.c

Patch 7.4.1988
Problem:    When updating <A HREF="starting.html#viminfo">viminfo</A> with file marks there is no time order.
Solution:   Remember the time when a buffer was last used, store marks for
            the most recently used <A HREF="windows.html#buffers">buffers</A>.
Files:      src/buffer.c, src/structs.h, src/mark.c, src/main.c,
            src/ex_cmds.c, src/proto/mark.pro, src/testdir/test_viminfo.vim

Patch 7.4.1989
Problem:    <A HREF="eval.html#filter()">filter()</A> and <A HREF="eval.html#map()">map()</A> only accept a <A HREF="eval.html#string">string</A> argument.
Solution:   Implement using a <A HREF="eval.html#Funcref">Funcref</A> argument (Yasuhiro Matsumoto, Ken
            Takata)
Files:      runtime/doc/eval.txt, src/Makefile, src/eval.c,
            src/testdir/test_alot.vim, src/testdir/test_filter_map.vim,
            src/testdir/test_partial.vim

Patch 7.4.1990 (after 7.4.1952)
Problem:    <A HREF="if_cscop.html#Cscope">Cscope</A> items are not sorted.
Solution:   Put the new &quot;<A HREF="insert.html#a">a</A>&quot; command first. (Ken Takata)
Files:      src/if_cscope.c

Patch 7.4.1991
Problem:    <A HREF="eval.html#glob()">glob()</A> does not add a symbolic link when there are no <A HREF="editing.html#wildcards">wildcards</A>.
Solution:   Remove the call to mch_getperm().
Files:      src/misc1.c

Patch 7.4.1992
Problem:    Values for true and false can be confusing.
Solution:   Update the documentation.  Add a test.  Make <A HREF="eval.html#v:true">v:true</A> evaluate to
            <A HREF="eval.html#TRUE">TRUE</A> for a <A HREF="eval.html#non-zero-arg">non-zero-arg</A>.
Files:      runtime/doc/eval.txt, src/eval.c, src/Makefile,
            src/testdir/test_true_false.vim, src/testdir/test_alot.vim

Patch 7.4.1993
Problem:    Not all <A HREF="eval.html#TRUE">TRUE</A> and <A HREF="eval.html#FALSE">FALSE</A> arguments are tested.
Solution:   Add a few more tests.
Files:      src/testdir/test_true_false.vim

Patch 7.4.1994 (after 7.4.1993)
Problem:    True-false test fails.
Solution:   Filter the <A HREF="eval.html#dict">dict</A> to only keep the value that matters.
Files:      src/testdir/test_true_false.vim

Patch 7.4.1995
Problem:    <A HREF="gui.html#GUI">GUI</A>: cursor drawn in wrong place if a <A HREF="eval.html#timer">timer</A> callback causes a
            screen update. (David Samvelyan)
Solution:   Also redraw the cursor when it's blinking and on.
Files:      src/gui_gtk_x11.c, src/gui_mac.c, src/gui_photon.c, src/gui_w32.c,
            src/gui_x11.c, src/screen.c, src/proto/gui_gtk_x11.pro,
            src/proto/gui_mac.pro, src/proto/gui_photon.pro,
            src/proto/gui_w32.pro, src/proto/gui_x11.pro

Patch 7.4.1996
Problem:    Capturing the output of a command takes a few commands.
Solution:   Add evalcmd().
Files:      src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,
            src/Makefile, src/testdir/test_evalcmd.vim

Patch 7.4.1997
Problem:    Cannot easily scroll the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>.
Solution:   Add &quot;<A HREF="quickfix.html#:cbottom">:cbottom</A>&quot;.
Files:      src/ex_cmds.h, src/quickfix.c, src/proto/quickfix.pro,
            src/ex_docmd.c, src/testdir/test_quickfix.vim,
            runtime/doc/quickfix.txt

Patch 7.4.1998
Problem:    When <A HREF="editing.html#writing">writing</A> buffer lines to a <A HREF="channel.html#job">job</A> there is no NL to NUL
            conversion.
Solution:   Make <A HREF="motion.html#it">it</A> work symmetrical with <A HREF="editing.html#writing">writing</A> lines from a <A HREF="channel.html#job">job</A> into a
            buffer.
Files:      src/channel.c, src/proto/channel.pro, src/netbeans.c

Patch 7.4.1999
Problem:    evalcmd() doesn't work recursively.
Solution:   Use redir_evalcmd instead of redir_vname.
Files:      src/message.c, src/eval.c, src/globals.h, src/proto/eval.pro,
            src/testdir/test_evalcmd.vim

Patch 7.4.2000 (after 7.4.1999)
Problem:    Evalcmd test fails.
Solution:   Add missing piece.
Files:      src/ex_docmd.c

Patch 7.4.2001 (after 7.4.2000)
Problem:    Tiny build fails. (Tony Mechelynck)
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 7.4.2002
Problem:    Crash when passing number to <A HREF="eval.html#filter()">filter()</A> or <A HREF="eval.html#map()">map()</A>.
Solution:   Convert to a <A HREF="eval.html#string">string</A>. (Ozaki Kiichi)
Files:      src/eval.c, src/testdir/test_filter_map.vim

Patch 7.4.2003
Problem:    Still cursor flickering when a callback updates the screen. (David
            Samvelyan)
Solution:   Put the cursor in the right position after updating the screen.
Files:      src/screen.c

Patch 7.4.2004
Problem:    <A HREF="gui.html#GUI">GUI</A>: cursor displayed in the wrong position.
Solution:   Correct screen_cur_col and screen_cur_row.
Files:      src/screen.c

Patch 7.4.2005
Problem:    After using evalcmd() message output is in the wrong position.
            (Christian Brabandt)
Solution:   Reset msg_col.
Files:      src/eval.c

Patch 7.4.2006
Problem:    Crash when using tabnext in <A HREF="autocmd.html#BufUnload">BufUnload</A> autocmd. (Norio Takagi)
Solution:   First check that the current buffer is the right one. (Hirohito
            Higashi)
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 7.4.2007
Problem:    Running the tests leaves a <A HREF="starting.html#viminfo">viminfo</A> file behind.
Solution:   Make the <A HREF="starting.html#viminfo">viminfo</A> option empty.
Files:      src/testdir/runtest.vim

Patch 7.4.2008
Problem:    evalcmd() has a confusing name.
Solution:   Rename to <A HREF="eval.html#execute()">execute()</A>.  Make silent optional.  Support a <A HREF="eval.html#list">list</A> of
            commands.
Files:      src/eval.c, src/ex_docmd.c, src/message.c, src/globals.h,
            src/proto/eval.pro, src/Makefile, src/testdir/test_evalcmd.vim,
            src/testdir/test_execute_func.vim, src/testdir/test_alot.vim,
            runtime/doc/eval.txt

Patch 7.4.2009 (after 7.4.2008)
Problem:    Messages test fails.
Solution:   Don't set redir_execute before returning.  Add missing version
            number.
Files:      src/eval.c

Patch 7.4.2010
Problem:    There is a <A HREF="quickfix.html#:cbottom">:cbottom</A> command but no <A HREF="quickfix.html#:lbottom">:lbottom</A> command.
Solution:   Add <A HREF="quickfix.html#:lbottom">:lbottom</A>. (Yegappan Lakshmanan)
Files:      runtime/doc/index.txt, runtime/doc/quickfix.txt, src/ex_cmds.h,
            src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.2011
Problem:    It is not <A HREF="starting.html#easy">easy</A> to get a <A HREF="eval.html#list">list</A> of command arguments.
Solution:   Add <A HREF="eval.html#getcompletion()">getcompletion()</A>. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/eval.c, src/ex_docmd.c,
            src/proto/ex_docmd.pro, src/testdir/test_cmdline.vim

Patch 7.4.2012 (after 7.4.2011)
Problem:    Test for <A HREF="eval.html#getcompletion()">getcompletion()</A> does not pass on all systems.
Solution:   Only test what is supported.
Files:      src/testdir/test_cmdline.vim

Patch 7.4.2013
Problem:    Using &quot;noinsert&quot; in <A HREF="options.html#'completeopt'">'completeopt'</A> breaks <A HREF="undo.html#redo">redo</A>.
Solution:   Set compl_curr_match. (Shougo Matsu, closes #874)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 7.4.2014
Problem:    Using &quot;noinsert&quot; in <A HREF="options.html#'completeopt'">'completeopt'</A> does not insert match.
Solution:   Set compl_enter_selects. (Shougo Matsu, closes #875)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 7.4.2015
Problem:    When a file gets a name when <A HREF="editing.html#writing">writing</A> <A HREF="motion.html#it">it</A> <A HREF="options.html#'acd'">'acd'</A> is not effective.
            (Dan Church)
Solution:   Invoke DO_AUTOCHDIR after <A HREF="editing.html#writing">writing</A> the file. (Allen Haim, closes
            #777, closes #803)  Add <A HREF="eval.html#test_autochdir()">test_autochdir()</A> to enable <A HREF="options.html#'acd'">'acd'</A> before
            &quot;starting&quot; is reset.
Files:      src/ex_cmds.c, src/buffer.c, src/eval.c, src/globals.h,
            src/Makefile, src/testdir/test_autochdir.vim,
            src/testdir/Make_all.mak

Patch 7.4.2016
Problem:    Warning from MinGW about _WIN32_WINNT redefined. (John Marriott)
Solution:   First undefine <A HREF="motion.html#it">it</A>. (Ken Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.2017
Problem:    When there are many <A HREF="message.html#errors">errors</A> adding them to the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> takes
            a long time.
Solution:   Add BLN_NOOPT.  Don't call buf_valid() in buf_copy_options().
            Remember the last file name used.  When going through the buffer
            <A HREF="eval.html#list">list</A> start from the end of the <A HREF="eval.html#list">list</A>.  Only call buf_valid() when
            <A HREF="autocmd.html#autocommands">autocommands</A> were executed.
Files:      src/buffer.c, src/option.c, src/quickfix.c, src/vim.h

Patch 7.4.2018
Problem:    buf_valid() can be slow when there are many <A HREF="windows.html#buffers">buffers</A>.
Solution:   Add bufref_valid(), only go through the buffer <A HREF="eval.html#list">list</A> when a buffer
            was freed.
Files:      src/structs.h, src/buffer.c, src/quickfix.c, src/proto/buffer.pro

Patch 7.4.2019
Problem:    When ignoring <A HREF="change.html#case">case</A> utf_fold() may consume a lot of time.
Solution:   Optimize for ASCII.
Files:      src/mbyte.c

Patch 7.4.2020
Problem:    Can't build without <A HREF="various.html#+autocmd">+autocmd</A> feature.
Solution:   Adjust #ifdefs.
Files:      src/buffer.c

Patch 7.4.2021
Problem:    Still too many buf_valid() calls.
Solution:   Make au_new_curbuf a bufref.  Use bufref_valid() in more places.
Files:      src/ex_cmds.c, src/buffer.c, src/globals.h

Patch 7.4.2022
Problem:    Warnings from 64 bit compiler.
Solution:   Add type casts. (Mike Williams)
Files:      src/eval.c

Patch 7.4.2023
Problem:    buflist_findname_stat() may find a dummy buffer.
Solution:   Set the BF_DUMMY flag after loading a dummy buffer.  Start
            finding <A HREF="windows.html#buffers">buffers</A> from the end of the <A HREF="eval.html#list">list</A>.
Files:      src/quickfix.c, src/buffer.c

Patch 7.4.2024
Problem:    More buf_valid() calls can be optimized.
Solution:   Use bufref_valid() instead.
Files:      src/buffer.c, src/ex_cmds.c, src/structs.h, src/channel.c,
            src/diff.c, src/eval.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/ex_getln.c, src/fileio.c, src/main.c, src/misc2.c,
            src/netbeans.c, src/quickfix.c, src/spell.c, src/term.c,
            src/if_py_both.h, src/window.c, src/proto/buffer.pro,
            src/proto/window.pro

Patch 7.4.2025
Problem:    The cursor blinking stops or is irregular when receiving date over
            a <A HREF="channel.html#channel">channel</A> and <A HREF="editing.html#writing">writing</A> <A HREF="motion.html#it">it</A> in a buffer, and when updating the status
            line. (Ramel Eshed)
Solution:   Make <A HREF="motion.html#it">it</A> a bit better by flushing <A HREF="gui.html#GUI">GUI</A> output.  Don't redraw the
            cursor after updating the screen if the blink state is off.
Files:      src/gui_gtk_x11.c, src/screen.c

Patch 7.4.2026
Problem:    Reference counting for callbacks isn't right.
Solution:   Add free_callback(). (Ken Takata)  Fix reference <A HREF="intro.html#count">count</A>.
Files:      src/channel.c, src/eval.c, src/ex_cmds2.c, src/proto/eval.pro

Patch 7.4.2027
Problem:    Can't build with <A HREF="various.html#+eval">+eval</A> but without <A HREF="various.html#+menu">+menu</A>.
Solution:   Add #ifdef. (John Marriott)
Files:      src/eval.c

Patch 7.4.2028
Problem:    cppcheck warns for using index before <A HREF="vi_diff.html#limits">limits</A> check.
Solution:   Swap the expressions. (Dominique Pelle)
Files:      src/mbyte.c

Patch 7.4.2029
Problem:    <A HREF="eval.html#printf()">printf()</A> does not work with 64 bit numbers.
Solution:   use the &quot;<A HREF="motion.html#L">L</A>&quot; length modifier. (Ken Takata)
Files:      src/message.c, src/testdir/test_expr.vim

Patch 7.4.2030
Problem:    ARCH must be set properly when using MinGW.
Solution:   Detect the default value of ARCH from the current compiler. (Ken
            Takata)
Files:      src/Make_cyg_ming.mak

Patch 7.4.2031
Problem:    The list_lbr_utf8 test fails if ~/.vim/syntax/c.vim sets
            <A HREF="options.html#'textwidth'">'textwidth'</A> to a non-zero value. (Oyvind A. Holm)
Solution:   Add a setup.vim file that sets <A HREF="options.html#'runtimepath'">'runtimepath'</A> and <A HREF="options.html#$HOME">$HOME</A> to a safe
            value. (partly by Christian Brabandt, closes #912)
Files:      src/testdir/setup.vim, src/testdir/amiga.vim, src/testdir/dos.vim,
            src/testdir/unix.vim, src/testdir/vms.vim, src/testdir/runtest.vim

Patch 7.4.2032 (after 7.4.2030)
Problem:    Build fails with 64 bit MinGW. (Axel Bender)
Solution:   Handle dash vs. underscore. (Ken Takata, Hirohito Higashi)
Files:      src/Make_cyg_ming.mak

Patch 7.4.2033
Problem:    <A HREF="options.html#'cscopequickfix'">'cscopequickfix'</A> option does not accept new value &quot;<A HREF="insert.html#a">a</A>&quot;.
Solution:   Adjust <A HREF="eval.html#list">list</A> of command characters. (Ken Takata)
Files:      src/option.h, src/Makefile, src/testdir/test_cscope.vim,
            src/testdir/Make_all.mak

Patch 7.4.2034 (after 7.4.2032)
Problem:    Build fails with some version of MinGW. (illusorypan)
Solution:   Recognize mingw32. (Ken Takata, closes #921)
Files:      src/Make_cyg_ming.mak

Patch 7.4.2035
Problem:    On Solaris with ZFS the <A HREF="editing.html#ACL">ACL</A> may get removed.
Solution:   Always restore the <A HREF="editing.html#ACL">ACL</A> for Solaris ZFS. (Danek Duvall)
Files:      src/fileio.c

Patch 7.4.2036
Problem:    Looking up a buffer by number is slow if there are many.
Solution:   Use a hashtab.
Files:      src/structs.h, src/buffer.c

Patch 7.4.2037 (after 7.4.2036)
Problem:    Small build fails.
Solution:   Adjust #ifdefs.
Files:      src/hashtab.c

Patch 7.4.2038 (after 7.4.2036)
Problem:    Small build still fails.
Solution:   Adjust more #ifdefs.
Files:      src/globals.h, src/buffer.c

Patch 7.4.2039
Problem:    The Netbeans integration is not tested.
Solution:   Add a first Netbeans test.
Files:      src/testdir/test_netbeans.vim, src/testdir/test_netbeans.py,
            src/testdir/Make_all.mak, src/Makefile,
            src/testdir/test_channel.vim, src/testdir/shared.vim

Patch 7.4.2040
Problem:    New files missing from <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add new test scripts.
Files:      Filelist

Patch 7.4.2041
Problem:    Netbeans file authentication not tested.
Solution:   Add a test.
Files:      src/testdir/test_netbeans.vim

Patch 7.4.2042
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: display updating is not done properly and can be slow.
Solution:   Use gdk_display_flush() instead of gdk_display_sync(). Don't call
            gdk_window_process_updates().  (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 7.4.2043
Problem:    setbuvfar() causes a screen redraw.
Solution:   Only use aucmd_prepbuf() for <A HREF="options.html#options">options</A>.
Files:      src/eval.c

Patch 7.4.2044
Problem:    <A HREF="eval.html#filter()">filter()</A> and <A HREF="eval.html#map()">map()</A> either require a <A HREF="eval.html#string">string</A> or defining a function.
Solution:   Support <A HREF="eval.html#lambda">lambda</A>, a short way to define a function that evaluates an
            <A HREF="eval.html#expression">expression</A>. (Yasuhiro Matsumoto, Ken Takata)
Files:      runtime/doc/eval.txt, src/eval.c, src/testdir/test_alot.vim,
            src/Makefile, src/testdir/test_channel.vim,
            src/testdir/test_lambda.vim

Patch 7.4.2045
Problem:    Memory leak when using a function callback.
Solution:   Don't save the function name when it's in the partial.
Files:      src/channel.c

Patch 7.4.2046
Problem:    The qf_init_ext() function is too big.
Solution:   Refactor <A HREF="motion.html#it">it</A>. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 7.4.2047
Problem:    Compiler warning for initializing a struct.
Solution:   Initialize in another way. (Anton Lindqvist)
Files:      src/quickfix.c

Patch 7.4.2048
Problem:    There is still code and help for unsupported systems.
Solution:   Remove the code and text. (Hirohito Higashi)
Files:      runtime/doc/eval.txt, runtime/lang/menu_sk_sk.vim,
            runtime/menu.vim, runtime/optwin.vim, src/Make_bc5.mak,
            src/ex_docmd.c, src/feature.h, src/fileio.c, src/globals.h,
            src/main.c, src/memfile.c, src/memline.c, src/misc1.c,
            src/misc2.c, src/option.c, src/option.h, src/os_unix.c,
            src/os_unix.h, src/proto.h, src/term.c, src/undo.c, src/version.c,
            src/vim.h, src/xxd/xxd.c

Patch 7.4.2049
Problem:    There is no way to get a <A HREF="eval.html#list">list</A> of the error lists.
Solution:   Add &quot;<A HREF="quickfix.html#:chistory">:chistory</A>&quot; and &quot;<A HREF="quickfix.html#:lhistory">:lhistory</A>&quot;.
Files:      src/ex_cmds.h, src/quickfix.c, src/ex_docmd.c, src/message.c,
            src/proto/quickfix.pro, src/testdir/test_quickfix.vim

Patch 7.4.2050
Problem:    When using &quot;<A HREF="quickfix.html#:vimgrep">:vimgrep</A>&quot; may end up with duplicate <A HREF="windows.html#buffers">buffers</A>.
Solution:   When adding an error <A HREF="eval.html#list">list</A> entry pass the buffer number if possible.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.2051
Problem:    No proper <A HREF="eval.html#testing">testing</A> of trunc_string().
Solution:   Add a unittest for message.c.
Files:      src/Makefile, src/message.c, src/message_test.c, src/main.c,
            src/proto/main.pro, src/structs.h

Patch 7.4.2052
Problem:    Coverage report is messed up by the unittests.
Solution:   Add a separate test target for <A HREF="usr_41.html#script">script</A> tests.  Use that when
            collecting coverage information.
Files:      src/Makefile

Patch 7.4.2053
Problem:    Can't run scripttests in the top directory.
Solution:   Add targets to the top Makefile.
Files:      Makefile

Patch 7.4.2054 (after 7.4.2048)
Problem:    Wrong part of #ifdef removed.
Solution:   Use the right part. (Hirohito Higashi)
Files:      src/os_unix.c

Patch 7.4.2055
Problem:    eval.c is too big
Solution:   Move <A HREF="eval.html#Dictionary">Dictionary</A> <A HREF="eval.html#functions">functions</A> to dict.c
Files:      src/eval.c, src/dict.c, src/vim.h, src/globals.h,
            src/proto/eval.pro, src/proto/dict.pro, src/Makefile, Filelist

Patch 7.4.2056 (after 7.4.2055)
Problem:    Build fails.
Solution:   Add missing changes.
Files:      src/proto.h

Patch 7.4.2057
Problem:    eval.c is too big.
Solution:   Move <A HREF="eval.html#List">List</A> <A HREF="eval.html#functions">functions</A> to list.c
Files:      src/eval.c, src/dict.c, src/list.c, src/proto.h, src/Makefile,
            src/globals.h, src/proto/eval.pro, src/proto/list.pro, Filelist

Patch 7.4.2058
Problem:    eval.c is too big.
Solution:   Move user <A HREF="eval.html#functions">functions</A> to userfunc.c
Files:      src/userfunc.c, src/eval.c, src/vim.h, src/globals.h,
            src/structs.h, src/proto.h, src/Makefile, src/proto/eval.pro,
            src/proto/userfunc.pro, Filelist

Patch 7.4.2059
Problem:    Non-Unix builds fail.
Solution:   Update Makefiles for new files.
Files:      src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_dice.mak,
            src/Make_ivc.mak, src/Make_manx.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_sas.mak

Patch 7.4.2060 (after 7.4.2059)
Problem:    Wrong file name.
Solution:   Fix typo.
Files:      src/Make_mvc.mak

Patch 7.4.2061
Problem:    qf_init_ext() is too big.
Solution:   Move code to qf_parse_line() (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.2062
Problem:    Using dummy variable to compute struct member offset.
Solution:   Use offsetof().
Files:      src/globals.h, src/macros.h, src/vim.h, src/spell.c

Patch 7.4.2063
Problem:    eval.c is still too big.
Solution:   Split off internal <A HREF="eval.html#functions">functions</A> to evalfunc.c.
Files:      src/eval.c, src/evalfunc.c, src/list.c, src/proto.h,
            src/globals.h, src/vim.h, src/proto/eval.pro,
            src/proto/evalfunc.pro, src/proto/list.pro, src/Makefile, Filelist,
            src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_dice.mak,
            src/Make_ivc.mak, src/Make_manx.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_sas.mak

Patch 7.4.2064
Problem:    Coverity warns for possible buffer overflow.
Solution:   Use vim_strcat() instead of strcat().
Files:      src/quickfix.c

Patch 7.4.2065
Problem:    Compiler warns for uninitialized variable. (John Marriott)
Solution:   Set lnum to the right value.
Files:      src/evalfunc.c

Patch 7.4.2066
Problem:    <A HREF="eval.html#getcompletion()">getcompletion()</A> not well tested.
Solution:   Add more <A HREF="eval.html#testing">testing</A>.
Files:      src/testdir/test_cmdline.vim

Patch 7.4.2067
Problem:    Compiler warning for char/char_u conversion. (Tony Mechelynck)
            Inefficient code.
Solution:   Use more lines to fill with spaces. (Nikolai Pavlov) Add type cast.
Files:      src/quickfix.c

Patch 7.4.2068
Problem:    Not all arguments of trunc_string() are tested.  Memory access
            error when running the message tests.
Solution:   Add another test <A HREF="change.html#case">case</A>. (Yegappan Lakshmanan)  Make <A HREF="motion.html#it">it</A> <A HREF="starting.html#easy">easy</A> to run
            unittests with <A HREF="debug.html#valgrind">valgrind</A>.  Fix the access error.
Files:      src/message.c, src/message_test.c, src/Makefile

Patch 7.4.2069
Problem:    spell.c is too big.
Solution:   Split <A HREF="motion.html#it">it</A> in <A HREF="spell.html#spell">spell</A> file handling and <A HREF="spell.html#spell">spell</A> checking.
Files:      src/spell.c, src/spellfile.c, src/spell.h, src/Makefile,
            src/proto/spell.pro, src/proto/spellfile.pro, src/proto.h
            Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,
            src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,
            src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak

Patch 7.4.2070 (after 7.4.2069)
Problem:    Missing change to include file.
Solution:   Include the <A HREF="spell.html#spell">spell</A> header file.
Files:      src/vim.h

Patch 7.4.2071
Problem:    The return value of <A HREF="eval.html#type()">type()</A> is difficult to use.
Solution:   Define v:t_ constants. (Ken Takata)
Files:      runtime/doc/eval.txt, src/eval.c, src/evalfunc.c,
            src/testdir/test_channel.vim, src/testdir/test_viml.vim, src/vim.h

Patch 7.4.2072
Problem:    <A HREF="eval.html#substitute()">substitute()</A> does not support a <A HREF="eval.html#Funcref">Funcref</A> argument.
Solution:   Support a <A HREF="eval.html#Funcref">Funcref</A> like <A HREF="motion.html#it">it</A> supports  a <A HREF="eval.html#string">string</A> starting with &quot;\=&quot;.
Files:      src/evalfunc.c, src/regexp.c, src/eval.c, src/proto/eval.pro,
            src/proto/regexp.pro, src/testdir/test_expr.vim

Patch 7.4.2073
Problem:    <A HREF="gui_w32.html#rgb.txt">rgb.txt</A> is read for every color name.
Solution:   Load <A HREF="gui_w32.html#rgb.txt">rgb.txt</A> once. (Christian Brabandt)  Add a test.
Files:      runtime/rgb.txt, src/term.c, src/testdir/test_syn_attr.vim

Patch 7.4.2074
Problem:    One more place using a dummy variable.
Solution:   Use offsetof(). (Ken Takata)
Files:      src/userfunc.c

Patch 7.4.2075
Problem:    No <A HREF="autocmd.html#autocommand">autocommand</A> event to initialize a <A HREF="windows.html#window">window</A> or <A HREF="intro.html#tab">tab</A> page.
Solution:   Add <A HREF="autocmd.html#WinNew">WinNew</A> and <A HREF="autocmd.html#TabNew">TabNew</A> events. (partly by Felipe Morales)
Files:      src/fileio.c, src/window.c, src/vim.h,
            src/testdir/test_autocmd.vim, runtime/doc/autocmd.txt

Patch 7.4.2076
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> error when <A HREF="eval.html#dict">dict</A> has '<A HREF="change.html#&gt;">&gt;</A>' key.
Solution:   Check for endchar. (Ken Takata)
Files:      src/userfunc.c, src/testdir/test_lambda.vim

Patch 7.4.2077
Problem:    Cannot update <A HREF="options.html#'tabline'">'tabline'</A> when a <A HREF="intro.html#tab">tab</A> was closed.
Solution:   Add the <A HREF="autocmd.html#TabClosed">TabClosed</A> autocmd event. (partly by Felipe Morales)
Files:      src/fileio.c, src/window.c, src/vim.h,
            src/testdir/test_autocmd.vim, runtime/doc/autocmd.txt

Patch 7.4.2078
Problem:    Running checks in po directory fails.
Solution:   Add colors used in syntax.c to the builtin color table.
Files:      src/term.c

Patch 7.4.2079
Problem:    Netbeans test fails on non-Unix systems.
Solution:   Only <A HREF="diff.html#do">do</A> the permission check on <A HREF="os_unix.html#Unix">Unix</A> systems.
Files:      src/testdir/test_netbeans.vim

Patch 7.4.2080
Problem:    When using PERROR() on some systems <A HREF="eval.html#assert_fails()">assert_fails()</A> does not see
            the error.
Solution:   Make PERROR() always report the error.
Files:      src/vim.h, src/message.c, src/proto/message.pro

Patch 7.4.2081
Problem:    Line numbers in the error <A HREF="eval.html#list">list</A> are not always adjusted.
Solution:   Set b_has_qf_entry properly. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/structs.h, src/testdir/test_quickfix.vim

Patch 7.4.2082
Problem:    Not much test coverage for <A HREF="digraph.html#digraphs">digraphs</A>.
Solution:   Add a new style <A HREF="digraph.html#digraph">digraph</A> test. (Christian Brabandt)
Files:      src/Makefile, src/testdir/test_alot.vim,
            src/testdir/test_digraph.vim

Patch 7.4.2083
Problem:    Coverity complains about not restoring a value.
Solution:   Restore the value, although it's not really needed.  Change return
            to jump to cleanup, might leak memory.
Files:      src/userfunc.c

Patch 7.4.2084
Problem:    New <A HREF="digraph.html#digraph">digraph</A> test makes <A HREF="eval.html#testing">testing</A> hang.
Solution:   Don't set &quot;nocp&quot;.
Files:      src/testdir/test_digraph.vim

Patch 7.4.2085
Problem:    Digraph tests fails on some systems.
Solution:   Run <A HREF="motion.html#it">it</A> separately and set <A HREF="options.html#'encoding'">'encoding'</A> early.
Files:      src/testdir/Make_all.mak, src/testdir/test_alot.vim,
            src/testdir/test_digraph.vim

Patch 7.4.2086
Problem:    Using the system default encoding makes tests unpredictable.
Solution:   Always use <A HREF="mbyte.html#utf-8">utf-8</A> or latin1 in the new style tests.  Remove setting
            encoding and scriptencoding where <A HREF="motion.html#it">it</A> is not needed.
Files:      src/testdir/runtest.vim, src/testdir/test_channel.vim,
            src/testdir/test_digraph.vim, src/testdir/test_expand_dllpath.vim,
            src/testdir/test_expr_utf8.vim, src/testdir/test_json.vim,
            src/testdir/test_matchadd_conceal_utf8.vim,
            src/testdir/test_regexp_utf8.vim, src/testdir/test_visual.vim,
            src/testdir/test_alot_utf8.vim,

Patch 7.4.2087
Problem:    Digraph code test coverage is still low.
Solution:   Add more tests. (Christian Brabandt)
Files:      src/testdir/test_digraph.vim

Patch 7.4.2088 (after 7.4.2087)
Problem:    Keymap test fails with normal features.
Solution:   Bail out if the keymap feature is not supported.
Files:      src/testdir/test_digraph.vim

Patch 7.4.2089
Problem:    Color handling of <A HREF="options.html#X11">X11</A> GUIs is too complicated.
Solution:   Simplify the code.  Use RGBA where appropriate. (Kazunobu
            Kuriyama)
Files:      src/gui.h, src/gui_beval.c, src/gui_gtk_x11.c, src/netbeans.c

Patch 7.4.2090
Problem:    Using <A HREF="eval.html#submatch()">submatch()</A> in a <A HREF="eval.html#lambda">lambda</A> passed to <A HREF="eval.html#substitute()">substitute()</A> is <A HREF="starting.html#verbose">verbose</A>.
Solution:   Use a static <A HREF="eval.html#list">list</A> and pass <A HREF="motion.html#it">it</A> <A HREF="motion.html#as">as</A> an optional argument to the
            function.  Fix memory leak.
Files:      src/structs.h, src/list.c, src/userfunc.c, src/channel.c,
            src/eval.c, src/evalfunc.c, src/ex_cmds2.c, src/regexp.c,
            src/proto/list.pro, src/proto/userfunc.pro,
            src/testdir/test_expr.vim, runtime/doc/eval.txt

Patch 7.4.2091
Problem:    Coverity reports a resource leak when out of memory.
Solution:   Close the file before returning.
Files:      src/term.c

Patch 7.4.2092
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> 3 build fails with older <A HREF="gui_x11.html#GTK">GTK</A> version.
Solution:   Check the pango version. (Kazunobu Kuriyama)
Files:      src/gui_beval.c

Patch 7.4.2093
Problem:    Netbeans test fails once in a while.  Leaving log file behind.
Solution:   Add <A HREF="motion.html#it">it</A> to the <A HREF="eval.html#list">list</A> of flaky tests.  Disable logfile.
Files:      src/testdir/runtest.vim, src/testdir/test_channel.vim

Patch 7.4.2094
Problem:    The color allocation in <A HREF="options.html#X11">X11</A> is overly complicated.
Solution:   Remove find_closest_color(), XAllocColor() already does this.
            (Kazunobu Kuriyama)
Files:      src/gui_x11.c

Patch 7.4.2095
Problem:    Man test fails when run with the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Adjust for different behavior of <A HREF="gui.html#GUI">GUI</A>.  Add <A HREF="eval.html#assert_inrange()">assert_inrange()</A>.
Files:      src/eval.c, src/evalfunc.c, src/proto/eval.pro,
            src/testdir/test_assert.vim, src/testdir/test_man.vim,
            runtime/doc/eval.txt

Patch 7.4.2096
Problem:    Lambda <A HREF="eval.html#functions">functions</A> show up with completion.
Solution:   Don't show <A HREF="eval.html#lambda">lambda</A> <A HREF="eval.html#functions">functions</A>. (Ken Takata)
Files:      src/userfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2097
Problem:    Warning from 64 bit compiler.
Solution:   use size_t instead of int. (Mike Williams)
Files:      src/message.c

Patch 7.4.2098
Problem:    Text object tests are old style.
Solution:   Turn them into new style tests. (James McCoy, closes #941)
Files:      src/testdir/Make_all.mak, src/testdir/test_textobjects.in,
            src/testdir/test_textobjects.ok, src/testdir/test_textobjects.vim,
            src/Makefile

Patch 7.4.2099
Problem:    When a keymap is active only &quot;(lang)&quot; is displayed. (Ilya
            Dogolazky)
Solution:   Show the keymap name. (Dmitri Vereshchagin, closes #933)
Files:      src/buffer.c, src/proto/screen.pro, src/screen.c

Patch 7.4.2100
Problem:    &quot;cgn&quot; and &quot;<A HREF="motion.html#dgn">dgn</A>&quot; <A HREF="diff.html#do">do</A> not work correctly with a single character
            match and the replacement includes the searched <A HREF="pattern.html#pattern">pattern</A>. (John
            Beckett)
Solution:   If the match is found in the wrong column try in the next column.
            Turn the test into new style. (Christian Brabandt)
Files:      src/search.c, src/testdir/Make_all.mak, src/Makefile,
            src/testdir/test53.in, src/testdir/test53.ok,
            src/testdir/test_gn.vim

Patch 7.4.2101
Problem:    Looping over <A HREF="windows.html#windows">windows</A>, <A HREF="windows.html#buffers">buffers</A> and <A HREF="intro.html#tab">tab</A> pages is inconsistent.
Solution:   Use FOR_ALL_ macros everywhere. (Yegappan Lakshmanan)
Files:      src/buffer.c, src/diff.c, src/edit.c, src/eval.c, src/evalfunc.c,
            src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/fileio.c,
            src/globals.h, src/gui.c, src/gui_mac.c, src/if_lua.c,
            src/if_mzsch.c, src/if_perl.xs, src/if_ruby.c, src/if_tcl.c,
            src/main.c, src/mark.c, src/memfile.c, src/memline.c, src/misc1.c,
            src/move.c, src/netbeans.c, src/normal.c, src/option.c,
            src/quickfix.c, src/screen.c, src/spell.c, src/term.c,
            src/window.c, src/workshop.c

Patch 7.4.2102 (after 7.4.2101)
Problem:    Tiny build with <A HREF="gui.html#GUI">GUI</A> fails.
Solution:   Revert one FOR_ALL_ change.
Files:      src/gui.c

Patch 7.4.2103
Problem:    Can't have &quot;augroup END&quot; right after &quot;:au!&quot;.
Solution:   Check for the <A HREF="motion.html#bar">bar</A> character before the command argument.
Files:      src/fileio.c, src/testdir/test_autocmd.vim,
            runtime/doc/autocmd.txt

Patch 7.4.2104
Problem:    Code duplication when unreferencing a function.
Solution:   De-duplicate.
Files:      src/userfunc.c

Patch 7.4.2105
Problem:    Configure reports default features to be &quot;normal&quot; while <A HREF="motion.html#it">it</A> is
            &quot;huge&quot;.
Solution:   Change the default text.  Build with newer autoconf.
Files:      src/configure.in, src/auto/configure

Patch 7.4.2106
Problem:    Clang warns about missing field in initializer.
Solution:   Define COMMA and use <A HREF="motion.html#it">it</A>.  (Kazunobu Kuriyama)
Files:      src/ex_cmds.c, src/globals.h, src/vim.h

Patch 7.4.2107 (after 7.4.2106)
Problem:    Misplaced equal sign.
Solution:   Remove <A HREF="motion.html#it">it</A>.
Files:      src/globals.h

Patch 7.4.2108
Problem:    Netbeans test is flaky.
Solution:   Wait for the cursor to be positioned.
Files:      src/testdir/test_netbeans.vim

Patch 7.4.2109
Problem:    Setting <A HREF="options.html#'display'">'display'</A> to &quot;lastline&quot; is a drastic change, while
            omitting <A HREF="motion.html#it">it</A> results in lots of &quot;<A HREF="repeat.html#@">@</A>&quot; lines.
Solution:   Add &quot;truncate&quot; to show &quot;@@@&quot; for a truncated line.
Files:      src/option.h, src/screen.c, runtime/doc/options.txt

Patch 7.4.2110
Problem:    When there is an <A HREF="autocmd.html#CmdUndefined">CmdUndefined</A> autocmd then the error for a missing
            command is <A HREF="message.html#E464">E464</A> instead of <A HREF="message.html#E492">E492</A>. (Manuel Ortega)
Solution:   Don't let the pointer be NULL.
Files:      src/ex_docmd.c, src/testdir/test_usercommands.vim

Patch 7.4.2111
Problem:    Defaults are very conservative.
Solution:   Move settings from <A HREF="usr_05.html#vimrc_example.vim">vimrc_example.vim</A> to <A HREF="starting.html#defaults.vim">defaults.vim</A>.  Load
            <A HREF="starting.html#defaults.vim">defaults.vim</A> if no <A HREF="starting.html#.vimrc">.vimrc</A> was found.
Files:      src/main.c, src/version.c, src/os_amiga.h, src/os_dos.h,
            src/os_mac.h, src/os_unix.h, src/feature.h, src/Makefile,
            runtime/vimrc_example.vim, runtime/defaults.vim,
            runtime/evim.vim, Filelist, runtime/doc/starting.txt

Patch 7.4.2112
Problem:    getcompletion(.., <A HREF="options.html#'dir'">'dir'</A>) returns a match with trailing &quot;*&quot; when
            there are no matches. (Chdiza)
Solution:   Return an empty <A HREF="eval.html#list">list</A> when there are no matches.  Add a trailing
            slash to directories. (Yegappan Lakshmanan)  Add tests for no
            matches. (closes #947)
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2113
Problem:    Test for <A HREF="undo.html#undo">undo</A> is flaky.
Solution:   Turn <A HREF="motion.html#it">it</A> into a new style test.  Use <A HREF="eval.html#test_settime()">test_settime()</A> to avoid
            flakyness.
Files:      src/Makefile, src/undo.c, src/testdir/test61.in,
            src/testdir/test61.ok, src/testdir/test_undo.vim,
            src/testdir/test_undolevels.vim, src/testdir/Make_all.mak,
            src/testdir/test_alot.vim

Patch 7.4.2114
Problem:    Tiny build fails.
Solution:   Always include vim_time().
Files:      src/ex_cmds.c

Patch 7.4.2115
Problem:    Loading <A HREF="starting.html#defaults.vim">defaults.vim</A> with <A HREF="starting.html#-C">-C</A> argument.
Solution:   Don't load the defaults <A HREF="usr_41.html#script">script</A> with <A HREF="starting.html#-C">-C</A> argument.  Test sourcing
            the defaults <A HREF="usr_41.html#script">script</A>.  Set <A HREF="options.html#'display'">'display'</A> to &quot;truncate&quot;.
Files:      src/main.c, src/Makefile, runtime/defaults.vim,
            src/testdir/test_startup.vim, src/testdir/Make_all.mak

Patch 7.4.2116
Problem:    The default <A HREF="starting.html#vimrc">vimrc</A> for Windows is very conservative.
Solution:   Use the <A HREF="starting.html#defaults.vim">defaults.vim</A> in the Windows installer.
Files:      src/dosinst.c

Patch 7.4.2117
Problem:    Deleting an augroup that still has autocmds does not give a
            warning.  The next defined augroup takes its place.
Solution:   Give a warning and prevent the index being used for another group
            name.
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 7.4.2118
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: can't build with tiny features.
Solution:   Don't define FEAT_CLIPBOARD unconditionally. (Kazunobu Kuriyama)
Files:      src/vim.h

Patch 7.4.2119
Problem:    Closures are not supported.
Solution:   Capture <A HREF="eval.html#variables">variables</A> in lambdas from the outer scope. (Yasuhiro
            Matsumoto, Ken Takata)
Files:      runtime/doc/eval.txt, src/eval.c, src/ex_cmds2.c, src/globals.h,
            src/proto/eval.pro, src/proto/userfunc.pro,
            src/testdir/test_lambda.vim, src/userfunc.c

Patch 7.4.2120
Problem:    <A HREF="autocmd.html#User">User</A> defined <A HREF="eval.html#functions">functions</A> can't be a <A HREF="eval.html#closure">closure</A>.
Solution:   Add the &quot;<A HREF="eval.html#closure">closure</A>&quot; argument. Allow using <A HREF="eval.html#:unlet">:unlet</A> on a bound
            variable. (Yasuhiro Matsumoto, Ken Takata)
Files:      runtime/doc/eval.txt, src/testdir/test_lambda.vim, src/userfunc.c,
            src/eval.c src/proto/userfunc.pro

Patch 7.4.2121
Problem:    No <A HREF="starting.html#easy">easy</A> way to check if <A HREF="eval.html#lambda">lambda</A> and <A HREF="eval.html#closure">closure</A> are supported.
Solution:   Add the <A HREF="various.html#+lambda">+lambda</A> feature.
Files:      src/evalfunc.c, src/version.c, src/testdir/test_lambda.vim

Patch 7.4.2122 (after 7.4.2118)
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: don't get <A HREF="various.html#+clipboard">+clipboard</A> in huge build.
Solution:   Move #define down below including feature.h
Files:      src/vim.h

Patch 7.4.2123
Problem:    No new style test for <A HREF="diff.html#diff">diff</A> mode.
Solution:   Add a test.  Check that <A HREF="fold.html#folds">folds</A> are in sync.
Files:      src/Makefile, src/testdir/test_diffmode.vim,
            src/testdir/Make_all.mak, src/testdir/test47.in,
            src/testdir/test47.ok

Patch 7.4.2124
Problem:    diffmode test leaves files behind, breaking another test.
Solution:   Delete the files.
Files:      src/testdir/test_diffmode.vim

Patch 7.4.2125
Problem:    Compiler warning for loss of data.
Solution:   Add a type cast. (Christian Brabandt)
Files:      src/message.c

Patch 7.4.2126
Problem:    No tests for <A HREF="diff.html#:diffget">:diffget</A> and <A HREF="diff.html#:diffput">:diffput</A>
Solution:   Add tests.
Files:      src/testdir/test_diffmode.vim

Patch 7.4.2127
Problem:    The short form of &quot;<A HREF="recover.html#:noswapfile">:noswapfile</A>&quot; is &quot;:noswap&quot; instead of &quot;<A HREF="recover.html#:nos">:nos</A>&quot;.
            (Kent Sibilev)
Solution:   Only require three characters.  Add a test for the short forms.
Files:      src/ex_docmd.c, src/testdir/test_usercommands.vim

Patch 7.4.2128
Problem:    Memory leak when saving for <A HREF="undo.html#undo">undo</A> fails.
Solution:   Free allocated memory. (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 7.4.2129
Problem:    Memory leak when using <A HREF="eval.html#timer_start()">timer_start()</A>. (Dominique Pelle)
Solution:   Don't copy the callback when using a partial.
Files:      src/evalfunc.c

Patch 7.4.2130
Problem:    Pending <A HREF="eval.html#timers">timers</A> cause false memory leak reports.
Solution:   Free all <A HREF="eval.html#timers">timers</A> on exit.
Files:      src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/misc2.c

Patch 7.4.2131
Problem:    More memory leaks when using partial, e.g. for &quot;exit-cb&quot;.
Solution:   Don't copy the callback when using a partial.
Files:      src/channel.c

Patch 7.4.2132
Problem:    test_partial has memory leaks reported.
Solution:   Add a note about why this happens.
Files:      src/testdir/test_partial.vim

Patch 7.4.2133 (after 7.4.2128)
Problem:    Can't build with tiny features.
Solution:   Add #ifdef.
Files:      src/ex_cmds.c

Patch 7.4.2134
Problem:    No error for using <A HREF="eval.html#function()">function()</A> badly.
Solution:   Check for passing wrong function name. (Ken Takata)
Files:      src/eval.c, src/evalfunc.c, src/proto/userfunc.pro,
            src/testdir/test_expr.vim, src/userfunc.c, src/vim.h

Patch 7.4.2135
Problem:    Various tiny issues.
Solution:   Update comments, white space, etc.
Files:      src/diff.c, src/digraph.c, src/testdir/test80.in,
            src/testdir/test_channel.vim, src/testdir/Makefile,
            runtime/menu.vim, src/INSTALLpc.txt, src/xpm/README.txt

Patch 7.4.2136
Problem:    Closure function fails.
Solution:   Don't reset uf_scoped when <A HREF="motion.html#it">it</A> points to another funccal.
Files:      src/userfunc.c, src/testdir/test_lambda.vim

Patch 7.4.2137
Problem:    Using <A HREF="eval.html#function()">function()</A> with a name will find another function when <A HREF="motion.html#it">it</A> is
            redefined.
Solution:   Add <A HREF="eval.html#funcref()">funcref()</A>.  Refer to <A HREF="eval.html#lambda">lambda</A> using a partial.  Fix several
            reference counting issues.
Files:      src/vim.h, src/structs.h, src/userfunc.c, src/eval.c,
            src/evalfunc.c, src/channel.c, src/proto/eval.pro,
            src/proto/userfunc.pro, src/if_mzsch.c, src/regexp.c, src/misc2.c,
            src/if_py_both.h, src/testdir/test_expr.vim, runtime/doc/eval.txt

Patch 7.4.2138
Problem:    Test 86 and 87 fail.
Solution:   Call func_ref() also for regular <A HREF="eval.html#functions">functions</A>.
Files:      src/if_py_both.h

Patch 7.4.2139
Problem:    <A HREF="eval.html#:delfunction">:delfunction</A> causes illegal memory access.
Solution:   Correct logic when deciding to free a function.
Files:      src/userfunc.c, src/testdir/test_lambda.vim

Patch 7.4.2140
Problem:    Tiny build fails.
Solution:   Add dummy typedefs.
Files:      src/structs.h

Patch 7.4.2141
Problem:    Coverity reports bogus NULL check.
Solution:   When checking for a variable in the funccal scope don't pass the
            varname.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/eval.c

Patch 7.4.2142
Problem:    Leaking memory when redefining a function.
Solution:   Don't increment the function reference <A HREF="intro.html#count">count</A> when it's found by
            name. Don't remove the wrong function from the hashtab.  More
            reference counting fixes.
Files:      src/structs.h, src/userfunc.c

Patch 7.4.2143
Problem:    A funccal is garbage collected while <A HREF="motion.html#it">it</A> can still be used.
Solution:   Set copyID in all referenced <A HREF="eval.html#functions">functions</A>.  Do not <A HREF="eval.html#list">list</A> <A HREF="eval.html#lambda">lambda</A>
            <A HREF="eval.html#functions">functions</A> with &quot;<A HREF="eval.html#:function">:function</A>&quot;.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/eval.c,
            src/testdir/test_lambda.vim

Patch 7.4.2144
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="quickfix.html#quickfix">quickfix</A> does not handle a line with 1023 bytes
            ending in CR-LF properly.
Solution:   Don't consider CR a line break. (Ken Takata)
Files:      src/quickfix.c

Patch 7.4.2145
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: Using CreateThread/ExitThread is not safe.
Solution:   Use _beginthreadex and return from the thread. (Ken Takata)
Files:      src/os_win32.c

Patch 7.4.2146
Problem:    Not enough <A HREF="eval.html#testing">testing</A> for popup menu.  <A HREF="scroll.html#CTRL-E">CTRL-E</A> does not always work
            properly.
Solution:   Add more tests.  When using <A HREF="scroll.html#CTRL-E">CTRL-E</A> check if the popup menu is
            visible. (Christian Brabandt)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 7.4.2147 (after 7.4.2146)
Problem:    test_alot fails.
Solution:   Close <A HREF="windows.html#window">window</A>.
Files:      src/testdir/test_popup.vim

Patch 7.4.2148
Problem:    Not much <A HREF="eval.html#testing">testing</A> for <A HREF="if_cscop.html#cscope">cscope</A>.
Solution:   Add a test that uses the <A HREF="if_cscop.html#cscope">cscope</A> program. (Christian Brabandt)
Files:      src/testdir/test_cscope.vim

Patch 7.4.2149
Problem:    If a test leaves a <A HREF="windows.html#window">window</A> open a following test may fail.
Solution:   Always close extra <A HREF="windows.html#windows">windows</A> after running a test.
Files:      src/testdir/runtest.vim, src/testdir/test_popup.vim

Patch 7.4.2150
Problem:    Warning with MinGW 64. (John Marriott)
Solution:   Change return type. (Ken Takata)
Files:      src/os_win32.c

Patch 7.4.2151
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Close the help <A HREF="windows.html#window">window</A>. (Christian Brabandt)
Files:      src/testdir/test_quickfix.vim

Patch 7.4.2152
Problem:    No proper translation of <A HREF="message.html#messages">messages</A> with a <A HREF="intro.html#count">count</A>.
Solution:   Use ngettext(). (Sergey Alyoshin)
Files:      src/evalfunc.c, src/fold.c, src/os_win32.c, src/screen.c, src/vim.h

Patch 7.4.2153
Problem:    <A HREF="gui.html#GUI">GUI</A> test isn't <A HREF="eval.html#testing">testing</A> much.
Solution:   Turn into a new style test.  Execute a shell command.
Files:      src/testdir/test_gui.vim, src/testdir/test16.in,
            src/testdir/test16.ok, src/testdir/Make_all.mak, src/Makefile,
            src/testdir/Make_vms.mms

Patch 7.4.2154
Problem:    Test_communicate() fails sometimes.
Solution:   Add <A HREF="motion.html#it">it</A> to the flaky tests.
Files:      src/testdir/runtest.vim

Patch 7.4.2155
Problem:    Quotes make <A HREF="gui.html#GUI">GUI</A> test fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Remove <A HREF="quotes.html#quotes">quotes</A>, strip white space.
Files:      src/testdir/test_gui.vim

Patch 7.4.2156
Problem:    Compiler warning.
Solution:   Add type cast. (Ken Takata, Mike Williams)
Files:      src/os_win32.c

Patch 7.4.2157
Problem:    Test_job_start_fails() is expected to report memory leaks, making
            <A HREF="motion.html#it">it</A> hard to see other leaks in test_partial.
Solution:   Move Test_job_start_fails() to a separate test file.
Files:      src/testdir/test_partial.vim, src/testdir/test_job_fails.vim,
            src/Makefile, src/testdir/Make_all.mak

Patch 7.4.2158
Problem:    Result of getcompletion('', '<A HREF="if_cscop.html#cscope">cscope</A>') depends on previous
            completion. (Christian Brabandt)
Solution:   Call set_context_in_cscope_cmd().
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2159
Problem:    Insufficient <A HREF="eval.html#testing">testing</A> for <A HREF="if_cscop.html#cscope">cscope</A>.
Solution:   Add more tests. (Dominique Pelle)
Files:      src/testdir/test_cscope.vim

Patch 7.4.2160
Problem:    <A HREF="eval.html#setmatches()">setmatches()</A> mixes up values. (Nikolai Pavlov)
Solution:   Save the <A HREF="eval.html#string">string</A> instead of reusing a shared buffer.
Files:      src/dict.c, src/evalfunc.c, src/testdir/test_expr.vim,

Patch 7.4.2161 (after 7.4.2160)
Problem:    Expression test fails without <A HREF="syntax.html#conceal">conceal</A> feature.
Solution:   Only check &quot;<A HREF="syntax.html#conceal">conceal</A>&quot; with the <A HREF="syntax.html#conceal">conceal</A> feature.
Files:      src/testdir/test_expr.vim

Patch 7.4.2162
Problem:    Result of getcompletion('', 'sign') depends on previous
            completion.
Solution:   Call set_context_in_sign_cmd(). (Dominique Pelle)
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2163
Problem:    <A HREF="eval.html#match()">match()</A> and related <A HREF="eval.html#functions">functions</A> tested with old style test.
Solution:   Convert to new style test. (Hirohito Higashi)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test63.in,
            src/testdir/test63.ok, src/testdir/test_alot.vim,
            src/testdir/test_match.vim, src/testdir/test_matchstrpos.vim

Patch 7.4.2164
Problem:    It is not possible to use plugins in an &quot;after&quot; directory to tune
            the behavior of a package.
Solution:   First load plugins from non-after directories, then <A HREF="repeat.html#packages">packages</A> and
            finally plugins in after directories.
            Reset <A HREF="options.html#'loadplugins'">'loadplugins'</A> before executing <A HREF="starting.html#--cmd">--cmd</A> arguments.
Files:      src/main.c, src/vim.h, src/ex_cmds2.c, src/testdir/Makefile,
            src/testdir/shared.vim, src/testdir/test_startup.vim,
            src/testdir/setup.vim, runtime/doc/starting.txt

Patch 7.4.2165 (after 7.4.2164)
Problem:    Startup test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Don't check output if RunVim() returns zero.
Files:      src/testdir/test_startup.vim

Patch 7.4.2166 (after 7.4.2164)
Problem:    Small build can't run <A HREF="starting.html#startup">startup</A> test.
Solution:   Skip the test.
Files:      src/testdir/test_startup.vim

Patch 7.4.2167 (after 7.4.2164)
Problem:    Small build can't run tests.
Solution:   Don't try setting <A HREF="options.html#'packpath'">'packpath'</A>.
Files:      src/testdir/setup.vim

Patch 7.4.2168
Problem:    Not running the <A HREF="starting.html#startup">startup</A> test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Write vimcmd.
Files:      src/testdir/Make_ming.mak, src/testdir/Make_dos.mak

Patch 7.4.2169 (after 7.4.2168)
Problem:    Startup test gets stuck on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use double <A HREF="quotes.html#quotes">quotes</A>.
Files:      src/testdir/shared.vim, src/testdir/test_startup.vim

Patch 7.4.2170
Problem:    Cannot get information about <A HREF="eval.html#timers">timers</A>.
Solution:   Add <A HREF="eval.html#timer_info()">timer_info()</A>.
Files:      src/evalfunc.c, src/ex_cmds2.c, src/proto/ex_cmds2.pro,
            runtime/doc/eval.txt

Patch 7.4.2171 (after 7.4.2170)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> build fails.
Solution:   Add QueryPerformanceCounter().
Files:      src/ex_cmds2.c

Patch 7.4.2172
Problem:    No test for &quot;vim --help&quot;.
Solution:   Add a test.
Files:      src/testdir/test_startup.vim, src/testdir/shared.vim

Patch 7.4.2173 (after 7.4.2172)
Problem:    Can't test help on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the test.
Files:      src/testdir/test_startup.vim

Patch 7.4.2174
Problem:    Adding duplicate flags to <A HREF="options.html#'whichwrap'">'whichwrap'</A> leaves commas behind.
Solution:   Also remove the commas. (Naruhiko Nishino)
Files:      src/Makefile, src/option.c, src/testdir/Make_all.mak,
            src/testdir/test_alot.vim, src/testdir/test_options.in,
            src/testdir/test_options.ok, src/testdir/test_options.vim

Patch 7.4.2175
Problem:    Insufficient <A HREF="eval.html#testing">testing</A> of <A HREF="if_cscop.html#cscope">cscope</A>.
Solution:   Add more tests. (Dominique Pelle)
Files:      src/testdir/test_cscope.vim

Patch 7.4.2176
Problem:    #ifdefs in main() are complicated.
Solution:   Always define vim_main2().  Move params to the file level.
            (suggested by Ken Takata)
Files:      src/main.c, src/structs.h, src/vim.h, src/if_mzsch.c,
            src/proto/if_mzsch.pro

Patch 7.4.2177
Problem:    No <A HREF="eval.html#testing">testing</A> for <A HREF="starting.html#-C">-C</A> and <A HREF="starting.html#-N">-N</A> command line flags, file arguments,
            startuptime.
Solution:   Add tests.
Files:      src/testdir/test_startup.vim, src/testdir/shared.vim

Patch 7.4.2178
Problem:    No test for reading from stdin.
Solution:   Add a test.
Files:      src/testdir/test_startup.vim, src/testdir/shared.vim

Patch 7.4.2179 (after 7.4.2178)
Problem:    Reading from stdin test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Strip the extra space.
Files:      src/testdir/test_startup.vim

Patch 7.4.2180
Problem:    There is no <A HREF="starting.html#easy">easy</A> way to stop all <A HREF="eval.html#timers">timers</A>.  There is no way to
            temporary pause a <A HREF="eval.html#timer">timer</A>.
Solution:   Add <A HREF="eval.html#timer_stopall()">timer_stopall()</A> and <A HREF="eval.html#timer_pause()">timer_pause()</A>.
Files:      src/evalfunc.c, src/ex_cmds2.c, src/proto/ex_cmds2.pro,
            src/structs.h, src/testdir/test_timers.vim,
            src/testdir/shared.vim, runtime/doc/eval.txt

Patch 7.4.2181
Problem:    Compiler warning for unused variable.
Solution:   Remove <A HREF="motion.html#it">it</A>. (Dominique Pelle)
Files:      src/ex_cmds2.c

Patch 7.4.2182
Problem:    Color Grey40 used in <A HREF="starting.html#startup">startup</A> but not in the short <A HREF="eval.html#list">list</A>.
Solution:   Add Grey40 to the builtin colors.
Files:      src/term.c

Patch 7.4.2183
Problem:    Sign tests are old style.
Solution:   Turn them into new style tests. (Dominique Pelle)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_signs.in,
            src/testdir/test_signs.ok, src/testdir/test_signs.vim,

Patch 7.4.2184
Problem:    Tests that use RunVim() <A HREF="diff.html#do">do</A> not actually perform the test.
Solution:   Use &quot;return&quot; instead of &quot;call&quot;. (Ken Takata)
Files:      src/testdir/shared.vim

Patch 7.4.2185
Problem:    Test glob2regpat does not test much.
Solution:   Add a few more test cases. (Dominique Pelle)
Files:      src/testdir/test_glob2regpat.vim

Patch 7.4.2186
Problem:    Timers test is flaky.
Solution:   Relax the sleep time check.
Files:      src/testdir/test_timers.vim

Patch 7.4.2187 (after 7.4.2185)
Problem:    glob2regpat test fails on Windows.
Solution:   Remove the checks that use backslashes.
Files:      src/testdir/test_glob2regpat.vim

Patch 7.4.2188 (after 7.4.2146)
Problem:    Completion does not work properly with some plugins.
Solution:   Revert the part related to typing <A HREF="scroll.html#CTRL-E">CTRL-E</A>. (closes #972)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 7.4.2189
Problem:    Cannot detect encoding in a fifo.
Solution:   Extend the stdin way of detecting encoding to fifo.  Add a test
            for detecting encoding on stdin and fifo. (Ken Takata)
Files:      src/buffer.c, src/fileio.c, src/Makefile,
            src/testdir/Make_all.mak, src/testdir/test_startup_utf8.vim,
            src/vim.h

Patch 7.4.2190
Problem:    When <A HREF="starting.html#startup">startup</A> test fails it's not <A HREF="starting.html#easy">easy</A> to find out why.
            <A HREF="gui.html#GUI">GUI</A> test fails with <A HREF="gui_x11.html#Gnome">Gnome</A>.
Solution:   Add the help entry matches to a <A HREF="eval.html#list">list</A> an assert that.
            Set <A HREF="options.html#$HOME">$HOME</A> for <A HREF="gui_x11.html#Gnome">Gnome</A> to create .gnome2 directory.
Files:      src/testdir/test_startup.vim, src/testdir/test_gui.vim

Patch 7.4.2191
Problem:    No automatic prototype for vim_main2().
Solution:   Move the #endif. (Ken Takata)
Files:      src/main.c, src/vim.h, src/proto/main.pro

Patch 7.4.2192
Problem:    Generating prototypes with Cygwin doesn't work well.
Solution:   Change #ifdefs. (Ken Takata)
Files:      src/gui.h, src/gui_w32.c, src/ops.c, src/proto/fileio.pro,
            src/proto/message.pro, src/proto/normal.pro, src/proto/ops.pro,
            src/vim.h

Patch 7.4.2193
Problem:    With <A HREF="gui_x11.html#Gnome">Gnome</A> when the <A HREF="gui.html#GUI">GUI</A> can't start test_startup hangs.
Solution:   Call gui_mch_early_init_check(). (Hirohito Higashi)
Files:      src/gui.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro

Patch 7.4.2194
Problem:    Sign tests don't cover enough.
Solution:   Add more test cases. (Dominique Pelle)
Files:      src/testdir/test_signs.vim

Patch 7.4.2195
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: The vimrun program does not support <A HREF="mbyte.html#Unicode">Unicode</A>.
Solution:   Use GetCommandLineW().  Cleanup old #ifdefs. (Ken Takata)
Files:      src/vimrun.c

Patch 7.4.2196
Problem:    glob2regpat test doesn't test everything on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add patterns with <A HREF="intro.html#backslash">backslash</A> handling.
Files:      src/testdir/test_glob2regpat.vim

Patch 7.4.2197
Problem:    All <A HREF="eval.html#functions">functions</A> are freed on exit, which may hide leaks.
Solution:   Only free named <A HREF="eval.html#functions">functions</A>, not reference counted ones.
Files:      src/userfunc.c

Patch 7.4.2198
Problem:    Test alot sometimes fails under <A HREF="debug.html#valgrind">valgrind</A>. (Dominique Pelle)
Solution:   Avoid passing a callback with the wrong number of arguments.
Files:      src/testdir/test_partial.vim

Patch 7.4.2199
Problem:    In the <A HREF="gui.html#GUI">GUI</A> the cursor is hidden when redrawing any <A HREF="windows.html#window">window</A>,
            causing flicker.
Solution:   Only undraw the cursor when updating the <A HREF="windows.html#window">window</A> it's in.
Files:      src/screen.c, src/gui.c, src/proto/gui.pro, src/gui_gtk_x11.c

Patch 7.4.2200
Problem:    Cannot get all information about a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Add an optional argument to get/set loc/qf list(). (Yegappan
            Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/proto/quickfix.pro,
            src/quickfix.c, src/tag.c, src/testdir/test_quickfix.vim

Patch 7.4.2201
Problem:    The sign column disappears when the last sign is deleted.
Solution:   Add the <A HREF="options.html#'signcolumn'">'signcolumn'</A> option. (Christian Brabandt)
Files:      runtime/doc/options.txt, runtime/optwin.vim, src/edit.c,
            src/move.c, src/option.c, src/option.h, src/proto/option.pro,
            src/screen.c, src/structs.h, src/testdir/test_options.vim

Patch 7.4.2202
Problem:    Build fails with small features.
Solution:   Correct option <A HREF="starting.html#initialization">initialization</A>.
Files:      src/option.c

Patch 7.4.2203
Problem:    Test fails with normal features.
Solution:   Check is <A HREF="sign.html#signs">signs</A> are supported.
Files:      src/testdir/test_options.vim

Patch 7.4.2204
Problem:    It is not <A HREF="starting.html#easy">easy</A> to get information about <A HREF="windows.html#buffers">buffers</A>, <A HREF="windows.html#windows">windows</A> and
            tabpages.
Solution:   Add <A HREF="eval.html#getbufinfo()">getbufinfo()</A>, <A HREF="eval.html#getwininfo()">getwininfo()</A> and <A HREF="eval.html#gettabinfo()">gettabinfo()</A>. (Yegappan
            Lakshmanan)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/dict.c,
            src/evalfunc.c, src/option.c, src/proto/dict.pro,
            src/proto/option.pro, src/proto/window.pro,
            src/testdir/Make_all.mak, src/testdir/test_bufwintabinfo.vim,
            src/window.c, src/Makefile

Patch 7.4.2205
Problem:    <A HREF="options.html#'wildignore'">'wildignore'</A> always applies to <A HREF="eval.html#getcompletion()">getcompletion()</A>.
Solution:   Add an option to use <A HREF="options.html#'wildignore'">'wildignore'</A> or not. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 7.4.2206
Problem:    Warning for unused function.
Solution:   Put the function inside #ifdef. (John Marriott)
Files:      src/evalfunc.c

Patch 7.4.2207
Problem:    The <A HREF="various.html#+xpm">+xpm</A> feature is not sorted properly in <A HREF="various.html#:version">:version</A> output.
Solution:   Move <A HREF="motion.html#it">it</A> up. (Tony Mechelynck)
Files:      src/version.c

Patch 7.4.2208
Problem:    Test for mappings is old style.
Solution:   Convert the test to new style.
Files:      src/testdir/test_mapping.vim, src/testdir/test_mapping.in,
            src/testdir/test_mapping.ok, src/Makefile,
            src/testdir/test_alot.vim, src/testdir/Make_all.mak

Patch 7.4.2209
Problem:    Cannot map &lt;M-&quot;&gt;. (Stephen Riehm)
Solution:   Solve the memory access problem in another way. (Dominique Pelle)
            Allow for using &lt;M-\&quot;&gt; in a <A HREF="eval.html#string">string</A>.
Files:      src/eval.c, src/gui_mac.c, src/misc2.c, src/option.c,
            src/proto/misc2.pro, src/syntax.c, src/term.c,
            src/testdir/test_mapping.vim

Patch 7.4.2210
Problem:    On OSX configure mixes up a <A HREF="if_pyth.html#Python">Python</A> framework and the <A HREF="os_unix.html#Unix">Unix</A> layout.
Solution:   Make configure check properly. (Tim <A HREF="change.html#D">D</A>. Smith, closes #980)
Files:      src/configure.in, src/auto/configure

Patch 7.4.2211
Problem:    Mouse support is not automatically enabled with simple term.
Solution:   Recognize &quot;st&quot; and other names. (Manuel Schiller, closes #963)
Files:      src/os_unix.c

Patch 7.4.2212
Problem:    <A HREF="motion.html#Mark">Mark</A> &quot; is not set when closing a <A HREF="windows.html#window">window</A> in another <A HREF="intro.html#tab">tab</A>. (Guraga)
Solution:   Check all tabs for the <A HREF="windows.html#window">window</A> to be valid. (based on patch by
            Hirohito Higashi, closes #974)
Files:      src/window.c, src/proto/window.pro, src/buffer.c,
            src/testdir/test_viminfo.vim

Patch 7.4.2213
Problem:    Cannot highlight the &quot;<A HREF="change.html#~">~</A>&quot; lines at the end of a <A HREF="windows.html#window">window</A> differently.
Solution:   Add the EndOfBuffer highlighting. (Marco Hinz, James McCoy)
Files:      runtime/doc/options.txt, runtime/doc/syntax.txt, src/option.c,
            src/screen.c, src/syntax.c, src/vim.h

Patch 7.4.2214
Problem:    A font that uses ligatures messes up the screen display.
Solution:   Put spaces between characters when building the glyph table.
            (based on a patch from Manuel Schiller)
Files:      src/gui_gtk_x11.c

Patch 7.4.2215
Problem:    It's not <A HREF="starting.html#easy">easy</A> to find out if a <A HREF="windows.html#window">window</A> is a <A HREF="quickfix.html#quickfix">quickfix</A> or location
            <A HREF="eval.html#list">list</A> <A HREF="windows.html#window">window</A>.
Solution:   Add &quot;loclist&quot; and &quot;<A HREF="quickfix.html#quickfix">quickfix</A>&quot; entries to the <A HREF="eval.html#dict">dict</A> returned by
            <A HREF="eval.html#getwininfo()">getwininfo()</A>. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_bufwintabinfo.vim

Patch 7.4.2216 (after 7.4.2215)
Problem:    Test fails without the +sign feature.
Solution:   Only check for signcolumn with the +sign feature.
Files:      src/testdir/test_bufwintabinfo.vim

Patch 7.4.2217
Problem:    When using <A HREF="eval.html#matchaddpos()">matchaddpos()</A> a character after the end of the line can
            be highlighted.
Solution:   Only highlight existing characters. (Hirohito Higashi)
Files:      src/screen.c, src/structs.h, src/testdir/test_match.vim

Patch 7.4.2218
Problem:    Can't build with <A HREF="various.html#+timers">+timers</A> when +digraph is not included.
Solution:   Change #ifdef for e_number_exp. (Damien)
Files:      src/globals.h

Patch 7.4.2219
Problem:    Recursive call to substitute gets stuck in <A HREF="eval.html#sandbox">sandbox</A>. (Nikolai
            Pavlov)
Solution:   Handle the recursive call. (Christian Brabandt, closes #950)
            Add a test.
Files:      src/ex_cmds.c, src/testdir/test_regexp_latin.vim

Patch 7.4.2220
Problem:    <A HREF="eval.html#printf()">printf()</A> gives an error when the argument for &#37;s is not a <A HREF="eval.html#string">string</A>.
            (Ozaki Kiichi)
Solution:   Behave like invoking <A HREF="eval.html#string()">string()</A> on the argument. (Ken Takata)
Files:      runtime/doc/eval.txt, src/message.c, src/testdir/test_expr.vim

Patch 7.4.2221
Problem:    <A HREF="eval.html#printf()">printf()</A> does not support binary format.
Solution:   Add &#37;b and &#37;B. (Ozaki Kiichi)
Files:      runtime/doc/eval.txt, src/message.c, src/testdir/test_expr.vim

Patch 7.4.2222
Problem:    Sourcing a <A HREF="usr_41.html#script">script</A> where a character has 0x80 <A HREF="motion.html#as">as</A> a second byte does
            not work. (Filipe <A HREF="motion.html#L">L</A> <A HREF="motion.html#B">B</A> Correia)
Solution:   Turn 0x80 into K_SPECIAL KS_SPECIAL KE_FILLER. (Christian
            Brabandt, closes #728)  Add a test <A HREF="change.html#case">case</A>.
Files:      src/getchar.c, src/proto/getchar.pro, src/misc1.c,
            src/testdir/test_regexp_utf8.vim

Patch 7.4.2223
Problem:    Buffer overflow when using latin1 character with <A HREF="eval.html#feedkeys()">feedkeys()</A>.
Solution:   Check for an illegal character.  Add a test.
Files:      src/testdir/test_regexp_utf8.vim, src/testdir/test_source_utf8.vim,
            src/testdir/test_alot_utf8.vim, src/Makefile, src/getchar.c,
            src/macros.h, src/evalfunc.c, src/os_unix.c, src/os_win32.c,
            src/spell.c,

Patch 7.4.2224
Problem:    Compiler warnings with older compiler and 64 bit numbers.
Solution:   Add &quot;LL&quot; to large values. (Mike Williams)
Files:      src/eval.c, src/evalfunc.c

Patch 7.4.2225
Problem:    Crash when placing a sign in a deleted buffer.
Solution:   Check for missing buffer name. (Dominique Pelle). Add a test.
Files:      src/ex_cmds.c, src/testdir/test_signs.vim

Patch 7.4.2226
Problem:    The field names used by <A HREF="eval.html#getbufinfo()">getbufinfo()</A>, <A HREF="eval.html#gettabinfo()">gettabinfo()</A> and
            <A HREF="eval.html#getwininfo()">getwininfo()</A> are not consistent.
Solution:   Use bufnr, winnr and tabnr. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_bufwintabinfo.vim

Patch 7.4.2227
Problem:    <A HREF="intro.html#Tab">Tab</A> page tests are old style.
Solution:   Change into new style tests. (Hirohito Higashi)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test62.in,
            src/testdir/test62.ok, src/testdir/test_alot.vim,
            src/testdir/test_tabpage.vim

Patch 7.4.2228
Problem:    Test files have inconsistent modelines.
Solution:   Don't set <A HREF="options.html#'tabstop'">'tabstop'</A> to 2, use <A HREF="options.html#'sts'">'sts'</A> and <A HREF="options.html#'sw'">'sw'</A>.
Files:      src/testdir/README.txt, src/testdir/test_backspace_opt.vim,
            src/testdir/test_digraph.vim, src/testdir/test_gn.vim
            src/testdir/test_help_tagjump.vim,
            src/testdir/test_increment_dbcs.vim,
            src/testdir/test_increment.vim, src/testdir/test_match.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_window_cmd.vim,
            src/testdir/test_regexp_latin.vim, src/testdir/test_timers.vim

Patch 7.4.2229
Problem:    Startup test fails on Solaris.
Solution:   Recognize a character device. (Danek Duvall)
Files:      src/buffer.c, src/fileio.c, src/proto/fileio.pro, src/vim.h

Patch 7.4.2230
Problem:    There is no equivalent of <A HREF="options.html#'smartcase'">'smartcase'</A> for a <A HREF="tagsrch.html#tag">tag</A> search.
Solution:   Add value &quot;followscs&quot; and &quot;smart&quot; to <A HREF="options.html#'tagcase'">'tagcase'</A>. (Christian
            Brabandt, closes #712) Turn tagcase test into new style.
Files:      runtime/doc/options.txt, runtime/doc/tagsrch.txt, src/option.h,
            src/tag.c, src/search.c, src/proto/search.pro,
            src/testdir/test_tagcase.in, src/testdir/test_tagcase.ok,
            src/testdir/test_tagcase.vim, src/Makefile,
            src/testdir/Make_all.mak, src/testdir/test_alot.vim

Patch 7.4.2231
Problem:    &quot;<A HREF="starting.html#:oldfiles">:oldfiles</A>&quot; output is a very long <A HREF="eval.html#list">list</A>.
Solution:   Add a <A HREF="pattern.html#pattern">pattern</A> argument. (Coot, closes #575)
Files:      runtime/doc/starting.txt, src/ex_cmds.h, src/eval.c,
            src/ex_cmds.c, src/proto/eval.pro, src/proto/ex_cmds.pro,
            src/testdir/test_viminfo.vim

Patch 7.4.2232
Problem:    The default ttimeoutlen is very long.
Solution:   Use &quot;100&quot;. (Hirohito Higashi)
Files:      runtime/defaults.vim

Patch 7.4.2233
Problem:    Crash when using <A HREF="eval.html#funcref()">funcref()</A> with invalid name. (Dominique Pelle)
Solution:   Check for NULL translated name.
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 7.4.2234
Problem:    Can't build with <A HREF="various.html#+eval">+eval</A> but without <A HREF="various.html#+quickfix">+quickfix</A>. (John Marriott)
Solution:   Move skip_vimgrep_pat() to separate #ifdef block.
Files:      src/quickfix.c

Patch 7.4.2235
Problem:    <A HREF="eval.html#submatch()">submatch()</A> does not check for a valid argument.
Solution:   Give an error if the argument is out of range. (Dominique Pelle)
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 7.4.2236
Problem:    The <A HREF="options.html#'langnoremap'">'langnoremap'</A> option leads to double negatives.  And <A HREF="motion.html#it">it</A> does
            not work for the last character of a <A HREF="map.html#mapping">mapping</A>.
Solution:   Add <A HREF="options.html#'langremap'">'langremap'</A> with the opposite value.  Keep <A HREF="options.html#'langnoremap'">'langnoremap'</A> for
            backwards compatibility.  Make <A HREF="motion.html#it">it</A> work for the last character of a
            <A HREF="map.html#mapping">mapping</A>.  Make the test work.
Files:      runtime/doc/options.txt, runtime/defaults.vim, src/option.c,
            src/option.h, src/macros.h, src/testdir/test_mapping.vim

Patch 7.4.2237
Problem:    Can't use &quot;<A HREF="repeat.html#.">.</A>&quot; and &quot;<A HREF="motion.html#$">$</A>&quot; with &quot;<A HREF="tabpage.html#:tab">:tab</A>&quot;.
Solution:   Support a range for &quot;<A HREF="tabpage.html#:tab">:tab</A>&quot;. (Hirohito Higashi)
Files:      runtime/doc/tabpage.txt, src/ex_docmd.c,
            src/testdir/test_tabpage.vim

Patch 7.4.2238
Problem:    With SGR mouse reporting (suckless <A HREF="terminal.html#terminal">terminal</A>) the mouse release and
            scroll up/down is confused.
Solution:   Don't see a release <A HREF="motion.html#as">as</A> a scroll up/down. (Ralph Eastwood)
Files:      src/term.c

Patch 7.4.2239
Problem:    Warning for missing declaration of skip_vimgrep_pat(). (John
            Marriott)
Solution:   Move <A HREF="motion.html#it">it</A> to another file.
Files:      src/quickfix.c, src/proto/quickfix.pro, src/ex_cmds.c,
            src/proto/ex_cmds.pro

Patch 7.4.2240
Problem:    Tests using the sleep time can be flaky.
Solution:   Use <A HREF="eval.html#reltime()">reltime()</A> if available. (Partly by Shane Harper)
Files:      src/testdir/shared.vim, src/testdir/test_timers.vim

Patch 7.4.2241 (after 7.4.2240)
Problem:    Timer test sometimes fails.
Solution:   Increase the maximum time for <A HREF="repeat.html#repeating">repeating</A> <A HREF="eval.html#timer">timer</A>.
Files:      src/testdir/test_timers.vim

Patch 7.4.2242 (after 7.4.2240)
Problem:    Timer test sometimes fails.
Solution:   Increase the maximum time for callback <A HREF="eval.html#timer">timer</A> test.
Files:      src/testdir/test_timers.vim

Patch 7.4.2243
Problem:    Warning for assigning negative value to unsigned. (Danek Duvall)
Solution:   Make cterm_normal_fg_gui_color and _bg_ guicolor_T, cast to long_u
            only when an unsigned is needed.
Files:      src/structs.h, src/globals.h, src/screen.c, src/term.c,
            src/syntax.c, src/gui_gtk_x11.c, src/gui.c, src/gui_mac.c,
            src/gui_photon.c, src/gui_w32.c, src/gui_x11.c,
            src/proto/term.pro, src/proto/gui_gtk_x11.pro,
            src/proto/gui_mac.pro, src/proto/gui_photon.pro,
            src/proto/gui_w32.pro, src/proto/gui_x11.pro

Patch 7.4.2244
Problem:    Adding <A HREF="pattern.html#pattern">pattern</A> to &quot;<A HREF="starting.html#:oldfiles">:oldfiles</A>&quot; is not a generic solution.
Solution:   Add the &quot;<A HREF="various.html#:filter">:filter</A> /pat/ cmd&quot; command modifier.  Only works for some
            commands right now.
Files:      src/structs.h, src/ex_docmd.c, src/ex_cmds.h, src/message.c,
            src/proto/message.pro, runtime/doc/starting.txt,
            runtime/doc/various.txt, src/testdir/test_viminfo.vim,
            src/testdir/test_alot.vim, src/testdir/test_filter_cmd.vim,
            src/Makefile

Patch 7.4.2245 (after 7.4.2244)
Problem:    Filter test fails.
Solution:   Include missing changes.
Files:      src/buffer.c

Patch 7.4.2246 (after 7.4.2244)
Problem:    Oldfiles test fails.
Solution:   Include missing changes.
Files:      src/ex_cmds.c

Patch 7.4.2247 (after 7.4.2244)
Problem:    Tiny build fails. (Tony Mechelynck)
Solution:   Remove #ifdef.
Files:      src/ex_cmds.c

Patch 7.4.2248
Problem:    When cancelling the <A HREF="tagsrch.html#:ptjump">:ptjump</A> prompt a preview <A HREF="windows.html#window">window</A> is opened for
            a following command.
Solution:   Reset g_do_tagpreview. (Hirohito Higashi)  Add a test.  Avoid that
            the test runner gets stuck in trying to close a <A HREF="windows.html#window">window</A>.
Files:      src/tag.c, src/testdir/test_tagjump.vim, src/testdir/runtest.vim

Patch 7.4.2249
Problem:    Missing colon in error message.
Solution:   Add the colon. (Dominique Pelle)
Files:      src/userfunc.c

Patch 7.4.2250
Problem:    Some error <A HREF="message.html#messages">messages</A> cannot be translated.
Solution:   Enclose them in _() and N_(). (Dominique Pelle)
Files:      src/channel.c, src/evalfunc.c, src/ex_cmds.c, src/spell.c,
            src/window.c

Patch 7.4.2251
Problem:    In rare cases diffing 4 <A HREF="windows.html#buffers">buffers</A> is not enough.
Solution:   Raise the limit to 8. (closes #1000)
Files:      src/structs.h, runtime/doc/diff.txt

Patch 7.4.2252
Problem:    Compiler warnings for signed/unsigned in <A HREF="eval.html#expression">expression</A>.
Solution:   Remove type cast. (Dominique Pelle)
Files:      src/vim.h

Patch 7.4.2253
Problem:    Check for Windows 3.1 will always return false.  (Christian
            Brabandt)
Solution:   Remove the dead code.
Files:      src/gui_w32.c, src/evalfunc.c, src/ex_cmds.c, src/option.c,
            src/os_win32.c, src/version.c, src/proto/gui_w32.pro

Patch 7.4.2254
Problem:    Compiler warnings in <A HREF="if_mzsch.html#MzScheme">MzScheme</A> code.
Solution:   Add UNUSED.  Remove unreachable code.
Files:      src/if_mzsch.c

Patch 7.4.2255
Problem:    The <A HREF="usr_41.html#script">script</A> that checks translations can't handle plurals.
Solution:   Check for plural msgid and msgstr entries.  Leave the cursor on
            the first error.
Files:      src/po/check.vim

Patch 7.4.2256
Problem:    Coverity complains about null pointer check.
Solution:   Remove wrong and superfluous error check.
Files:      src/eval.c

Patch 7.4.2257
Problem:    Coverity complains about not checking for NULL.
Solution:   Check for out of memory.
Files:      src/if_py_both.h

Patch 7.4.2258
Problem:    Two JSON <A HREF="message.html#messages">messages</A> are sent without a separator.
Solution:   Separate <A HREF="message.html#messages">messages</A> with a NL. (closes #1001)
Files:      src/json.c, src/channel.c, src/vim.h, src/testdir/test_channel.py,
            src/testdir/test_channel.vim, runtime/doc/channel.txt

Patch 7.4.2259
Problem:    With <A HREF="options.html#'incsearch'">'incsearch'</A> can only see the next match.
Solution:   Make CTRL-N/CTRL-P move to the previous/next match. (Christian
            Brabandt)
Files:      runtime/doc/cmdline.txt, src/ex_getln.c, src/testdir/Make_all.mak,
            src/testdir/test_search.vim, src/Makefile

Patch 7.4.2260 (after 7.4.2258)
Problem:    <A HREF="eval.html#Channel">Channel</A> test is flaky.
Solution:   Add a newline to separate JSON <A HREF="message.html#messages">messages</A>.
Files:      src/testdir/test_channel.vim

Patch 7.4.2261 (after 7.4.2259)
Problem:    Build fails with small features.
Solution:   Move &quot;else&quot; inside the #ifdef.
Files:      src/ex_getln.c

Patch 7.4.2262
Problem:    Fail to read <A HREF="sponsor.html#register">register</A> content from <A HREF="starting.html#viminfo">viminfo</A> if <A HREF="motion.html#it">it</A> is 438 characters
            long. (John Chen)
Solution:   Adjust the check for line wrapping. (closes #1010)
Files:      src/testdir/test_viminfo.vim, src/ex_cmds.c

Patch 7.4.2263
Problem:    <A HREF="various.html#:filter">:filter</A> does not work for many commands.  Can only get matching
            <A HREF="message.html#messages">messages</A>.
Solution:   Make <A HREF="various.html#:filter">:filter</A> work for <A HREF="map.html#:command">:command</A>, <A HREF="map.html#:map">:map</A>, <A HREF="various.html#:list">:list</A>, <A HREF="various.html#:number">:number</A> and <A HREF="various.html#:print">:print</A>.
            Make &quot;:filter!&quot; show non-matching lines.
Files:      src/getchar.c, src/ex_cmds.c, src/ex_cmds.h, src/ex_docmd.c,
            src/message.c, src/structs.h, src/testdir/test_filter_cmd.vim

Patch 7.4.2264
Problem:    When adding entries to an empty <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> the title is reset.
Solution:   Improve handling of the title. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim, src/quickfix.c

Patch 7.4.2265
Problem:    <A HREF="eval.html#printf()">printf()</A> isn't tested much.
Solution:   Add more tests for <A HREF="eval.html#printf()">printf()</A>. (Dominique Pelle)
Files:      src/testdir/test_expr.vim

Patch 7.4.2266 (after 7.4.2265)
Problem:    <A HREF="eval.html#printf()">printf()</A> test fails on Windows. &quot;-inf&quot; is not used.
Solution:   Check for Windows-specific values for &quot;nan&quot;.  Add sign to &quot;inf&quot;
            when appropriate.
Files:      src/message.c, src/testdir/test_expr.vim

Patch 7.4.2267 (after 7.4.2266)
Problem:    Build fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add define to get isinf().
Files:      src/message.c

Patch 7.4.2268 (after 7.4.2259)
Problem:    Using <A HREF="motion.html#CTRL-N">CTRL-N</A> and <A HREF="motion.html#CTRL-P">CTRL-P</A> for incsearch shadows completion keys.
Solution:   Use <A HREF="tagsrch.html#CTRL-T">CTRL-T</A> and <A HREF="editing.html#CTRL-G">CTRL-G</A> instead.
Files:      runtime/doc/cmdline.txt, src/ex_getln.c,
            src/testdir/test_search.vim

Patch 7.4.2269
Problem:    Using <A HREF="options.html#'hlsearch'">'hlsearch'</A> highlighting instead of matchpos if there is no
            search match.
Solution:   Pass NULL <A HREF="motion.html#as">as</A> last item to next_search_hl() when searching for
            <A HREF="options.html#'hlsearch'">'hlsearch'</A> match. (Shane Harper, closes #1013)
Files:      src/screen.c, src/testdir/test_match.vim.

Patch 7.4.2270
Problem:    Insufficient <A HREF="eval.html#testing">testing</A> for NUL bytes on a raw <A HREF="channel.html#channel">channel</A>.
Solution:   Add a test for <A HREF="editing.html#writing">writing</A> and reading.
Files:      src/testdir/test_channel.vim

Patch 7.4.2271
Problem:    Netbeans test doesn't read settings from file.
Solution:   Use &quot;-Xnbauth&quot;.
Files:      src/testdir/test_netbeans.vim

Patch 7.4.2272
Problem:    <A HREF="eval.html#getbufinfo()">getbufinfo()</A>, <A HREF="eval.html#getwininfo()">getwininfo()</A> and <A HREF="eval.html#gettabinfo()">gettabinfo()</A> are inefficient.
Solution:   Instead of making a copy of the <A HREF="eval.html#variables">variables</A> dictionary, use a
            reference.
Files:      src/evalfunc.c

Patch 7.4.2273
Problem:    <A HREF="eval.html#getwininfo()">getwininfo()</A> and <A HREF="eval.html#getbufinfo()">getbufinfo()</A> are inefficient.
Solution:   Do not make a copy of all window/buffer-local <A HREF="options.html#options">options</A>.  Make <A HREF="motion.html#it">it</A>
            possible to get them with <A HREF="eval.html#gettabwinvar()">gettabwinvar()</A> or <A HREF="eval.html#getbufvar()">getbufvar()</A>.
Files:      src/evalfunc.c, src/eval.c, src/testdir/test_bufwintabinfo.vim,
            runtime/doc/eval.txt

Patch 7.4.2274
Problem:    Command line completion on &quot;find **/filename&quot; drops sub-directory.
Solution:   Handle this <A HREF="change.html#case">case</A> separately. (Harm te Hennepe, closes #932, closes
            #939)
Files:      src/misc1.c, src/testdir/test_cmdline.vim

Patch 7.4.2275
Problem:    &quot;:diffoff!&quot; does not remove filler lines.
Solution:   Force a redraw and invalidate the cursor. (closes #1014)
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 7.4.2276
Problem:    Command line test fails on Windows when run <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Wipe the buffer so that the directory can be deleted.
Files:      src/testdir/test_cmdline.vim

Patch 7.4.2277
Problem:    Memory leak in <A HREF="eval.html#getbufinfo()">getbufinfo()</A> when there is a sign. (Dominique
            Pelle)
Solution:   Remove extra vim_strsave().
Files:      src/evalfunc.c

Patch 7.4.2278
Problem:    New users have no idea of the <A HREF="options.html#'scrolloff'">'scrolloff'</A> option.
Solution:   Set <A HREF="options.html#'scrolloff'">'scrolloff'</A> in <A HREF="starting.html#defaults.vim">defaults.vim</A>.
Files:      runtime/defaults.vim

Patch 7.4.2279
Problem:    Starting <A HREF="diff.html#diff">diff</A> mode with the cursor in the last line might end up
            only showing one closed fold. (John Beckett)
Solution:   Scroll the <A HREF="windows.html#window">window</A> to show the same relative cursor position.
Files:      src/diff.c, src/window.c, src/proto/window.pro

Patch 7.4.2280
Problem:    <A HREF="eval.html#printf()">printf()</A> doesn't handle infinity float values correctly.
Solution:   Add a table with possible infinity values. (Dominique Pelle)
Files:      src/message.c, src/testdir/test_expr.vim

Patch 7.4.2281
Problem:    Timer test fails sometimes.
Solution:   Reduce minimum time by 1 msec.
Files:      src/testdir/test_timers.vim

Patch 7.4.2282
Problem:    When a child process is very fast waiting 10 msec for <A HREF="motion.html#it">it</A> is
            noticeable. (Ramel Eshed)
Solution:   Start waiting for 1 msec and gradually increase.
Files:      src/os_unix.c

Patch 7.4.2283
Problem:    Part of &quot;<A HREF="starting.html#:oldfiles">:oldfiles</A>&quot; command isn't cleared. (Lifepillar)
Solution:   Clear the rest of the line. (closes 1018)
Files:      src/ex_cmds.c

Patch 7.4.2284
Problem:    Comment in scope header file is outdated. (KillTheMule)
Solution:   Point to the help instead. (closes #1017)
Files:      src/if_cscope.h

Patch 7.4.2285
Problem:    Generated files are outdated.
Solution:   Generate the files.  Avoid <A HREF="message.html#errors">errors</A> when generating prototypes.
Files:      src/if_mzsch.h, src/Makefile, src/option.h, src/os_mac_conv.c,
            src/os_amiga.c, src/vim.h, src/structs.h, src/os_win32.c,
            src/if_lua.c, src/proto/mbyte.pro

Patch 7.4.2286
Problem:    The tee program isn't included.  Makefile contains build
            instructions that don't work.
Solution:   Update the Filelist and build instructions. Remove build
            instructions for <A HREF="os_dos.html#DOS">DOS</A> and old Windows.  Add the tee program.
Files:      Filelist, Makefile, nsis/gvim.nsi

Patch 7.4.2287
Problem:    The callback passed to <A HREF="eval.html#ch_sendraw()">ch_sendraw()</A> is not used.
Solution:   Pass the read part, not the send part. (haya14busa, closes #1019)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.2288
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> build instructions are clumsy. &quot;dosbin&quot; doesn't build.
Solution:   Add rename.bat. Fix building &quot;dosbin&quot;.
Files:      Makefile, Filelist, rename.bat

Patch 7.4.2289
Problem:    When installing and $DESTDIR is set the icons probably won't be
            installed.
Solution:   Create the icon directories if $DESTDIR is not empty. (Danek
            Duvall)
Files:      src/Makefile

Patch 7.4.2290
Problem:    Compiler warning in tiny build. (Tony Mechelynck)
Solution:   Add #ifdef around infinity_str().
Files:      src/message.c

Patch 7.4.2291
Problem:    <A HREF="eval.html#printf()">printf()</A> handles floats wrong when there is a sign.
Solution:   Fix placing the sign.  Add tests. (Dominique Pelle)
Files:      src/testdir/test_expr.vim, runtime/doc/eval.txt, src/message.c

Patch 7.4.2292 (after 7.4.2291)
Problem:    Not all systems understand &#37;F in <A HREF="eval.html#printf()">printf()</A>.
Solution:   Use &#37;f.
Files:      src/message.c

Patch 7.4.2293
Problem:    Modelines in source code are inconsistent.
Solution:   Use the same line in most files.  Add <A HREF="options.html#'noet'">'noet'</A>.  (Naruhiko Nishino)
Files:      src/alloc.h, src/arabic.c, src/arabic.h, src/ascii.h,
            src/blowfish.c, src/buffer.c, src/channel.c, src/charset.c,
            src/crypt.c, src/crypt_zip.c, src/dict.c, src/diff.c,
            src/digraph.c, src/dosinst.c, src/dosinst.h, src/edit.c,
            src/eval.c, src/evalfunc.c, src/ex_cmds.c, src/ex_cmds.h,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c,
            src/farsi.c, src/farsi.h, src/feature.h, src/fileio.c, src/fold.c,
            src/getchar.c, src/glbl_ime.cpp, src/glbl_ime.h, src/globals.h,
            src/gui.c, src/gui.h, src/gui_at_fs.c, src/gui_at_sb.c,
            src/gui_at_sb.h, src/gui_athena.c, src/gui_beval.c,
            src/gui_beval.h, src/gui_gtk.c, src/gui_gtk_f.c, src/gui_gtk_f.h,
            src/gui_gtk_vms.h, src/gui_gtk_x11.c, src/gui_mac.c,
            src/gui_motif.c, src/gui_photon.c, src/gui_w32.c, src/gui_x11.c,
            src/gui_x11_pm.h, src/gui_xmdlg.c, src/gui_xmebw.c,
            src/gui_xmebw.h, src/gui_xmebwp.h, src/hangulin.c, src/hardcopy.c,
            src/hashtab.c, src/if_cscope.c, src/if_cscope.h, src/if_mzsch.c,
            src/if_mzsch.h, src/if_ole.cpp, src/if_perl.xs, src/if_perlsfio.c,
            src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/if_xcmdsrv.c,
            src/integration.c, src/integration.h, src/iscygpty.c, src/json.c,
            src/json_test.c, src/keymap.h, src/list.c, src/macros.h,
            src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,
            src/memfile_test.c, src/memline.c, src/menu.c, src/message.c,
            src/message_test.c, src/misc1.c, src/misc2.c, src/move.c,
            src/nbdebug.c, src/nbdebug.h, src/netbeans.c, src/normal.c,
            src/ops.c, src/option.c, src/option.h, src/os_amiga.c,
            src/os_amiga.h, src/os_beos.c, src/os_beos.h, src/os_dos.h,
            src/os_mac.h, src/os_mac_conv.c, src/os_macosx.m, src/os_mint.h,
            src/os_mswin.c, src/os_qnx.c, src/os_qnx.h, src/os_unix.c,
            src/os_unix.h, src/os_unixx.h, src/os_vms.c, src/os_w32dll.c,
            src/os_w32exe.c, src/os_win32.c, src/os_win32.h, src/popupmnu.c,
            src/proto.h, src/pty.c, src/quickfix.c, src/regexp.c,
            src/regexp.h, src/regexp_nfa.c, src/screen.c, src/search.c,
            src/sha256.c, src/spell.c, src/spell.h, src/spellfile.c,
            src/structs.h, src/syntax.c, src/tag.c, src/term.c, src/term.h,
            src/termlib.c, src/ui.c, src/undo.c, src/uninstal.c,
            src/userfunc.c, src/version.c, src/version.h, src/vim.h,
            src/vim.rc, src/vimio.h, src/vimrun.c, src/winclip.c,
            src/window.c, src/workshop.c, src/workshop.h, src/wsdebug.c,
            src/wsdebug.h, src/xpm_w32.c

Patch 7.4.2294
Problem:    Sign test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> when using the distributed <A HREF="pi_zip.html#zip">zip</A>
            archives.
Solution:   Create dummy files instead of relying on files in the pixmaps
            directory.
Files:      src/testdir/test_signs.vim

Patch 7.4.2295 (after 7.4.2293)
Problem:    <A HREF="if_cscop.html#Cscope">Cscope</A> test fails.
Solution:   Avoid checking for specific line and column numbers.
Files:      src/testdir/test_cscope.vim

Patch 7.4.2296
Problem:    No tests for <A HREF="undo.html#:undolist">:undolist</A> and &quot;<A HREF="undo.html#U">U</A>&quot; command.
Solution:   Add tests. (Dominique Pelle)
Files:      src/testdir/test_undo.vim

Patch 7.4.2297
Problem:    When starting a <A HREF="channel.html#job">job</A> that reads from a buffer and reaching the end,
            the <A HREF="channel.html#job">job</A> hangs.
Solution:   Close the pipe or socket when all lines were read.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 7.4.2298
Problem:    It is not possible to close the &quot;in&quot; part of a <A HREF="channel.html#channel">channel</A>.
Solution:   Add <A HREF="eval.html#ch_close_in()">ch_close_in()</A>.
Files:      src/evalfunc.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt,
            runtime/doc/channel.txt

Patch 7.4.2299
Problem:    <A HREF="autocmd.html#QuickFixCmdPre">QuickFixCmdPre</A> and <A HREF="autocmd.html#QuickFixCmdPost">QuickFixCmdPost</A> <A HREF="autocmd.html#autocommands">autocommands</A> are not always
            triggered.
Solution:   Also trigger on &quot;<A HREF="quickfix.html#:cexpr">:cexpr</A>&quot;, &quot;<A HREF="quickfix.html#:cbuffer">:cbuffer</A>&quot;, etc. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 7.4.2300
Problem:    Get warning for <A HREF="change.html#deleting">deleting</A> <A HREF="autocmd.html#autocommand">autocommand</A> group when the <A HREF="autocmd.html#autocommand">autocommand</A>
            using the group is scheduled for deletion. (Pavol Juhas)
Solution:   Check for deleted <A HREF="autocmd.html#autocommand">autocommand</A>.
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 7.4.2301
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: some files remain after <A HREF="eval.html#testing">testing</A>.
Solution:   Close the <A HREF="channel.html#channel">channel</A> output file.  Wait for the file handle to be
            closed before <A HREF="change.html#deleting">deleting</A> the file.
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 7.4.2302
Problem:    Default interface versions for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> are outdated.
Solution:   Use Active <A HREF="if_perl.html#Perl">Perl</A> 5.24, <A HREF="if_pyth.html#Python">Python</A> 3.5.2.  Could only make <A HREF="motion.html#it">it</A> work with
            <A HREF="if_ruby.html#Ruby">Ruby</A> 1.9.2.
Files:      src/bigvim.bat, src/bigvim64.bat, src/Make_mvc.mak

Patch 7.4.2303
Problem:    When using &quot;is&quot; the mode isn't always updated.
Solution:   Redraw the command line. (Christian Brabandt)
Files:      src/search.c

Patch 7.4.2304
Problem:    In a <A HREF="eval.html#timer">timer</A> callback the <A HREF="eval.html#timer">timer</A> itself can't be found or stopped.
            (Thinca)
Solution:   Do not remove the <A HREF="eval.html#timer">timer</A> from the <A HREF="eval.html#list">list</A>, remember whether <A HREF="motion.html#it">it</A> was
            freed.
Files:      src/ex_cmds2.c, src/testdir/test_timers.vim

Patch 7.4.2305
Problem:    Marks, writefile and nested function tests are old style.
Solution:   Turn them into new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test_marks.in,
            src/testdir/test_marks.ok, src/testdir/test_marks.vim,
            src/testdir/test_nested_function.in,
            src/testdir/test_nested_function.ok,
            src/testdir/test_nested_function.vim,
            src/testdir/test_writefile.in, src/testdir/test_writefile.ok,
            src/testdir/test_writefile.vim, src/Makefile

Patch 7.4.2306
Problem:    Default value for <A HREF="options.html#'langremap'">'langremap'</A> is wrong.
Solution:   Set the right value. (Jrgen Krmer)  Add a test.
Files:      src/option.c, src/testdir/test_mapping.vim

Patch 7.4.2307
Problem:    Several tests are old style.
Solution:   Turn them into new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test102.in,
            src/testdir/test102.ok, src/testdir/test46.in,
            src/testdir/test46.ok, src/testdir/test81.in,
            src/testdir/test81.ok, src/testdir/test_charsearch.in,
            src/testdir/test_charsearch.ok, src/testdir/test_charsearch.vim,
            src/testdir/test_fnameescape.vim, src/testdir/test_substitute.vim,
            src/Makefile

Patch 7.4.2308 (after 7.4.2307)
Problem:    Old charsearch test still listed in Makefile.
Solution:   Remove the line.
Files:      src/testdir/Make_all.mak

Patch 7.4.2309
Problem:    Crash when doing tabnext in a <A HREF="autocmd.html#BufUnload">BufUnload</A> autocmd. (Dominique Pelle)
Solution:   When detecting that the <A HREF="intro.html#tab">tab</A> page changed, don't just abort but
            delete the <A HREF="windows.html#window">window</A> where w_buffer is NULL.
Files:      src/window.c, src/testdir/test_tabpage.vim

Patch 7.4.2310 (after 7.4.2304)
Problem:    Accessing freed memory when a <A HREF="eval.html#timer">timer</A> does not repeat.
Solution:   Free after removing <A HREF="motion.html#it">it</A>. (Dominique Pelle)
Files:      src/ex_cmds2.c

Patch 7.4.2311
Problem:    Appveyor 64 bit build still using <A HREF="if_pyth.html#Python">Python</A> 3.4
Solution:   Switch to <A HREF="if_pyth.html#Python">Python</A> 3.5. (Ken Takata, closes #1032)
Files:      appveyor.yml, src/appveyor.bat

Patch 7.4.2312
Problem:    Crash when <A HREF="autocmd.html#autocommand">autocommand</A> moves to another <A HREF="intro.html#tab">tab</A>. (Dominique Pelle)
Solution:   When navigating to another <A HREF="windows.html#window">window</A> halfway the <A HREF="editing.html#:edit">:edit</A> command go
            back to the right <A HREF="windows.html#window">window</A>.
Files:      src/buffer.c, src/ex_cmds.c, src/ex_getln.c, src/ex_docmd.c,
            src/window.c, src/proto/ex_getln.pro, src/testdir/test_tabpage.vim

Patch 7.4.2313
Problem:    Crash when <A HREF="change.html#deleting">deleting</A> an augroup and listing an <A HREF="autocmd.html#autocommand">autocommand</A>.
            (Dominique Pelle)
Solution:   Make sure deleted_augroup is valid.
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 7.4.2314
Problem:    No error when <A HREF="change.html#deleting">deleting</A> an augroup while it's the current one.
Solution:   Disallow <A HREF="change.html#deleting">deleting</A> an augroup when it's the current one.
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 7.4.2315
Problem:    Insufficient <A HREF="eval.html#testing">testing</A> for <A HREF="intro.html#Normal">Normal</A> mode commands.
Solution:   Add a big test. (Christian Brabandt, closes #1029)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_normal.vim

Patch 7.4.2316
Problem:    <A HREF="eval.html#Channel">Channel</A> sort test is flaky.
Solution:   Add a check the output has been read.
Files:      src/testdir/test_channel.vim

Patch 7.4.2317 (after 7.4.2315)
Problem:    <A HREF="intro.html#Normal">Normal</A> mode tests fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do some tests only on <A HREF="os_unix.html#Unix">Unix</A>.  Set <A HREF="options.html#'fileformat'">'fileformat'</A> to &quot;<A HREF="os_unix.html#unix">unix</A>&quot;.
Files:      src/testdir/test_normal.vim

Patch 7.4.2318
Problem:    When <A HREF="options.html#'incsearch'">'incsearch'</A> is not set <A HREF="tagsrch.html#CTRL-T">CTRL-T</A> and <A HREF="editing.html#CTRL-G">CTRL-G</A> are not inserted <A HREF="motion.html#as">as</A>
            before.
Solution:   Move #ifdef and don't use goto.
Files:      src/ex_getln.c

Patch 7.4.2319
Problem:    No way for a system wide <A HREF="starting.html#vimrc">vimrc</A> to stop loading <A HREF="starting.html#defaults.vim">defaults.vim</A>.
            (Christian Hesse)
Solution:   Bail out of <A HREF="starting.html#defaults.vim">defaults.vim</A> if <A HREF="starting.html#skip_defaults_vim">skip_defaults_vim</A> was set.
Files:      runtime/defaults.vim

Patch 7.4.2320
Problem:    Redraw problem when using <A HREF="options.html#'incsearch'">'incsearch'</A>.
Solution:   Save the current <A HREF="starting.html#view">view</A> when <A HREF="change.html#deleting">deleting</A> characters. (Christian
            Brabandt) Fix that the &#39;&#34;' <A HREF="motion.html#mark">mark</A> is set in the wrong position. Don't
            change the search start when using BS.
Files:      src/ex_getln.c, src/normal.c, src/testdir/test_search.vim

Patch 7.4.2321
Problem:    When a test is commented out we forget about <A HREF="motion.html#it">it</A>.
Solution:   Let a test throw an exception with &quot;Skipped&quot; and <A HREF="eval.html#list">list</A> skipped test
            <A HREF="eval.html#functions">functions</A>. (Christian Brabandt)
Files:      src/testdir/Makefile, src/testdir/runtest.vim,
            src/testdir/test_popup.vim, src/testdir/README.txt

Patch 7.4.2322
Problem:    Access memory beyond the end of the line. (Dominique Pelle)
Solution:   Adjust the cursor column.
Files:      src/move.c, src/testdir/test_normal.vim

Patch 7.4.2323
Problem:    Using freed memory when using <A HREF="options.html#'formatexpr'">'formatexpr'</A>. (Dominique Pelle)
Solution:   Make a copy of <A HREF="options.html#'formatexpr'">'formatexpr'</A> before evaluating <A HREF="motion.html#it">it</A>.
Files:      src/ops.c, src/testdir/test_normal.vim

Patch 7.4.2324
Problem:    Crash when editing a new buffer and <A HREF="autocmd.html#BufUnload">BufUnload</A> <A HREF="autocmd.html#autocommand">autocommand</A> wipes
            out the new buffer. (Norio Takagi)
Solution:   Don't allow wiping out this buffer. (partly by Hirohito Higashi)
            Move old style test13 into test_autocmd. Avoid ml_get error when
            editing a file.
Files:      src/structs.h, src/buffer.c, src/ex_cmds.c, src/ex_docmd.c,
            src/window.c, src/testdir/test13.in, src/testdir/test13.ok,
            src/testdir/test_autocmd.vim, src/testdir/Make_all.mak,
            src/Makefile

Patch 7.4.2325 (after 7.4.2324)
Problem:    Tiny build fails.
Solution:   Add #ifdef.
Files:      src/buffer.c

Patch 7.4.2326
Problem:    Illegal memory access when <A HREF="visual.html#Visual">Visual</A> selection starts in invalid
            position. (Dominique Pelle)
Solution:   Correct position when needed.
Files:      src/normal.c, src/misc2.c, src/proto/misc2.pro

Patch 7.4.2327
Problem:    Freeing a variable that is on the stack.
Solution:   Don't free res_tv or err_tv. (Ozaki Kiichi)
Files:      src/channel.c

Patch 7.4.2328
Problem:    Crash when <A HREF="autocmd.html#BufWinLeave">BufWinLeave</A> autocmd goes to another <A HREF="intro.html#tab">tab</A> page. (Hirohito
            Higashi)
Solution:   Make close_buffer() go back to the right <A HREF="windows.html#window">window</A>.
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 7.4.2329
Problem:    Error for <A HREF="eval.html#min()">min()</A> and <A HREF="eval.html#max()">max()</A> contains &#37;s. (Nikolai Pavlov)
Solution:   Pass the function name. (closes #1040)
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 7.4.2330
Problem:    Coverity complains about not checking curwin to be NULL.
Solution:   Use firstwin to avoid the warning.
Files:      src/buffer.c

Patch 7.4.2331
Problem:    Using <A HREF="change.html#CTRL-X">CTRL-X</A> <A HREF="visual.html#CTRL-V">CTRL-V</A> to complete a command line from <A HREF="insert.html#Insert">Insert</A> mode
            does not work after entering an <A HREF="eval.html#expression">expression</A> on the command line.
Solution:   Don't use &quot;ccline&quot; when not actually using a command line. (test
            by Hirohito Higashi)
Files:      src/edit.c, src/ex_getln.c, src/proto/ex_getln.pro,
            src/testdir/test_popup.vim

Patch 7.4.2332
Problem:    Crash when stop_timer() is called in a callback of a callback.
            Vim hangs when the <A HREF="eval.html#timer">timer</A> callback uses too much time.
Solution:   Set tr_id to -1 when a <A HREF="eval.html#timer">timer</A> is to be deleted. Don't keep calling
            callbacks forever. (Ozaki Kiichi)
Files:      src/evalfunc.c, src/ex_cmds2.c, src/structs.h,
            src/proto/ex_cmds2.pro, src/testdir/test_timers.vim

Patch 7.4.2333
Problem:    Outdated comments in test.
Solution:   Cleanup normal mode test. (Christian Brabandt)
Files:      src/testdir/test_normal.vim

Patch 7.4.2334
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> test_getcwd leaves Xtopdir behind.
Solution:   Set <A HREF="options.html#'noswapfile'">'noswapfile'</A>. (Michael Soyka)
Files:      src/testdir/test_getcwd.in

Patch 7.4.2335
Problem:    <A HREF="eval.html#taglist()">taglist()</A> is slow. (Luc Hermitte)
Solution:   Check for <A HREF="pattern.html#CTRL-C">CTRL-C</A> <A HREF="various.html#less">less</A> often when doing a linear search. (closes
            #1044)
Files:      src/tag.c

Patch 7.4.2336
Problem:    Running normal mode tests leave a couple of files behind.
            (Yegappan Lakshmanan)
Solution:   Delete the files. (Christian Brabandt)
Files:      src/testdir/test_normal.vim

Patch 7.4.2337
Problem:    <A HREF="eval.html#taglist()">taglist()</A> is still slow. (Luc Hermitte)
Solution:   Check for <A HREF="pattern.html#CTRL-C">CTRL-C</A> <A HREF="various.html#less">less</A> often when finding duplicates.
Files:      src/tag.c

Patch 7.4.2338
Problem:    Can't build with small features. (John Marriott)
Solution:   Nearly always define FEAT_TAG_BINS.
Files:      src/feature.h, src/tag.c

Patch 7.4.2339
Problem:    <A HREF="intro.html#Tab">Tab</A> page test fails when run <A HREF="motion.html#as">as</A> fake root.
Solution:   Check <A HREF="options.html#'buftype'">'buftype'</A> instead of <A HREF="options.html#'filetype'">'filetype'</A>. (James McCoy, closes #1042)
Files:      src/testdir/test_tabpage.vim

Patch 7.4.2340
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Building with <A HREF="if_ruby.html#Ruby">Ruby</A> uses old version.
Solution:   Update to 2.2.X. Use clearer name for the API version. (Ken
            Takata)
Files:      Makefile, src/INSTALLpc.txt, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/bigvim.bat

Patch 7.4.2341
Problem:    Tiny things.  Test doesn't clean up properly.
Solution:   Adjust comment and white space. Restore option value.
Files:      src/ex_cmds.c, src/message.c, src/testdir/test_autocmd.vim

Patch 7.4.2342
Problem:    Typo in <A HREF="os_win32.html#MS-Windows">MS-Windows</A> build <A HREF="usr_41.html#script">script</A>.
Solution:   change &quot;w2&quot; to &quot;22&quot;.
Files:      src/bigvim.bat

Patch 7.4.2343
Problem:    Too many old style tests.
Solution:   Turn several into new style tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/test101.in,
            src/testdir/test101.ok, src/testdir/test18.in,
            src/testdir/test18.ok, src/testdir/test2.in, src/testdir/test2.ok,
            src/testdir/test21.in, src/testdir/test21.ok,
            src/testdir/test6.in, src/testdir/test6.ok,
            src/testdir/test_arglist.vim, src/testdir/test_charsearch.vim,
            src/testdir/test_fnameescape.vim, src/testdir/test_gf.vim,
            src/testdir/test_hlsearch.vim, src/testdir/test_smartindent.vim,
            src/testdir/test_tagjump.vim, src/Makefile

Patch 7.4.2344
Problem:    The &quot;Reading from <A HREF="channel.html#channel">channel</A> output...&quot; message can be unwanted.
            Appending to a buffer leaves an empty first line behind.
Solution:   Add the &quot;<A HREF="channel.html#out_msg">out_msg</A>&quot; and &quot;<A HREF="channel.html#err_msg">err_msg</A>&quot; <A HREF="options.html#options">options</A>. Writing the first line
            overwrites the first, empty line.
Files:      src/structs.h, src/channel.c, src/testdir/test_channel.vim,
            runtime/doc/channel.txt

Patch 7.4.2345 (after 7.4.2340)
Problem:    For MinGW RUBY_API_VER_LONG isn't set correctly.  Many default
            version numbers are outdated.
Solution:   Set RUBY_API_VER_LONG to RUBY_VER_LONG. Use latest stable releases
            for defaults. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 7.4.2346
Problem:    Autocommand test fails when run directly, passes when run <A HREF="motion.html#as">as</A> part
            of test_alot.
Solution:   Add command to make the cursor move.  Close a <A HREF="intro.html#tab">tab</A> page.
Files:      src/testdir/test_autocmd.vim

Patch 7.4.2347
Problem:    Crash when closing a buffer while <A HREF="visual.html#Visual">Visual</A> mode is active.
            (Dominique Pelle)
Solution:   Adjust the position before computing the number of lines.
            When closing the current buffer stop <A HREF="visual.html#Visual">Visual</A> mode.
Files:      src/buffer.c, src/normal.c, src/testdir/test_normal.vim

Patch 7.4.2348
Problem:    Crash on exit when EXITFREE is defined. (Dominique Pelle)
Solution:   Don't access curwin when <A HREF="starting.html#exiting">exiting</A>.
Files:      src/buffer.c

Patch 7.4.2349
Problem:    Valgrind reports using uninitialized memory. (Dominique Pelle)
Solution:   Check the length before checking for a NUL.
Files:      src/message.c

Patch 7.4.2350
Problem:    Test 86 and 87 fail with some version of <A HREF="if_pyth.html#Python">Python</A>.
Solution:   Unify &quot;can't&quot; and &quot;cannot&quot;.  Unify <A HREF="quotes.html#quotes">quotes</A>.
Files:      src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test87.in, src/testdir/test87.ok

Patch 7.4.2351
Problem:    Netbeans test fails when run from unpacked <A HREF="os_win32.html#MS-Windows">MS-Windows</A> sources.
Solution:   Open README.txt instead of Makefile.
Files:      src/testdir/test_netbeans.py, src/testdir/test_netbeans.vim

Patch 7.4.2352
Problem:    Netbeans test fails in shadow directory.
Solution:   Also copy README.txt to the shadow directory.
Files:      src/Makefile

Patch 7.4.2353
Problem:    Not enough test coverage for <A HREF="intro.html#Normal">Normal</A> mode commands.
Solution:   Add more tests. (Christian Brabandt)
Files:      src/testdir/test_normal.vim

Patch 7.4.2354
Problem:    The example that explains nested backreferences does not work
            properly with the new <A HREF="pattern.html#regexp">regexp</A> engine. (Harm te Hennepe)
Solution:   Also save the end position when adding a state. (closes #990)
Files:      src/regexp_nfa.c, src/testdir/test_regexp_latin.vim

Patch 7.4.2355
Problem:    Regexp fails to match when using &quot;\&gt;\)\?&quot;. (Ramel)
Solution:   When a state is already in the <A HREF="eval.html#list">list</A>, but addstate_here() is used
            and the existing state comes later, add the new state anyway.
Files:      src/regexp_nfa.c, src/testdir/test_regexp_latin.vim

Patch 7.4.2356
Problem:    Reading past end of line when using previous substitute <A HREF="pattern.html#pattern">pattern</A>.
            (Dominique Pelle)
Solution:   Don't set &quot;pat&quot; only set &quot;searchstr&quot;.
Files:      src/search.c, src/testdir/test_search.vim

Patch 7.4.2357
Problem:    Attempt to read <A HREF="cmdline.html#history">history</A> entry while not initialized.
Solution:   Skip when the index is negative.
Files:      src/ex_getln.c

Patch 7.4.2358
Problem:    Compiler warnings with Solaris Studio when using <A HREF="gui_x11.html#GTK3">GTK3</A>. (Danek
            Duvall)
Solution:   Define FUNC2GENERIC depending on the system. (Kazunobu Kuriyama)
Files:      src/gui.h, src/gui_beval.c, src/gui_gtk_f.c

Patch 7.4.2359
Problem:    Memory leak in <A HREF="eval.html#timer_start()">timer_start()</A>.
Solution:   Check the right field to be NULL.
Files:      src/evalfunc.c, src/testdir/test_timers.vim

Patch 7.4.2360
Problem:    Invalid memory access when <A HREF="change.html#formatting">formatting</A>. (Dominique Pelle)
Solution:   Make sure cursor line and column are associated.
Files:      src/misc1.c

Patch 7.4.2361
Problem:    Checking for last_timer_id to overflow is not reliable. (Ozaki
            Kiichi)
Solution:   Check for the number not going up.
Files:      src/ex_cmds2.c

Patch 7.4.2362
Problem:    Illegal memory access with &quot;:1@&quot;. (Dominique Pelle)
Solution:   Correct cursor column after setting the line number.  Also avoid
            calling end_visual_mode() when not in <A HREF="visual.html#Visual">Visual</A> mode.
Files:      src/ex_docmd.c, src/buffer.c

Patch 7.4.2363
Problem:    Superfluous function prototypes.
Solution:   Remove them.
Files:      src/regexp.c

Patch 7.4.2364
Problem:    Sort test sometimes fails.
Solution:   Add <A HREF="motion.html#it">it</A> to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 7.4.2365
Problem:    Needless line break. Confusing directory name.
Solution:   Remove line break.  Prepend &quot;../&quot; to &quot;tools&quot;.
Files:      Makefile, src/normal.c

Patch 7.4.2366
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> gvim.exe does not have DirectX support.
Solution:   Add the DIRECTX to the <A HREF="usr_41.html#script">script</A>.
Files:      src/bigvim.bat

Patch 7.4.2367 (after 7.4.2364)
Problem:    Test runner misses a comma.
Solution:   Add the comma.
Files:      src/testdir/runtest.vim


==============================================================================

VERSION 8.1				*<A NAME="version-8.1"></A><B>version-8.1</B>* *<A NAME="version8.1"></A><B>version8.1</B>* *<A NAME="vim-8.1"></A><B>vim-8.1</B>*

This section is about improvements made between version 8.0 and 8.1.

This release has hundreds of bug fixes, there is a new feature and there are
many minor improvements.



The <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>				*<A NAME="new-terminal-window"></A><B>new-terminal-window</B>*

You can now open a <A HREF="windows.html#window">window</A> which <A HREF="eval.html#functions">functions</A> <A HREF="motion.html#as">as</A> a <A HREF="terminal.html#terminal">terminal</A>.  You can use <A HREF="motion.html#it">it</A> for:
- Running a command, such <A HREF="motion.html#as">as</A> &quot;make&quot;, while editing in other <A HREF="windows.html#windows">windows</A>
- Running a shell and execute several commands
- Use the terminal debugger <A HREF="usr_05.html#plugin">plugin</A>, see |<A HREF="terminal.html#terminal-debugger">terminal-debugger</A>|

All of this is especially useful when running Vim on a remote (ssh)
connection, when you can't easily open more terminals.

For more information see |<A HREF="terminal.html#terminal-window">terminal-window</A>|.



Changed							*<A NAME="changed-8.1"></A><B>changed-8.1</B>*

Internal: A few <A HREF="develop.html#C99">C99</A> features are now allowed such <A HREF="motion.html#as">as</A> <A HREF="version7.html#//">//</A> comments and a
comma after the last enum entry.  See |<A HREF="develop.html#style-compiler">style-compiler</A>|.

Since patch 8.0.0029 removed support for older <A HREF="os_win32.html#MS-Windows">MS-Windows</A> systems, only
<A HREF="os_win32.html#MS-Windows">MS-Windows</A> XP and later are supported.



Added							*<A NAME="added-8.1"></A><B>added-8.1</B>*

Various <A HREF="syntax.html#syntax">syntax</A>, indent and other plugins were added.

<A HREF="quickfix.html#Quickfix">Quickfix</A> improvements (by Yegappan Lakshmanan):
	Added support for modifying any quickfix/location <A HREF="eval.html#list">list</A> in the <A HREF="quickfix.html#quickfix">quickfix</A>
	stack.
	Added a unique identifier for every quickfix/location <A HREF="eval.html#list">list</A>.
	Added support for associating any Vim type <A HREF="motion.html#as">as</A> a context information to
	a quickfix/location <A HREF="eval.html#list">list</A>.
	Enhanced the <A HREF="eval.html#getqflist()">getqflist()</A>, <A HREF="eval.html#getloclist()">getloclist()</A>, <A HREF="eval.html#setqflist()">setqflist()</A> and <A HREF="eval.html#setloclist()">setloclist()</A>
	<A HREF="eval.html#functions">functions</A> to get and set the various quickfix/location <A HREF="eval.html#list">list</A> attributes.
	Added the QuickFixLine highlight group to highlight the current line
	in the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>.
	The <A HREF="quickfix.html#quickfix">quickfix</A> buffer <A HREF="eval.html#b:changedtick">b:changedtick</A> variable is incremented for every
	change to the contained <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
	Added a changedtick variable to a quickfix/location <A HREF="eval.html#list">list</A> which is
	incremented when the <A HREF="eval.html#list">list</A> is modified.
	Added support for parsing text using <A HREF="options.html#'errorformat'">'errorformat'</A> without creating a
	new <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
	Added support for the &quot;module&quot; item to a <A HREF="quickfix.html#quickfix">quickfix</A> entry which can be
	used for display purposes instead of a long file name.
	Added support for freeing all the lists in the quickfix/location stack.
	When opening a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> using the :copen/:cwindow commands, the
	supplied split modifiers are used.

Functions:
	All the term_ <A HREF="eval.html#functions">functions</A>.

	|<A HREF="eval.html#assert_beeps()">assert_beeps()</A>|
	|<A HREF="eval.html#assert_equalfile()">assert_equalfile()</A>|
	|<A HREF="eval.html#assert_report()">assert_report()</A>|
	|<A HREF="eval.html#balloon_show()">balloon_show()</A>|
	|<A HREF="eval.html#balloon_split()">balloon_split()</A>|
	|<A HREF="eval.html#ch_canread()">ch_canread()</A>|
	|<A HREF="eval.html#getchangelist()">getchangelist()</A>|
	|<A HREF="eval.html#getjumplist()">getjumplist()</A>|
	|<A HREF="eval.html#getwinpos()">getwinpos()</A>|
	|<A HREF="eval.html#pyxeval()">pyxeval()</A>|
	|<A HREF="eval.html#remote_startserver()">remote_startserver()</A>|
	|<A HREF="eval.html#setbufline()">setbufline()</A>|
	|<A HREF="eval.html#test_ignore_error()">test_ignore_error()</A>|
	|<A HREF="eval.html#test_override()">test_override()</A>|
	|<A HREF="eval.html#trim()">trim()</A>|
	|<A HREF="eval.html#win_screenpos()">win_screenpos()</A>|

Autocommands:
	|<A HREF="autocmd.html#CmdlineChanged">CmdlineChanged</A>|
	|<A HREF="autocmd.html#CmdlineEnter">CmdlineEnter</A>|
	|<A HREF="autocmd.html#CmdlineLeave">CmdlineLeave</A>|
	|<A HREF="autocmd.html#ColorSchemePre">ColorSchemePre</A>|
	|<A HREF="autocmd.html#DirChanged">DirChanged</A>|
	|<A HREF="autocmd.html#ExitPre">ExitPre</A>|
	|<A HREF="autocmd.html#TerminalOpen">TerminalOpen</A>|
	|<A HREF="autocmd.html#TextChangedP">TextChangedP</A>|
	|<A HREF="autocmd.html#TextYankPost">TextYankPost</A>|

Commands:
	|<A HREF="if_pyth.html#:pyx">:pyx</A>|
	|<A HREF="if_pyth.html#:pythonx">:pythonx</A>|
	|<A HREF="if_pyth.html#:pyxdo">:pyxdo</A>|
	|<A HREF="if_pyth.html#:pyxfile">:pyxfile</A>|
	|<A HREF="terminal.html#:terminal">:terminal</A>|
	|<A HREF="map.html#:tmapclear">:tmapclear</A>|
	|<A HREF="map.html#:tmap">:tmap</A>|
	|<A HREF="map.html#:tnoremap">:tnoremap</A>|
	|<A HREF="map.html#:tunmap">:tunmap</A>|

Options:
	<A HREF="options.html#'balloonevalterm'">'balloonevalterm'</A>
	<A HREF="options.html#'imstyle'">'imstyle'</A>
	<A HREF="options.html#'mzschemedll'">'mzschemedll'</A>
	<A HREF="options.html#'mzschemegcdll'">'mzschemegcdll'</A>
	<A HREF="options.html#'makeencoding'">'makeencoding'</A>
	<A HREF="options.html#'pumwidth'">'pumwidth'</A>
	<A HREF="options.html#'pythonhome'">'pythonhome'</A>
	<A HREF="options.html#'pythonthreehome'">'pythonthreehome'</A>
	<A HREF="options.html#'pyxversion'">'pyxversion'</A>
	<A HREF="options.html#'termwinkey'">'termwinkey'</A>
	<A HREF="options.html#'termwinscroll'">'termwinscroll'</A>
	<A HREF="options.html#'termwinsize'">'termwinsize'</A>
	<A HREF="options.html#'viminfofile'">'viminfofile'</A>
	<A HREF="options.html#'winptydll'">'winptydll'</A>



Patches							*<A NAME="patches-8.1"></A><B>patches-8.1</B>*

Patch 8.0.0001
Problem:    Intro screen still mentions version7. (Paul)
Solution:   Change <A HREF="motion.html#it">it</A> to version8.
Files:	    src/version.c

Patch 8.0.0002
Problem:    The <A HREF="pi_netrw.html#netrw">netrw</A> <A HREF="usr_05.html#plugin">plugin</A> does not work.
Solution:   Make <A HREF="motion.html#it">it</A> accept version 8.0.
Files:      runtime/autoload/netrw.vim

Patch 8.0.0003
Problem:    <A HREF="eval.html#getwinvar()">getwinvar()</A> returns wrong Value of <A HREF="options.html#boolean">boolean</A> and number <A HREF="options.html#options">options</A>,
            especially non big endian systems. (James McCoy)
Solution:   Cast the pointer to long or int. (closes #1060)
Files:      src/option.c, src/testdir/test_bufwintabinfo.vim

Patch 8.0.0004
Problem:    A <A HREF="eval.html#string">string</A> argument for <A HREF="eval.html#function()">function()</A> that is not a function name
            results in an error message with NULL. (Christian Brabandt)
Solution:   Use the argument for the error message.
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 8.0.0005
Problem:    Netbeans test fails with <A HREF="if_pyth.html#Python">Python</A> 3. (Jonathonf)
Solution:   Encode the <A HREF="eval.html#string">string</A> before sending <A HREF="motion.html#it">it</A>. (closes #1070)
Files:      src/testdir/test_netbeans.py

Patch 8.0.0006
Problem:    &quot;<A HREF="quickfix.html#:lb">:lb</A>&quot; is interpreted <A HREF="motion.html#as">as</A> &quot;<A HREF="quickfix.html#:lbottom">:lbottom</A>&quot; while the documentation says <A HREF="motion.html#it">it</A>
            means &quot;<A HREF="quickfix.html#:lbuffer">:lbuffer</A>&quot;.
Solution:   Adjust the order of the commands. (haya14busa, closes #1093)
Files:      src/ex_cmds.h

Patch 8.0.0007
Problem:    Vim 7.4 is still mentioned in a few places.
Solution:   Update to Vim 8.  (Uncle Bill, closes #1094)
Files:      src/INSTALLpc.txt, src/vimtutor, uninstal.txt

Patch 8.0.0008
Problem:    Popup complete test is disabled.
Solution:   Enable the test and change the assert. (Hirohito Higashi)
Files:      src/testdir/test_popup.vim

Patch 8.0.0009
Problem:    Unnecessary workaround for AppVeyor.
Solution:   Revert patch 7.4.990. (Christian Brabandt)
Files:      appveyor.yml

Patch 8.0.0010
Problem:    Crash when editing file that starts with crypt header. (igor2x)
Solution:   Check for length of text. (Christian Brabandt) Add a test.
Files:      src/fileio.c, src/testdir/test_crypt.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0011
Problem:    On OSX Test_pipe_through_sort_all() sometimes fails.
Solution:   Add the test to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.0012
Problem:    Typos in comments.
Solution:   Change &quot;its&quot; to &quot;it's&quot;. (Matthew Brener, closes #1088)
Files:      src/evalfunc.c, src/main.aap, src/nbdebug.c, src/netbeans.c,
            src/quickfix.c, src/workshop.c, src/wsdebug.c

Patch 8.0.0013 (after 8.0.0011)
Problem:    Missing comma in <A HREF="eval.html#list">list</A>.
Solution:   Add the comma.
Files:      src/testdir/runtest.vim

Patch 8.0.0014
Problem:    Crypt tests are old style.
Solution:   Convert to new style.
Files:      src/testdir/test71.in, src/testdir/test71.ok,
	    src/testdir/test71a.in, src/testdir/test_crypt.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0015
Problem:    Can't tell which part of a <A HREF="channel.html#channel">channel</A> has &quot;buffered&quot; status.
Solution:   Add an optional argument to <A HREF="eval.html#ch_status()">ch_status()</A>.  Let <A HREF="eval.html#ch_info()">ch_info()</A> also
            return &quot;buffered&quot; for out_status and err_status.
Files:      src/evalfunc.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, runtime/doc/eval.txt

Patch 8.0.0016 (after 8.0.0015)
Problem:    Build fails.
Solution:   Include missing change.
Files:      src/eval.c

Patch 8.0.0017
Problem:    Cannot get the number of the current <A HREF="quickfix.html#quickfix">quickfix</A> or location <A HREF="eval.html#list">list</A>.
Solution:   Use the current <A HREF="eval.html#list">list</A> if &quot;nr&quot; in &quot;what&quot; is zero. (Yegappan
            Lakshmanan)  Remove debug command from test.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim,
            runtime/doc/eval.txt

Patch 8.0.0018
Problem:    When using &quot;<A HREF="various.html#:sleep">:sleep</A>&quot; <A HREF="channel.html#channel">channel</A> input is not handled.
Solution:   When there is a <A HREF="channel.html#channel">channel</A> check for input also when not in raw mode.
            Check every 100 msec.
Files:      src/channel.c, src/proto/channel.pro, src/ui.c, src/proto/ui.pro,
            src/ex_docmd.c, src/os_amiga.c, src/proto/os_amiga.pro,
            src/os_unix.c, src/proto/os_unix.pro, src/os_win32.c,
            src/proto/os_win32.pro

Patch 8.0.0019
Problem:    Test_command_count is old style.
Solution:   Turn <A HREF="motion.html#it">it</A> into a new style test. (Naruhiko Nishino)
            Use more assert <A HREF="eval.html#functions">functions</A>.
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_alot.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_command_count.in,
            src/testdir/test_command_count.ok,
            src/testdir/test_command_count.vim

Patch 8.0.0020
Problem:    The <A HREF="pattern.html#regexp">regexp</A> engines are not reentrant.
Solution:   Add regexec_T and save/restore the state when needed.
Files:      src/regexp.c, src/regexp_nfa.c, src/testdir/test_expr.vim,
            runtime/doc/eval.txt, runtime/doc/change.txt

Patch 8.0.0021
Problem:    In the <A HREF="gui.html#GUI">GUI</A> when redrawing the cursor <A HREF="motion.html#it">it</A> may be on the second half
            of a double byte character.
Solution:   Correct the cursor column. (Yasuhiro Matsumoto)
Files:      src/screen.c

Patch 8.0.0022
Problem:    If a <A HREF="channel.html#channel">channel</A> in NL mode is missing the NL at the end the remaining
            characters are dropped.
Solution:   When the <A HREF="channel.html#channel">channel</A> is closed use the remaining text. (Ozaki Kiichi)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 8.0.0023
Problem:    &quot;<A HREF="pattern.html#gd">gd</A>&quot; and &quot;<A HREF="pattern.html#gD">gD</A>&quot; may find a match in a comment or <A HREF="eval.html#string">string</A>.
Solution:   Ignore matches in comments and strings. (Anton Lindqvist)
Files:      src/normal.c, src/testdir/test_goto.vim

Patch 8.0.0024
Problem:    When the <A HREF="netbeans.html#netbeans">netbeans</A> <A HREF="channel.html#channel">channel</A> closes, &quot;DETACH&quot; is put in the output
            part. (Ozaki Kiichi)
Solution:   Write &quot;DETACH&quot; in the socket part.
Files:      src/channel.c, src/testdir/test_netbeans.vim

Patch 8.0.0025
Problem:    Inconsistent use of spaces vs tabs in <A HREF="pattern.html#gd">gd</A> test.
Solution:   Use tabs. (Anton Lindqvist)
Files:      src/testdir/test_goto.vim

Patch 8.0.0026
Problem:    Error format with &#37;W, &#37;C and &#37;Z does not work. (Gerd Wachsmuth)
Solution:   Skip code when qf_multiignore is set. (Lcd)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0027
Problem:    A <A HREF="channel.html#channel">channel</A> is closed when reading on stderr or stdout fails, but
            there may still be something to read on another part.
Solution:   Turn ch_to_be_closed into a bitfield. (Ozaki Kiichi)
Files:      src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,
            src/testdir/test_channel.vim

Patch 8.0.0028
Problem:    Superfluous semicolons.
Solution:   Remove them. (Ozaki Kiichi)
Files:      src/ex_cmds2.c

Patch 8.0.0029
Problem:    Code for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> is complicated because of the exceptions for
            old systems.
Solution:   Drop support for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> older than Windows XP. (Ken Takata)
Files:      runtime/doc/gui_w32.txt, runtime/doc/os_win32.txt,
            runtime/doc/todo.txt, src/GvimExt/Makefile, src/Make_mvc.mak,
            src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/gui_w32.c,
            src/if_cscope.c, src/misc1.c, src/misc2.c, src/option.c,
            src/os_mswin.c, src/os_win32.c, src/os_win32.h,
            src/proto/os_mswin.pro, src/proto/os_win32.pro, src/version.c

Patch 8.0.0030
Problem:    Mouse mode is not automatically detected for tmux.
Solution:   Check for <A HREF="options.html#'term'">'term'</A> to be &quot;tmux&quot;. (Michael Henry)
Files:      src/os_unix.c

Patch 8.0.0031
Problem:    After &quot;<A HREF="windows.html#:bwipeout">:bwipeout</A>&quot; <A HREF="options.html#'fileformat'">'fileformat'</A> is not set to the right default.
Solution:   Get the default from <A HREF="options.html#'fileformats'">'fileformats'</A>. (Mike Williams)
Files:      src/option.c, src/Makefile, src/testdir/test_fileformat.vim,
            src/testdir/test_alot.vim

Patch 8.0.0032
Problem:    Tests may change the input file when something goes wrong.
Solution:   Avoid <A HREF="editing.html#writing">writing</A> the input file.
Files:      src/testdir/test51.in, src/testdir/test67.in,
            src/testdir/test97.in, src/testdir/test_tabpage.vim

Patch 8.0.0033
Problem:    Cannot use overlapping positions with <A HREF="eval.html#matchaddpos()">matchaddpos()</A>.
Solution:   Check end of match. (Ozaki Kiichi) Add a test (Hirohito Higashi)
Files:      src/screen.c, src/testdir/test_match.vim

Patch 8.0.0034
Problem:    No completion for &quot;<A HREF="message.html#:messages">:messages</A>&quot;.
Solution:   Complete &quot;clear&quot; argument. (Hirohito Higashi)
Files:      src/ex_docmd.c, src/ex_getln.c, src/proto/ex_docmd.pro,
            src/testdir/test_cmdline.vim, src/vim.h,
            runtime/doc/eval.txt, runtime/doc/map.txt

Patch 8.0.0035 (after 7.4.2013)
Problem:    Order of matches for <A HREF="options.html#'omnifunc'">'omnifunc'</A> is messed up. (Danny Su)
Solution:   Do not set compl_curr_match when called from <A HREF="eval.html#complete_check()">complete_check()</A>.
            (closes #1168)
Files:      src/edit.c, src/evalfunc.c, src/proto/edit.pro, src/search.c,
            src/spell.c, src/tag.c, src/testdir/test76.in,
            src/testdir/test76.ok, src/testdir/test_popup.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0036
Problem:    Detecting that a <A HREF="channel.html#job">job</A> has finished may take a while.
Solution:   Check for a finished <A HREF="channel.html#job">job</A> more often (Ozaki Kiichi)
Files:      src/channel.c, src/os_unix.c, src/os_win32.c,
            src/proto/os_unix.pro, src/proto/os_win32.pro,
            src/testdir/test_channel.vim

Patch 8.0.0037
Problem:    Get <A HREF="quickfix.html#E924">E924</A> when switching tabs. ()
Solution:   Use win_valid_any_tab() instead of win_valid(). (Martin Vuille,
            closes #1167, closes #1171)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0038
Problem:    OPEN_CHR_FILES not defined for FreeBSD using Debian userland
            files.
Solution:   Check for __FreeBSD_kernel__. (James McCoy, closes #1166)
Files:      src/vim.h

Patch 8.0.0039
Problem:    When Vim 8 reads an old <A HREF="starting.html#viminfo">viminfo</A> and exits, the next time marks are
            not read from <A HREF="starting.html#viminfo">viminfo</A>. (Ned Batchelder)
Solution:   Set a <A HREF="motion.html#mark">mark</A> when <A HREF="motion.html#it">it</A> wasn't set before, even when the <A HREF="editing.html#timestamp">timestamp</A> is
            zero. (closes #1170)
Files:      src/mark.c, src/testdir/test_viminfo.vim

Patch 8.0.0040 (after 8.0.0033)
Problem:    Whole line highlighting with <A HREF="eval.html#matchaddpos()">matchaddpos()</A> does not work.
Solution:   Check for zero length. (Hirohito Higashi)
Files:      src/screen.c, src/testdir/test_match.vim

Patch 8.0.0041
Problem:    When using <A HREF="insert.html#Insert">Insert</A> mode completion but not actually <A HREF="insert.html#inserting">inserting</A>
            anything an <A HREF="undo.html#undo">undo</A> item is still created. (Tommy Allen)
Solution:   Do not call stop_arrow() when not <A HREF="insert.html#inserting">inserting</A> anything.
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0042 (after 8.0.0041)
Problem:    When using <A HREF="insert.html#Insert">Insert</A> mode completion with <A HREF="options.html#'completeopt'">'completeopt'</A> containing
            &quot;noinsert&quot; change is not saved for <A HREF="undo.html#undo">undo</A>.  (Tommy Allen)
Solution:   Call stop_arrow() before <A HREF="insert.html#inserting">inserting</A> for pressing Enter.
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0043 (after 8.0.0041)
Problem:    When using <A HREF="insert.html#Insert">Insert</A> mode completion with <A HREF="options.html#'completeopt'">'completeopt'</A> containing
            &quot;noinsert&quot; with <A HREF="motion.html#CTRL-N">CTRL-N</A> the change is not saved for <A HREF="undo.html#undo">undo</A>.  (Tommy
            Allen)
Solution:   Call stop_arrow() before <A HREF="insert.html#inserting">inserting</A> for any key.
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0044
Problem:    In <A HREF="diff.html#diff">diff</A> mode the cursor may end up below the last line, resulting
            in an ml_get error.
Solution:   Check the line to be valid.
Files:      src/move.c, src/diff.c, src/proto/diff.pro,
            src/testdir/test_diffmode.vim

Patch 8.0.0045
Problem:    Calling <A HREF="eval.html#job_stop()">job_stop()</A> right after <A HREF="eval.html#job_start()">job_start()</A> does not work.
Solution:   Block signals while <A HREF="os_unix.html#fork">fork</A> is still busy. (Ozaki Kiichi, closes
            #1155)
Files:      src/auto/configure, src/config.h.in, src/configure.in,
            src/os_unix.c, src/testdir/test_channel.vim

Patch 8.0.0046
Problem:    Using NUL instead of NULL.
Solution:   Change to NULL. (Dominique Pelle)
Files:      src/ex_cmds.c, src/json.c

Patch 8.0.0047
Problem:    Crash when using the preview <A HREF="windows.html#window">window</A> from an unnamed buffer.
            (lifepillar)
Solution:   Do not clear the wrong buffer. (closes #1200)
Files:      src/popupmnu.c

Patch 8.0.0048
Problem:    On Windows <A HREF="eval.html#job_stop()">job_stop()</A> stops cmd.exe, not the processes <A HREF="motion.html#it">it</A> runs.
            (Linwei)
Solution:   Iterate over all processes and terminate the one where the parent
            is the <A HREF="channel.html#job">job</A> process. (Yasuhiro Matsumoto, closes #1184)
Files:      src/os_win32.c, src/structs.h

Patch 8.0.0049
Problem:    When a match ends in part of concealed text highlighting, <A HREF="motion.html#it">it</A> might
            mess up concealing by resetting prev_syntax_id.
Solution:   Do not reset prev_syntax_id and add a test to verify. (Christian
            Brabandt, closes #1092)
Files:      src/screen.c, src/testdir/test_matchadd_conceal.vim

Patch 8.0.0050
Problem:    An <A HREF="starting.html#exiting">exiting</A> <A HREF="channel.html#job">job</A> is detected with a large latency.
Solution:   Check for pending <A HREF="channel.html#job">job</A> more often. (Ozaki Kiichi)  Change the
            double loop in mch_inchar() into one.
Files:      src/channel.c, src/os_unix.c, src/testdir/shared.vim,
            src/testdir/test_channel.vim

Patch 8.0.0051 (after 8.0.0048)
Problem:    New code for <A HREF="eval.html#job_stop()">job_stop()</A> breaks <A HREF="channel.html#channel">channel</A> test on AppVeyor.
Solution:   Revert the change.
Files:      src/os_win32.c, src/structs.h

Patch 8.0.0052 (after 8.0.0049)
Problem:    Conceal test passes even without the bug fix.
Solution:   Add a redraw command. (Christian Brabandt)
Files:      src/testdir/test_matchadd_conceal.vim

Patch 8.0.0053 (after 8.0.0047)
Problem:    No test for what 8.0.0047 fixes.
Solution:   Add a test. (Hirohito Higashi)
Files:      src/testdir/test_popup.vim

Patch 8.0.0054 (after 8.0.0051)
Problem:    On Windows <A HREF="eval.html#job_stop()">job_stop()</A> stops cmd.exe, not the processes <A HREF="motion.html#it">it</A> runs.
            (Linwei)
Solution:   Iterate over all processes and terminate the one where the parent
            is the <A HREF="channel.html#job">job</A> process. Now only when there is no <A HREF="channel.html#job">job</A> object.
            (Yasuhiro Matsumoto, closes #1203)
Files:      src/os_win32.c

Patch 8.0.0055
Problem:    Minor comment and style deficiencies.
Solution:   Update comments and fix style.
Files:      src/buffer.c, src/misc2.c, src/os_unix.c

Patch 8.0.0056
Problem:    When setting <A HREF="options.html#'filetype'">'filetype'</A> there is no check for a valid name.
Solution:   Only allow valid characters in <A HREF="options.html#'filetype'">'filetype'</A>, <A HREF="options.html#'syntax'">'syntax'</A> and <A HREF="options.html#'keymap'">'keymap'</A>.
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.0.0057 (after 8.0.0056)
Problem:    Tests fail without the <A HREF="options.html#'keymap'">'keymap'</A> features.
Solution:   Check for feature in test.
Files:      src/testdir/test_options.vim

Patch 8.0.0058
Problem:    Positioning of the popup menu is not good.
Solution:   Position <A HREF="motion.html#it">it</A> better. (Hirohito Higashi)
Files:      src/popupmnu.c

Patch 8.0.0059
Problem:    Vim does not build on <A HREF="os_vms.html#VMS">VMS</A> systems.
Solution:   Various changes for <A HREF="os_vms.html#VMS">VMS</A>. (Zoltan Arpadffy)
Files:      src/json.c, src/macros.h, src/Make_vms.mms, src/os_unix.c,
            src/os_unix.h, src/os_vms.c, src/os_vms_conf.h,
            src/proto/os_vms.pro, src/testdir/Make_vms.mms

Patch 8.0.0060
Problem:    When using an <A HREF="intro.html#Ex">Ex</A> command for <A HREF="options.html#'keywordprg'">'keywordprg'</A> <A HREF="motion.html#it">it</A> is escaped <A HREF="motion.html#as">as</A> with a
            shell command. (Romain Lafourcade)
Solution:   Escape for an <A HREF="intro.html#Ex">Ex</A> command. (closes #1175)
Files:      src/normal.c, src/testdir/test_normal.vim

Patch 8.0.0061 (after 8.0.0058)
Problem:    Compiler warning for unused variable.
Solution:   Add #ifdef. (John Marriott)
Files:      src/popupmnu.c

Patch 8.0.0062
Problem:    No <A HREF="digraph.html#digraph">digraph</A> for HORIZONTAL ELLIPSIS.
Solution:   Use &quot;,.&quot;. (Hans Ginzel, closes #1226)
Files:      src/digraph.c, runtime/doc/digraph.txt

Patch 8.0.0063
Problem:    Compiler warning for comparing with unsigned. (Zoltan Arpadffy)
Solution:   Change &lt;= to <A HREF="change.html#==">==</A>.
Files:      src/undo.c

Patch 8.0.0064 (after 8.0.0060)
Problem:    <A HREF="intro.html#Normal">Normal</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Don't try using an illegal file name.
Files:      src/testdir/test_normal.vim

Patch 8.0.0065 (after 8.0.0056)
Problem:    Compiler warning for unused function in tiny build. (Tony
            Mechelynck)
Solution:   Add #ifdef.
Files:      src/option.c

Patch 8.0.0066
Problem:    when calling an <A HREF="motion.html#operator">operator</A> function when <A HREF="options.html#'linebreak'">'linebreak'</A> is set, <A HREF="motion.html#it">it</A> is
            internally reset before calling the <A HREF="motion.html#operator">operator</A> function.
Solution:   Restore <A HREF="options.html#'linebreak'">'linebreak'</A> before calling op_function(). (Christian
            Brabandt)
Files:      src/normal.c, src/testdir/test_normal.vim

Patch 8.0.0067
Problem:    <A HREF="os_vms.html#VMS">VMS</A> has a problem with infinity.
Solution:   Avoid an overflow. (Zoltan Arpadffy)
Files:      src/json.c, src/macros.h

Patch 8.0.0068
Problem:    Checking did_throw after executing <A HREF="autocmd.html#autocommands">autocommands</A> is wrong. (Daniel
            Hahler)
Solution:   Call aborting() instead, and only when <A HREF="autocmd.html#autocommands">autocommands</A> were executed.
Files:      src/quickfix.c, src/if_cscope.c, src/testdir/test_quickfix.vim

Patch 8.0.0069
Problem:    Compiler warning for self-comparison.
Solution:   Define ONE_WINDOW and add #ifdef.
Files:      src/globals.h, src/buffer.c, src/ex_docmd.c, src/move.c,
            src/screen.c, src/quickfix.c, src/window.c

Patch 8.0.0070
Problem:    Tests referred in Makefile that no longer exist.
Solution:   Remove test71 and test74 entries. (Michael Soyka)
Files:      src/testdir/Mak_ming.mak

Patch 8.0.0071
Problem:    Exit value from a shell command is wrong. (Hexchain Tong)
Solution:   Do not check for ended jobs while waiting for a shell command.
            (ichizok, closes #1196)
Files:      src/os_unix.c

Patch 8.0.0072
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Crash with long font name. (Henry Hu)
Solution:   Fix comparing with LF_FACESIZE. (Ken Takata, closes #1243)
Files:      src/os_mswin.c

Patch 8.0.0073 (after 8.0.0069)
Problem:    More comparisons between firstwin and lastwin.
Solution:   Use ONE_WINDOW for consistency. (Hirohito Higashi)
Files:      src/buffer.c, src/ex_cmds.c, src/ex_docmd.c, src/option.c,
            src/window.c

Patch 8.0.0074
Problem:    Cannot make Vim fail on an internal error.
Solution:   Add IEMSG() and IEMSG2(). (Dominique Pelle)  Avoid reporting an
            internal error without mentioning where.
Files:      src/globals.h, src/blowfish.c, src/dict.c, src/edit.c, src/eval.c,
            src/evalfunc.c, src/ex_eval.c, src/getchar.c, src/gui_beval.c,
            src/gui_w32.c, src/hangulin.c, src/hashtab.c, src/if_cscope.c,
            src/json.c, src/memfile.c, src/memline.c, src/message.c,
            src/misc2.c, src/option.c, src/quickfix.c, src/regexp.c,
            src/spell.c, src/undo.c, src/userfunc.c, src/vim.h, src/window.c,
            src/proto/misc2.pro, src/proto/message.pro, src/Makefile

Patch 8.0.0075
Problem:    Using number for exception type lacks type checking.
Solution:   Use an enum.
Files:      src/structs.h, src/ex_docmd.c, src/ex_eval.c,
            src/proto/ex_eval.pro

Patch 8.0.0076
Problem:    <A HREF="eval.html#Channel">Channel</A> log has double parens ()().
Solution:   Remove () for write_buf_line. (Yasuhiro Matsumoto)
Files:      src/channel.c

Patch 8.0.0077
Problem:    The <A HREF="gui.html#GUI">GUI</A> code is not tested by Travis.
Solution:   Install the virtual framebuffer.
Files:      .travis.yml

Patch 8.0.0078
Problem:    Accessing freed memory in <A HREF="quickfix.html#quickfix">quickfix</A>.
Solution:   Reset pointer when freeing <A HREF="options.html#'errorformat'">'errorformat'</A>. (Dominique Pelle)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0079
Problem:    Accessing freed memory in <A HREF="quickfix.html#quickfix">quickfix</A>. (Dominique Pelle)
Solution:   Do not free the current <A HREF="eval.html#list">list</A> when adding to <A HREF="motion.html#it">it</A>.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0080
Problem:    The OS X build fails on Travis.
Solution:   Skip the virtual framebuffer on OS X.
Files:      .travis.yml

Patch 8.0.0081
Problem:    Inconsistent function names.
Solution:   Rename do_cscope to ex_cscope.  Clean up comments.
Files:      src/ex_cmds.h, src/if_cscope.c, src/ex_docmd.c,
            src/proto/if_cscope.pro

Patch 8.0.0082
Problem:    Extension for configure should be &quot;.ac&quot;.
Solution:   Rename configure.in to configure.ac. (James McCoy, closes #1173)
Files:      src/configure.in, src/configure.ac, Filelist, src/Makefile,
            src/blowfish.c, src/channel.c, src/config.h.in, src/main.aap,
            src/os_unix.c, src/INSTALL, src/mysign

Patch 8.0.0083
Problem:    Using freed memory with <A HREF="eval.html#win_getid()">win_getid()</A>. (Dominique Pelle)
Solution:   For the current <A HREF="intro.html#tab">tab</A> use curwin.
Files:      src/window.c, src/testdir/test_window_id.vim

Patch 8.0.0084
Problem:    Using freed memory when adding to a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>. (Dominique
            Pelle)
Solution:   Clear the directory name.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0085
Problem:    Using freed memory with recursive function call. (Dominique Pelle)
Solution:   Make a copy of the function name.
Files:      src/eval.c, src/testdir/test_nested_function.vim

Patch 8.0.0086
Problem:    Cannot add a comment after &quot;<A HREF="windows.html#:hide">:hide</A>&quot;. (Norio Takagi)
Solution:   Make <A HREF="motion.html#it">it</A> work, add a test. (Hirohito Higashi)
Files:      src/Makefile, src/ex_cmds.h, src/ex_docmd.c,
            src/testdir/Make_all.mak, src/testdir/test_hide.vim

Patch 8.0.0087
Problem:    When the <A HREF="channel.html#channel">channel</A> callback gets <A HREF="channel.html#job">job</A> info the <A HREF="channel.html#job">job</A> may already have
            been deleted. (lifepillar)
Solution:   Do not delete the <A HREF="channel.html#job">job</A> when the <A HREF="channel.html#channel">channel</A> is still useful. (ichizok,
            closes #1242, closes #1245)
Files:      src/channel.c, src/eval.c, src/os_unix.c, src/os_win32.c,
            src/structs.h, src/testdir/test_channel.vim

Patch 8.0.0088
Problem:    When a test fails in Setup or Teardown the problem is not reported.
Solution:   Add a try/catch. (Hirohito Higashi)
Files:      src/testdir/runtest.vim

Patch 8.0.0089
Problem:    Various problems with <A HREF="gui_x11.html#GTK">GTK</A> 3.22.2.
Solution:   Fix the problems, add #ifdefs. (Kazunobu Kuriyama)
Files:      src/gui_beval.c, src/gui_gtk.c, src/gui_gtk_x11.c

Patch 8.0.0090
Problem:    Cursor moved after last character when using <A HREF="options.html#'breakindent'">'breakindent'</A>.
Solution:   Fix the cursor positioning.  Turn the breakindent test into new
            style.  (Christian Brabandt)
Files:      src/screen.c, src/testdir/Make_all.mak,
            src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok,
            src/testdir/test_breakindent.vim, src/Makefile

Patch 8.0.0091
Problem:    Test_help_complete sometimes fails in <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   Use <A HREF="eval.html#getcompletion()">getcompletion()</A> instead of <A HREF="eval.html#feedkeys()">feedkeys()</A> and command line
            completion. (Hirohito Higashi)
Files:      src/testdir/test_help_tagjump.vim

Patch 8.0.0092
Problem:    C indenting does not support nested namespaces that C++ 17 has.
Solution:   Add check that passes double colon inside a name. (Pauli, closes
            #1214)
Files:      src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 8.0.0093
Problem:    Not using multiprocess build feature.
Solution:   Enable multiprocess build with MSVC 10. (Ken Takata)
Files:      src/Make_mvc.mak

Patch 8.0.0094
Problem:    When vimrun.exe is not found the error message is not properly
            encoded.
Solution:   Use utf-16 and MessageBoxW(). (Ken Takata)
Files:      src/os_win32.c

Patch 8.0.0095
Problem:    Problems with <A HREF="gui_x11.html#GTK">GTK</A> 3.22.2 fixed in 3.22.4.
Solution:   Adjust the #ifdefs. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 8.0.0096
Problem:    When the input or output is not a tty Vim appears to hang.
Solution:   Add the <A HREF="starting.html#--ttyfail">--ttyfail</A> argument.  Also add the &quot;ttyin&quot; and &quot;ttyout&quot;
            features to be able to check in Vim <A HREF="usr_41.html#script">script</A>.
Files:      src/globals.h, src/structs.h, src/main.c, src/evalfunc.c,
            runtime/doc/starting.txt, runtime/doc/eval.txt

Patch 8.0.0097
Problem:    When a <A HREF="channel.html#channel">channel</A> callback consumes a lot of time Vim becomes
            unresponsive. (skywind)
Solution:   Bail out of checking <A HREF="channel.html#channel">channel</A> readahead after 100 msec.
Files:      src/os_unix.c, src/misc2.c, src/vim.h, src/os_win32.c,
            src/channel.c

Patch 8.0.0098 (after 8.0.0097)
Problem:    Can't build on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add missing parenthesis.
Files:      src/vim.h

Patch 8.0.0099
Problem:    Popup menu always appears above the cursor when <A HREF="motion.html#it">it</A> is in the lower
            half of the screen. (Matt Gardner)
Solution:   Compute the available space better. (Hirohito Higashi,
            closes #1241)
Files:      src/popupmnu.c

Patch 8.0.0100
Problem:    Options that are a file name may contain non-filename characters.
Solution:   Check for more invalid characters.
Files:      src/option.c

Patch 8.0.0101
Problem:    Some <A HREF="options.html#options">options</A> are not strictly checked.
Solution:   Add flags for stricter checks.
Files:      src/option.c

Patch 8.0.0102 (after 8.0.0101)
Problem:    Cannot set <A HREF="options.html#'dictionary'">'dictionary'</A> to a path.
Solution:   Allow for slash and <A HREF="intro.html#backslash">backslash</A>.  Add a test (partly by Daisuke
            Suzuki, closes #1279, closes #1284)
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.0.0103
Problem:    May not process <A HREF="channel.html#channel">channel</A> readahead. (skywind)
Solution:   If there is readahead don't block on input.
Files:      src/channel.c, src/proto/channel.pro, src/os_unix.c,
            src/os_win32.c, src/misc2.c

Patch 8.0.0104
Problem:    Value of <A HREF="options.html#'thesaurus'">'thesaurus'</A> option not checked properly.
Solution:   Add P_NDNAME flag. (Daisuke Suzuki)
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.0.0105
Problem:    When using <A HREF="eval.html#ch_read()">ch_read()</A> with zero timeout, can't tell the difference
            between reading an empty line and nothing available.
Solution:   Add <A HREF="eval.html#ch_canread()">ch_canread()</A>.
Files:      src/evalfunc.c, src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, src/testdir/shared.vim,
            runtime/doc/eval.txt, runtime/doc/channel.txt

Patch 8.0.0106 (after 8.0.0100)
Problem:    Cannot use a semicolon in <A HREF="options.html#'backupext'">'backupext'</A>. (Jeff)
Solution:   Allow for a few more characters when &quot;secure&quot; isn't set.
Files:      src/option.c

Patch 8.0.0107
Problem:    When reading <A HREF="channel.html#channel">channel</A> output in a <A HREF="eval.html#timer">timer</A>, <A HREF="message.html#messages">messages</A> may go missing.
            (Skywind)
Solution:   Add the &quot;drop&quot; option.  Write error <A HREF="message.html#messages">messages</A> in the <A HREF="channel.html#channel">channel</A> log.
            Don't have <A HREF="eval.html#ch_canread()">ch_canread()</A> check for the <A HREF="channel.html#channel">channel</A> being open.
Files:      src/structs.h, src/channel.c, src/message.c, src/evalfunc.c,
            src/proto/channel.pro, runtime/doc/channel.txt

Patch 8.0.0108 (after 8.0.0107)
Problem:    The <A HREF="channel.html#channel">channel</A> &quot;drop&quot; option is not tested.
Solution:   Add a test.
Files:      src/testdir/test_channel.vim

Patch 8.0.0109
Problem:    Still checking if memcmp() exists while every system should have
            <A HREF="motion.html#it">it</A> now.
Solution:   Remove vim_memcmp().  (James McCoy, closes #1295)
Files:      src/config.h.in, src/configure.ac, src/misc2.c, src/os_vms_conf.h,
            src/osdef1.h.in, src/search.c, src/tag.c, src/vim.h

Patch 8.0.0110
Problem:    Drop command doesn't use existing <A HREF="windows.html#window">window</A>.
Solution:   Check the <A HREF="windows.html#window">window</A> width properly. (Hirohito Higashi)
Files:      src/buffer.c, src/testdir/test_tabpage.vim

Patch 8.0.0111
Problem:    The <A HREF="cmdline.html#:history">:history</A> command is not tested.
Solution:   Add tests. (Dominique Pelle)
Files:      runtime/doc/cmdline.txt, src/testdir/test_history.vim

Patch 8.0.0112
Problem:    Tests 92 and 93 are old style.
Solution:   Make test92 and test93 new style. (Hirohito Higashi, closes #1289)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test92.in, src/testdir/test92.ok,
            src/testdir/test93.in, src/testdir/test93.ok,
            src/testdir/test_mksession.vim,
            src/testdir/test_mksession_utf8.vim

Patch 8.0.0113
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: message box to prompt for saving changes may appear on
            the wrong monitor.
Solution:   Adjust the CenterWindow function. (Ken Takata)
Files:      src/gui_w32.c

Patch 8.0.0114
Problem:    Coding style not optimal.
Solution:   Add spaces. (Ken Takata)
Files:      src/gui_w32.c, src/os_mswin.c

Patch 8.0.0115
Problem:    When building with Cygwin libwinpthread isn't found.
Solution:   Link winpthread statically. (jmmerz, closes #1255, closes #1256)
Files:      src/Make_cyg_ming.mak

Patch 8.0.0116
Problem:    When reading English help and using CTRl-] the language from
            <A HREF="options.html#'helplang'">'helplang'</A> is used.
Solution:   Make help <A HREF="tagsrch.html#tag">tag</A> jumps keep the language. (Tatsuki, test by Hirohito
            Higashi, closes #1249)
Files:      src/tag.c, src/testdir/test_help_tagjump.vim

Patch 8.0.0117
Problem:    Parallel make fails. (J. Lewis Muir)
Solution:   Make sure the <A HREF="index.html#objects">objects</A> directory exists. (closes #1259)
Files:      src/Makefile

Patch 8.0.0118
Problem:    &quot;make proto&quot; adds extra function prototype.
Solution:   Add #ifdef.
Files:      src/misc2.c

Patch 8.0.0119
Problem:    No test for using <A HREF="undo.html#CTRL-R">CTRL-R</A> on the command line.
Solution:   Add a test. (Dominique Pelle) And some more.
Files:      src/testdir/test_cmdline.vim

Patch 8.0.0120
Problem:    <A HREF="eval.html#Channel">Channel</A> test is still flaky on OS X.
Solution:   Set the drop argument to &quot;never&quot;.
Files:      src/testdir/test_channel.vim

Patch 8.0.0121
Problem:    Setting <A HREF="options.html#'cursorline'">'cursorline'</A> changes the curswant column. (Daniel Hahler)
Solution:   Add the P_RWINONLY flag. (closes #1297)
Files:      src/option.c, src/testdir/test_goto.vim

Patch 8.0.0122
Problem:    <A HREF="eval.html#Channel">Channel</A> test is still flaky on OS X.
Solution:   Add a short sleep.
Files:      src/testdir/test_channel.py

Patch 8.0.0123
Problem:    Modern Sun compilers define &quot;__sun&quot; instead of &quot;sun&quot;.
Solution:   Use __sun. (closes #1296)
Files:      src/mbyte.c, src/pty.c, src/os_unixx.h, src/vim.h

Patch 8.0.0124
Problem:    Internal error for assert_inrange(1, 1).
Solution:   Adjust number of allowed arguments. (Dominique Pelle)
Files:      src/evalfunc.c, src/testdir/test_assert.vim

Patch 8.0.0125
Problem:    Not enough <A HREF="eval.html#testing">testing</A> for entering <A HREF="intro.html#Ex">Ex</A> commands.
Solution:   Add test for CTRL-\ <A HREF="motion.html#e">e</A> {expr}. (Dominique Pelle)
Files:      src/testdir/test_cmdline.vim

Patch 8.0.0126
Problem:    Display problem with <A HREF="options.html#'foldcolumn'">'foldcolumn'</A> and a wide character.
            (esiegerman)
Solution:   Don't use &quot;extra&quot; but an allocated buffer. (Christian Brabandt,
            closes #1310)
Files:      src/screen.c, src/testdir/Make_all.mak, src/Makefile,
            src/testdir/test_display.vim

Patch 8.0.0127
Problem:    Cancelling completion still inserts text when <A HREF="change.html#formatting">formatting</A> is done 
            for <A HREF="options.html#'textwidth'">'textwidth'</A>. (lacygoill)
Solution:   Don't format when <A HREF="scroll.html#CTRL-E">CTRL-E</A> was typed. (Hirohito Higashi,
            closes #1312)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0128 (after 8.0.0126)
Problem:    Display test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set <A HREF="options.html#'isprint'">'isprint'</A> to &quot;<A HREF="repeat.html#@">@</A>&quot;.
Files:      src/testdir/test_display.vim

Patch 8.0.0129
Problem:    Parallel make still doesn't work. (Lewis Muir)
Solution:   Define OBJ_MAIN.
Files:      src/Makefile

Patch 8.0.0130
Problem:    Configure uses &quot;ushort&quot; while the Vim code doesn't.
Solution:   Use &quot;unsigned short&quot; instead. (Fredrik Fornwall, closes #1314)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.0131
Problem:    Not enough test coverage for <A HREF="syntax.html#syntax">syntax</A> commands.
Solution:   Add more tests. (Dominique Pelle)
Files:      src/testdir/test_syntax.vim

Patch 8.0.0132 (after 8.0.0131)
Problem:    Test fails because of using <A HREF="repeat.html#:finish">:finish</A>.
Solution:   Change to return.
Files:      src/testdir/test_syntax.vim

Patch 8.0.0133
Problem:    &quot;2;'(&quot; causes ml_get <A HREF="message.html#errors">errors</A> in an empty buffer.  (Dominique Pelle)
Solution:   Check the cursor line earlier.
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.0.0134
Problem:    Null pointer access reported by UBsan.
Solution:   Check curwin-&gt;w_buffer is not NULL. (Yegappan Lakshmanan)
Files:      src/ex_cmds.c

Patch 8.0.0135
Problem:    An address relative to the current line, &quot;:.,+3y&quot;, does not work
            properly on a closed fold. (Efraim Yawitz)
Solution:   Correct for including the closed fold. (Christian Brabandt)
Files:      src/ex_docmd.c, src/testdir/test_fold.vim,
            src/testdir/Make_all.mak, src/Makefile

Patch 8.0.0136
Problem:    When using indent <A HREF="fold.html#folding">folding</A> and <A HREF="change.html#changing">changing</A> indent the wrong fold is
            opened. (Jonathan Fudger)
Solution:   Open the fold under the cursor a bit later. (Christian Brabandt)
Files:      src/ops.c, src/testdir/test_fold.vim

Patch 8.0.0137
Problem:    When <A HREF="options.html#'maxfuncdepth'">'maxfuncdepth'</A> is set above 200 the nesting is limited to
            200. (Brett Stahlman)
Solution:   Allow for <A HREF="intro.html#Ex">Ex</A> command recursion depending on <A HREF="options.html#'maxfuncdepth'">'maxfuncdepth'</A>.
Files:      src/ex_docmd.c, src/testdir/test_nested_function.vim

Patch 8.0.0138 (after 8.0.0137)
Problem:    Small build fails.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.0.0139 (after 8.0.0135)
Problem:    Warning for unused argument.
Solution:   Add UNUSED.
Files:      src/ex_docmd.c

Patch 8.0.0140
Problem:    Pasting inserted text in <A HREF="visual.html#Visual">Visual</A> mode does not work properly.
            (Matthew Malcomson)
Solution:   Stop <A HREF="visual.html#Visual">Visual</A> mode before stuffing the inserted text. (Christian
            Brabandt, from neovim #5709)
Files:      src/ops.c, src/testdir/test_visual.vim

Patch 8.0.0141 (after 8.0.0137)
Problem:    Nested function test fails on AppVeyor.
Solution:   Disable the test on Windows for now.
Files:      src/testdir/test_nested_function.vim

Patch 8.0.0142
Problem:    <A HREF="intro.html#Normal">Normal</A> colors are wrong with <A HREF="options.html#'termguicolors'">'termguicolors'</A>.
Solution:   Initialize to INVALCOLOR instead of zero. (Ben Jackson, closes
            #1344)
Files:      src/syntax.c

Patch 8.0.0143
Problem:    Line number of current buffer in <A HREF="eval.html#getbufinfo()">getbufinfo()</A> is wrong.
Solution:   For the current buffer use the current line number. (Ken Takata)
Files:      src/evalfunc.c

Patch 8.0.0144
Problem:    When using MSVC the GvimExt directory is cleaned <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Remove the lines. (Ken Takata)
Files:      src/Make_mvc.mak

Patch 8.0.0145
Problem:    Running tests on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> is a little bit noisy.
Solution:   Redirect some output to &quot;nul&quot;. (Ken Takata)
Files:      src/testdir/Make_dos.mak

Patch 8.0.0146
Problem:    When using <A HREF="options.html#'termguicolors'">'termguicolors'</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> the RGB definition causes
            the colors to be wrong.
Solution:   Undefined RGB and use our own. (Gabriel Barta)
Files:      src/term.c

Patch 8.0.0147
Problem:    <A HREF="eval.html#searchpair()">searchpair()</A> does not work when <A HREF="options.html#'magic'">'magic'</A> is off. (Chris Paul)
Solution:   Add \m in the <A HREF="pattern.html#pattern">pattern</A>. (Christian Brabandt, closes #1341)
Files:      src/evalfunc.c, src/testdir/test_search.vim

Patch 8.0.0148
Problem:    When a C preprocessor statement has two line continuations the
            following line does not have the right indent. (Ken Takata)
Solution:   Add the indent of the previous continuation line. (Hirohito
            Higashi)
Files:      src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 8.0.0149
Problem:    &quot;<A HREF="undo.html#:earlier">:earlier</A>&quot; and &quot;<A HREF="undo.html#:later">:later</A>&quot; <A HREF="diff.html#do">do</A> not work after <A HREF="starting.html#startup">startup</A> or reading the
            <A HREF="undo.html#undo">undo</A> file.
Solution:   Use absolute time stamps instead of relative to the Vim start
            time. (Christian Brabandt, Pavel Juhas, closes #1300, closes
            #1254)
Files:      src/testdir/test_undo.vim, src/undo.c

Patch 8.0.0150
Problem:    When the <A HREF="pattern.html#pattern">pattern</A> of <A HREF="various.html#:filter">:filter</A> does not have a separator then
            completion of the command fails.
Solution:   Skip over the <A HREF="pattern.html#pattern">pattern</A>. (Ozaki Kiichi, closes #1299)
Files:      src/ex_docmd.c, src/testdir/test_filter_cmd.vim

Patch 8.0.0151
Problem:    To pass buffer content to <A HREF="eval.html#system()">system()</A> and <A HREF="eval.html#systemlist()">systemlist()</A> one has to
            first create a <A HREF="eval.html#string">string</A> or <A HREF="eval.html#list">list</A>.
Solution:   Allow passing a buffer number. (LemonBoy, closes #1240)
Files:      runtime/doc/eval.txt, src/Makefile, src/evalfunc.c,
            src/testdir/Make_all.mak, src/testdir/test_system.vim

Patch 8.0.0152
Problem:    Running the <A HREF="channel.html#channel">channel</A> test creates channellog.
Solution:   Delete the debug line.
Files:      src/testdir/test_channel.vim

Patch 8.0.0153 (after 8.0.0151)
Problem:    <A HREF="eval.html#system()">system()</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Deal with extra space and CR.
Files:      src/testdir/test_system.vim

Patch 8.0.0154 (after 8.0.0151)
Problem:    <A HREF="eval.html#system()">system()</A> test fails on OS/X.
Solution:   Deal with leading spaces.
Files:      src/testdir/test_system.vim

Patch 8.0.0155
Problem:    When <A HREF="change.html#sorting">sorting</A> zero elements a NULL pointer is passed to qsort(),
            which ubsan warns for.
Solution:   Don't call qsort() if there are no elements. (Dominique Pelle)
Files:      src/syntax.c

Patch 8.0.0156
Problem:    Several float <A HREF="eval.html#functions">functions</A> are not covered by tests.
Solution:   Add float tests. (Dominique Pelle)
Files:      src/Makefile, src/testdir/test_alot.vim,
            src/testdir/test_float_func.vim

Patch 8.0.0157
Problem:    No command line completion for &quot;<A HREF="syntax.html#:syntax">:syntax</A> spell&quot; and &quot;<A HREF="syntax.html#:syntax">:syntax</A> sync&quot;.
Solution:   Implement the completion. (Dominique Pelle)
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.0.0158 (after 8.0.0156)
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> some float <A HREF="eval.html#functions">functions</A> return a different value when
            passed unusual values.  strtod() doesn't work for &quot;inf&quot; and &quot;nan&quot;.
Solution:   Accept both results.  Fix <A HREF="eval.html#str2float()">str2float()</A> for <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.  Also
            reorder assert function arguments.
Files:      src/testdir/test_float_func.vim, src/eval.c

Patch 8.0.0159
Problem:    Using a NULL pointer when using <A HREF="eval.html#feedkeys()">feedkeys()</A> to trigger drawing a
            tabline.
Solution:   Skip drawing a tabline if TabPageIdxs is NULL. (Dominique Pelle)
            Also fix recursing into <A HREF="eval.html#getcmdline()">getcmdline()</A> from the cmd <A HREF="windows.html#window">window</A>.
Files:      src/screen.c, src/ex_getln.c

Patch 8.0.0160
Problem:    EMSG() is sometimes used for internal <A HREF="message.html#errors">errors</A>.
Solution:   Change them to IEMSG(). (Dominique Pelle)  And a few more.
Files:      src/regexp_nfa.c, src/channel.c, src/eval.c

Patch 8.0.0161 (after 8.0.0159)
Problem:    Build fails when using small features.
Solution:   Update #ifdef for using save_ccline. (Hirohito Higashi)
Files:      src/ex_getln.c

Patch 8.0.0162
Problem:    Build error on Fedora 23 with small features and gnome2.
Solution:   Undefine ngettext(). (Hirohito Higashi)
Files:      src/gui_gtk.c, src/gui_gtk_x11.c

Patch 8.0.0163
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> 2.4 no longer supports rb_cFixnum.
Solution:   move rb_cFixnum into an #ifdef. (Kazuki Sakamoto, closes #1365)
Files:      src/if_ruby.c

Patch 8.0.0164
Problem:    Outdated and misplaced comments.
Solution:   Fix the comments.
Files:      src/charset.c, src/getchar.c, src/list.c, src/misc2.c,
            src/testdir/README.txt

Patch 8.0.0165
Problem:    Ubsan warns for integer overflow.
Solution:   Swap two conditions. (Dominique Pelle)
Files:      src/regexp_nfa.c

Patch 8.0.0166
Problem:    JSON with a duplicate key gives an internal error. (Lcd)
Solution:   Give a normal error.  Avoid an error when parsing JSON from a
            remote client fails.
Files:      src/evalfunc.c, src/json.c, src/channel.c,
            src/testdir/test_json.vim

Patch 8.0.0167
Problem:    <A HREF="eval.html#str2nr()">str2nr()</A> and <A HREF="eval.html#str2float()">str2float()</A> <A HREF="diff.html#do">do</A> not always work with negative values.
Solution:   Be more flexible about handling <A HREF="sign.html#signs">signs</A>. (LemonBoy, closes #1332)
            Add more tests.
Files:      src/evalfunc.c, src/testdir/test_float_func.vim,
            src/testdir/test_functions.vim, src/testdir/test_alot.vim,
            src/Makefile

Patch 8.0.0168
Problem:    Still some float functionality is not covered by tests.
Solution:   Add more tests. (Dominique Pelle, closes #1364)
Files:      src/testdir/test_float_func.vim

Patch 8.0.0169
Problem:    For complicated <A HREF="eval.html#string">string</A> <A HREF="eval.html#json_decode()">json_decode()</A> may run out of stack space.
Solution:   Change the recursive solution into an iterative solution.
Files:      src/json.c

Patch 8.0.0170 (after 8.0.0169)
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails for using freed memory.
Solution:   Fix memory use in <A HREF="eval.html#json_decode()">json_decode()</A>.
Files:      src/json.c

Patch 8.0.0171
Problem:    JS style JSON does not support single <A HREF="quotes.html#quotes">quotes</A>.
Solution:   Allow for single <A HREF="quotes.html#quotes">quotes</A>. (Yasuhiro Matsumoto, closes #1371)
Files:      src/json.c, src/testdir/test_json.vim, src/json_test.c,
            runtime/doc/eval.txt

Patch 8.0.0172 (after 8.0.0159)
Problem:    The command selected in the command line <A HREF="windows.html#window">window</A> is not executed.
            (Andrey Starodubtsev)
Solution:   Save and restore the command line at a lower level. (closes #1370)
Files:      src/ex_getln.c, src/testdir/test_history.vim

Patch 8.0.0173
Problem:    When compiling with EBCDIC defined the build fails. (Yaroslav
            Kuzmin)
Solution:   Move sortFunctions() to the right file.  Avoid warning for
            redefining __SUSV3.
Files:      src/eval.c, src/evalfunc.c, src/os_unixx.h

Patch 8.0.0174
Problem:    For completion &quot;<A HREF="mbyte.html#locale">locale</A> -a&quot; is executed on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>, even though
            <A HREF="motion.html#it">it</A> most likely won't work.
Solution:   Skip executing &quot;<A HREF="mbyte.html#locale">locale</A> -a&quot; on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ken Takata)
Files:      src/ex_cmds2.c

Patch 8.0.0175
Problem:    Setting language in <A HREF="starting.html#gvim">gvim</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> does not work when
            libintl.dll is dynamically linked with msvcrt.dll.
Solution:   Use putenv() from libintl <A HREF="motion.html#as">as</A> well. (Ken Takata, closes #1082)
Files:      src/mbyte.c, src/misc1.c, src/os_win32.c, src/proto/os_win32.pro,
            src/vim.h

Patch 8.0.0176
Problem:    Using <A HREF="change.html#:change">:change</A> in between <A HREF="eval.html#:function">:function</A> and <A HREF="eval.html#:endfunction">:endfunction</A> fails.
Solution:   Recognize <A HREF="change.html#:change">:change</A> inside a function. (ichizok, closes #1374)
Files:      src/userfunc.c, src/testdir/test_viml.vim

Patch 8.0.0177
Problem:    When opening a buffer on a directory and inside a try/catch then
            the <A HREF="autocmd.html#BufEnter">BufEnter</A> event is not triggered.
Solution:   Return NOTDONE from <A HREF="eval.html#readfile()">readfile()</A> for a directory and deal with the
            three possible return values. (Justin <A HREF="motion.html#M">M</A>. Keyes, closes #1375,
            closes #1353)
Files:      src/buffer.c, src/ex_cmds.c, src/ex_docmd.c, src/fileio.c,
            src/memline.c

Patch 8.0.0178
Problem:    test_command_count may fail when a previous test interferes, seen
            on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Run <A HREF="motion.html#it">it</A> separately.
Files:      src/testdir/test_alot.vim, src/testdir/Make_all.mak

Patch 8.0.0179
Problem:    <A HREF="options.html#'formatprg'">'formatprg'</A> is a global option but the value may depend on the
            type of buffer. (Sung Pae)
Solution:   Make <A HREF="options.html#'formatprg'">'formatprg'</A> <A HREF="options.html#global-local">global-local</A>. (closes #1380)
Files:      src/structs.h, src/option.h, src/option.c, src/normal.c,
            runtime/doc/options.txt, src/testdir/test_normal.vim

Patch 8.0.0180
Problem:    Error <A HREF="autocmd.html#E937">E937</A> is used both for duplicate key in JSON and for trying
            to delete a buffer that is in use.
Solution:   Rename the JSON error to <A HREF="eval.html#E938">E938</A>. (Norio Takagi, closes #1376)
Files:      src/json.c, src/testdir/test_json.vim

Patch 8.0.0181
Problem:    When <A HREF="options.html#'cursorbind'">'cursorbind'</A> and <A HREF="options.html#'cursorcolumn'">'cursorcolumn'</A> are both on, the column
            highlight in non-current <A HREF="windows.html#windows">windows</A> is wrong.
Solution:   Add validate_cursor(). (Masanori Misono, closes #1372)
Files:      src/move.c

Patch 8.0.0182
Problem:    When <A HREF="options.html#'cursorbind'">'cursorbind'</A> and <A HREF="options.html#'cursorline'">'cursorline'</A> are set, but <A HREF="options.html#'cursorcolumn'">'cursorcolumn'</A> is
            not, then the cursor line highlighting is not updated. (Hirohito
            Higashi)
Solution:   Call redraw_later() with NOT_VALID.
Files:      src/move.c

Patch 8.0.0183
Problem:    Ubsan warns for using a pointer that is not aligned.
Solution:   First copy the address. (Yegappan Lakshmanan)
Files:      src/channel.c

Patch 8.0.0184
Problem:    When in <A HREF="intro.html#Ex">Ex</A> mode and an error is caught by try-catch, Vim still
            exits with a non-zero exit code.
Solution:   Don't set ex_exitval when inside a try-catch. (partly by Christian
            Brabandt)
Files:      src/message.c, src/testdir/test_system.vim

Patch 8.0.0185 (after 8.0.0184)
Problem:    The <A HREF="eval.html#system()">system()</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_system.vim

Patch 8.0.0186
Problem:    The error message from <A HREF="eval.html#assert_notequal()">assert_notequal()</A> is confusing.
Solution:   Only mention the expected value.
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 8.0.0187
Problem:    Building with a new <A HREF="if_ruby.html#Ruby">Ruby</A> version fails.
Solution:   Use ruby_sysinit() instead of NtInitialize(). (Tomas Volf,
            closes #1382)
Files:      src/if_ruby.c

Patch 8.0.0188 (after 8.0.0182)
Problem:    Using NOT_VALID for redraw_later() to update the cursor
            line/column highlighting is not efficient.
Solution:   Call validate_cursor() when <A HREF="options.html#'cul'">'cul'</A> or <A HREF="options.html#'cuc'">'cuc'</A> is set.
Files:      src/move.c

Patch 8.0.0189
Problem:    There are no tests for the <A HREF="repeat.html#:profile">:profile</A> command.
Solution:   Add tests. (Dominique Pelle, closes #1383)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_profile.vim

Patch 8.0.0190
Problem:    Detecting duplicate <A HREF="tagsrch.html#tags">tags</A> uses a slow linear search.
Solution:   Use a much faster hash table solution. (James McCoy, closes #1046)
            But don't add hi_keylen, <A HREF="motion.html#it">it</A> makes hash tables 50&#37; bigger.
Files:      src/tag.c

Patch 8.0.0191 (after 8.0.0187)
Problem:    Some systems <A HREF="diff.html#do">do</A> not have ruby_sysinit(), causing the build to
            fail.
Solution:   Clean up how ruby_sysinit() and NtInitialize() are used. (Taro
            Muraoka)
Files:      src/if_ruby.c

Patch 8.0.0192 (after 8.0.0190)
Problem:    Build fails with tiny features.
Solution:   Change #ifdef for hash_clear().  Avoid warning for unused
            argument.
Files:      src/hashtab.c, src/if_cscope.c

Patch 8.0.0193 (after 8.0.0188)
Problem:    Accidentally removed #ifdef.
Solution:   Put <A HREF="motion.html#it">it</A> back. (Masanori Misono)
Files:      src/move.c

Patch 8.0.0194 (after 8.0.0189)
Problem:    Profile tests fails if total and <A HREF="eval.html#self">self</A> time are equal.
Solution:   Make one time optional.
Files:      src/testdir/test_profile.vim

Patch 8.0.0195 (after 8.0.0190)
Problem:    Jumping to a <A HREF="tagsrch.html#tag">tag</A> that is a static item in the current file fails.
            (Kazunobu Kuriyama)
Solution:   Make sure the first byte of the <A HREF="tagsrch.html#tag">tag</A> key is not NUL. (Suggested by
            James McCoy, closes #1387)
Files:      src/tag.c, src/testdir/test_tagjump.vim

Patch 8.0.0196 (after 8.0.0194)
Problem:    The test for <A HREF="repeat.html#:profile">:profile</A> is slow and does not work on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use the &quot;-es&quot; argument. (Dominique Pelle)  Swap single and double
            <A HREF="quotes.html#quotes">quotes</A> for <A HREF="eval.html#system()">system()</A>
Files:      src/testdir/test_profile.vim

Patch 8.0.0197
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> the <A HREF="eval.html#system()">system()</A> test skips a few parts.
Solution:   Swap single and double <A HREF="quotes.html#quotes">quotes</A> for the command.
Files:      src/testdir/test_system.vim

Patch 8.0.0198
Problem:    Some <A HREF="syntax.html#syntax">syntax</A> arguments take effect even after &quot;if 0&quot;. (Taylor
            Venable)
Solution:   Properly skip the <A HREF="syntax.html#syntax">syntax</A> statements.  Make &quot;syn case&quot; and &quot;syn
            conceal&quot; report the current state.  Fix that &quot;syn clear&quot; didn't
            reset the <A HREF="syntax.html#conceal">conceal</A> flag.  Add tests for <A HREF="syntax.html#:syntax">:syntax</A> skipping properly.
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.0.0199
Problem:    Warning for an unused parameter when the libcall feature is
            disabled.  Warning for a function type cast when compiling with
            -pedantic.
Solution:   Add UNUSED.  Use a different type cast. (Damien Molinier)
Files:      src/evalfunc.c, src/os_unix.c

Patch 8.0.0200
Problem:    Some <A HREF="syntax.html#syntax">syntax</A> arguments are not tested.
Solution:   Add more <A HREF="syntax.html#syntax">syntax</A> command tests.
Files:      src/testdir/test_syntax.vim

Patch 8.0.0201
Problem:    When completing a group name for a highlight or <A HREF="syntax.html#syntax">syntax</A> command
            cleared groups are included.
Solution:   Skip groups that have been cleared.
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.0.0202
Problem:    No test for invalid <A HREF="syntax.html#syntax">syntax</A> group name.
Solution:   Add a test for group name error and warning.
Files:      src/testdir/test_syntax.vim

Patch 8.0.0203
Problem:    Order of complication flags is sometimes wrong.
Solution:   Put interface-specific flags before ALL_CFLAGS. (idea by Yousong
            Zhou, closes #1100)
Files:      src/Makefile

Patch 8.0.0204
Problem:    Compiler warns for uninitialized variable. (Tony Mechelynck)
Solution:   When skipping set &quot;id&quot; to -1.
Files:      src/syntax.c

Patch 8.0.0205
Problem:    After <A HREF="undo.html#:undojoin">:undojoin</A> some commands don't work properly, such <A HREF="motion.html#as">as</A> <A HREF="undo.html#:redo">:redo</A>.
            (Matthew Malcomson)
Solution:   Don't set curbuf-&gt;b_u_curhead. (closes #1390)
Files:      src/undo.c, src/testdir/test_undo.vim

Patch 8.0.0206
Problem:    Test coverage for <A HREF="change.html#:retab">:retab</A> insufficient.
Solution:   Add test for <A HREF="change.html#:retab">:retab</A>. (Dominique Pelle, closes #1391)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/test_retab.vim

Patch 8.0.0207
Problem:    Leaking file descriptor when <A HREF="eval.html#system()">system()</A> cannot find the buffer.
            (Coverity)
Solution:   Close the file descriptor.  (Dominique Pelle, closes #1398)
Files:      src/evalfunc.c

Patch 8.0.0208
Problem:    Internally used commands for <A HREF="starting.html#CTRL-Z">CTRL-Z</A> and mouse click end up in
            <A HREF="cmdline.html#history">history</A>. (Matthew Malcomson)
Solution:   Use do_cmdline_cmd() instead of stuffing them in the readahead
            buffer. (James McCoy, closes #1395)
Files:      src/edit.c, src/normal.c

Patch 8.0.0209
Problem:    When using <A HREF="change.html#:substitute">:substitute</A> with the &quot;<A HREF="change.html#c">c</A>&quot; flag and <A HREF="options.html#'cursorbind'">'cursorbind'</A> is set
            the cursor is not updated in other <A HREF="windows.html#windows">windows</A>.
Solution:   Call do_check_cursorbind(). (Masanori Misono)
Files:      src/ex_cmds.c

Patch 8.0.0210
Problem:    Vim does not support bracketed paste, <A HREF="motion.html#as">as</A> implemented by xterm and
            other terminals.
Solution:   Add <A HREF="term.html#t_BE">t_BE</A>, <A HREF="term.html#t_BD">t_BD</A>, <A HREF="term.html#t_PS">t_PS</A> and <A HREF="term.html#t_PE">t_PE</A>.
Files:      src/term.c, src/term.h, src/option.c, src/misc2.c, src/keymap.h,
            src/edit.c, src/normal.c, src/evalfunc.c, src/getchar.c,
            src/vim.h, src/proto/edit.pro, runtime/doc/term.txt

Patch 8.0.0211 (after 8.0.0210)
Problem:    Build fails if the <A HREF="mbyte.html#multi-byte">multi-byte</A> feature is disabled.
Solution:   Change #ifdef around ins_char_bytes.
Files:      src/misc1.c

Patch 8.0.0212
Problem:    The buffer used to store a key name theoretically could be too
            small. (Coverity)
Solution:   Count all possible modifier characters.  Add a check for the
            length just in <A HREF="change.html#case">case</A>.
Files:      src/keymap.h, src/misc2.c

Patch 8.0.0213
Problem:    The Netbeans &quot;specialKeys&quot; command does not check if the argument
            fits in the buffer. (Coverity)
Solution:   Add a length check.
Files:      src/netbeans.c

Patch 8.0.0214
Problem:    Leaking memory when <A HREF="syntax.html#syntax">syntax</A> cluster id is unknown. (Coverity)
Solution:   Free the memory.
Files:      src/syntax.c

Patch 8.0.0215
Problem:    When a <A HREF="if_cscop.html#Cscope">Cscope</A> line contains <A HREF="various.html#CTRL-L">CTRL-L</A> a NULL pointer may be used.
            (Coverity)
Solution:   Don't check for an emacs <A HREF="tagsrch.html#tag">tag</A> in a <A HREF="if_cscop.html#cscope">cscope</A> line.
Files:      src/tag.c

Patch 8.0.0216
Problem:    When decoding JSON with a JS style object the JSON test may use a
            NULL pointer. (Coverity)
Solution:   Check for a NULL pointer.
Files:      src/json.c, src/json_test.c

Patch 8.0.0217 (after 8.0.0215)
Problem:    Build fails without the <A HREF="if_cscop.html#cscope">cscope</A> feature.
Solution:   Add #ifdef.
Files:      src/tag.c

Patch 8.0.0218
Problem:    No command line completion for <A HREF="quickfix.html#:cexpr">:cexpr</A>, <A HREF="quickfix.html#:cgetexpr">:cgetexpr</A>, <A HREF="quickfix.html#:caddexpr">:caddexpr</A>, etc.
Solution:   Make completion work. (Yegappan Lakshmanan)  Add a test.
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.0.0219
Problem:    Ubsan reports <A HREF="message.html#errors">errors</A> for integer overflow.
Solution:   Define macros for minimum and maximum values.  <A HREF="visual.html#Select">Select</A> an
            <A HREF="eval.html#expression">expression</A> based on the value. (Mike Williams)
Files:      src/charset.c, src/eval.c, src/evalfunc.c, src/structs.h,
            src/testdir/test_viml.vim

Patch 8.0.0220
Problem:    Completion for <A HREF="pattern.html#:match">:match</A> does not show &quot;none&quot; and other missing
            highlight names.
Solution:   Skip over cleared entries before checking the index to be at the
            end.
Files:      src/syntax.c, src/testdir/test_cmdline.vim

Patch 8.0.0221
Problem:    Checking if PROTO is defined inside a function has no effect.
Solution:   Remove the check for PROTO. (Hirohito Higashi)
Files:      src/misc1.c

Patch 8.0.0222
Problem:    When a <A HREF="mbyte.html#multi-byte">multi-byte</A> character ends in a zero byte, putting blockwise
            text puts <A HREF="motion.html#it">it</A> before the character instead of after <A HREF="motion.html#it">it</A>.
Solution:   Use int instead of char for the character under the cursor.
            (Luchr, closes #1403)  Add a test.
Files:      src/ops.c, src/testdir/test_put.vim, src/Makefile,
            src/testdir/test_alot.vim

Patch 8.0.0223
Problem:    Coverity gets confused by the flags passed to find_tags() and
            warns about uninitialized variable.
Solution:   Disallow using <A HREF="if_cscop.html#cscope">cscope</A> and help <A HREF="tagsrch.html#tags">tags</A> at the same time.
Files:      src/tag.c

Patch 8.0.0224
Problem:    When <A HREF="options.html#'fileformats'">'fileformats'</A> is changed in a <A HREF="autocmd.html#BufReadPre">BufReadPre</A> auto command, <A HREF="motion.html#it">it</A>
            does not take effect in <A HREF="eval.html#readfile()">readfile()</A>. (Gary Johnson)
Solution:   Check the value of <A HREF="options.html#'fileformats'">'fileformats'</A> after executing auto commands.
            (Christian Brabandt)
Files:      src/fileio.c, src/testdir/test_fileformat.vim

Patch 8.0.0225
Problem:    When a block is visually selected and put is used on the end of
            the selection only one line is changed.
Solution:   Check for the end properly. (Christian Brabandt, neovim issue
            5781)
Files:      src/ops.c, src/testdir/test_put.vim

Patch 8.0.0226
Problem:    The test for patch 8.0.0224 misses the CR characters and passes
            even without the fix. (Christian Brabandt)
Solution:   Use double <A HREF="quotes.html#quotes">quotes</A> and \&lt;CR&gt;.
Files:      src/testdir/test_fileformat.vim

Patch 8.0.0227
Problem:    Crash when <A HREF="options.html#'fileformat'">'fileformat'</A> is forced to &quot;<A HREF="os_dos.html#dos">dos</A>&quot; and the first line in
            the file is empty and does not have a CR character.
Solution:   Don't check for CR before the start of the buffer.
Files:      src/fileio.c, src/testdir/test_fileformat.vim

Patch 8.0.0228 (after 8.0.0210)
Problem:    When pasting test in an xterm on the command line <A HREF="motion.html#it">it</A> is surrounded
            by &lt;PasteStart&gt; and &lt;PasteEnd&gt;. (Johannes Kaltenbach)
Solution:   Add missing changes.
Files:      src/ex_getln.c, src/term.c

Patch 8.0.0229 (after 8.0.0179)
Problem:    When freeing a buffer the local value of the <A HREF="options.html#'formatprg'">'formatprg'</A> option is
            not cleared.
Solution:   Add missing change.
Files:      src/buffer.c

Patch 8.0.0230 (after 8.0.0210)
Problem:    When using bracketed paste line breaks are not respected.
Solution:   Turn CR characters into a line break if the text is being
            inserted. (closes #1404)
Files:      src/edit.c

Patch 8.0.0231
Problem:    There are no tests for bracketed paste mode.
Solution:   Add a test.  Fix <A HREF="repeat.html#repeating">repeating</A> with &quot;normal .&quot;.
Files:      src/edit.c, src/testdir/test_paste.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0232
Problem:    Pasting in <A HREF="insert.html#Insert">Insert</A> mode does not work when bracketed paste is used
            and <A HREF="options.html#'esckeys'">'esckeys'</A> is off.
Solution:   When <A HREF="options.html#'esckeys'">'esckeys'</A> is off disable bracketed paste in <A HREF="insert.html#Insert">Insert</A> mode.
Files:      src/edit.c

Patch 8.0.0233 (after 8.0.0231)
Problem:    The paste test fails if the <A HREF="gui.html#GUI">GUI</A> is being used.
Solution:   Skip the test in the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/testdir/test_paste.vim

Patch 8.0.0234 (after 8.0.0225)
Problem:    When several lines are visually selected and one of them is short,
            using put may cause a crash. (Axel Bender)
Solution:   Check for a short line. (Christian Brabandt)
Files:      src/ops.c, src/testdir/test_put.vim

Patch 8.0.0235
Problem:    Memory leak detected when running tests for <A HREF="diff.html#diff">diff</A> mode.
Solution:   Free p_extra_free.
Files:      src/screen.c

Patch 8.0.0236 (after 8.0.0234)
Problem:    Gcc complains that a variable may be used uninitialized. Confusion
            between variable and label name. (John Marriott)
Solution:   Initialize <A HREF="motion.html#it">it</A>.  Rename end to end_lnum.
Files:      src/ops.c

Patch 8.0.0237
Problem:    When setting wildoptions=tagfile the completion context is not set
            correctly. (desjardins)
Solution:   Check for EXPAND_TAGS_LISTFILES. (Christian Brabandt, closes #1399)
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.0.0238
Problem:    When using bracketed paste autoindent causes indent to be
            increased.
Solution:   Disable <A HREF="options.html#'ai'">'ai'</A> and set <A HREF="options.html#'paste'">'paste'</A> temporarily. (Ken Takata)
Files:      src/edit.c, src/testdir/test_paste.vim

Patch 8.0.0239
Problem:    The address sanitizer sometimes finds <A HREF="message.html#errors">errors</A>, but <A HREF="motion.html#it">it</A> needs to be
            run manually.
Solution:   Add an environment to Travis with clang and the address sanitizer.
            (Christian Brabandt)  Also include changes only on github.
Files:      .travis.yml

Patch 8.0.0240 (after 8.0.0239)
Problem:    The clang build on CI fails with one configuration.
Solution:   Redo a previous patch that was accidentally reverted.
Files:      .travis.yml

Patch 8.0.0241
Problem:    Vim defines a mch_memmove() function but <A HREF="motion.html#it">it</A> doesn't work, thus is
            always unused.
Solution:   Remove the mch_memmove implementation. (suggested by Dominique
            Pelle)
Files:      src/os_unix.h, src/misc2.c, src/vim.h

Patch 8.0.0242
Problem:    Completion of user defined <A HREF="eval.html#functions">functions</A> is not covered by tests.
Solution:   Add tests.  Also test various <A HREF="message.html#errors">errors</A> of user-defined commands.
            (Dominique Pelle, closes #1413)
Files:      src/testdir/test_usercommands.vim

Patch 8.0.0243
Problem:    When making a character lower <A HREF="change.html#case">case</A> with <A HREF="eval.html#tolower()">tolower()</A> changes the byte
            <A HREF="intro.html#count">count</A>, <A HREF="motion.html#it">it</A> is not made lower <A HREF="change.html#case">case</A>.
Solution:   Add strlow_save(). (Dominique Pelle, closes #1406)
Files:      src/evalfunc.c, src/misc2.c, src/proto/misc2.pro,
            src/testdir/test_functions.vim

Patch 8.0.0244
Problem:    When the user sets <A HREF="term.html#t_BE">t_BE</A> empty after <A HREF="starting.html#startup">startup</A> to disable bracketed
            paste, this has no direct effect.
Solution:   When <A HREF="term.html#t_BE">t_BE</A> is made empty write <A HREF="term.html#t_BD">t_BD</A>.  When <A HREF="term.html#t_BE">t_BE</A> is made non-empty
            write the new value.
Files:      src/option.c

Patch 8.0.0245
Problem:    The generated zh_CN.cp936.po message file is not encoded properly.
Solution:   Instead of using zh_CN.po <A HREF="motion.html#as">as</A> input, use zh_CN.UTF-8.po.
Files:      src/po/Makefile

Patch 8.0.0246
Problem:    Compiler warnings for int to pointer conversion.
Solution:   Fix <A HREF="map.html#macro">macro</A> for mch_memmove(). (John Marriott)
Files:      src/vim.h

Patch 8.0.0247
Problem:    Under some circumstances, one needs to type Ctrl-N or Ctrl-P <A HREF="if_cscop.html#twice">twice</A>
            to have a menu entry selected. (Lifepillar)
Solution:   call ins_compl_free(). (Christian Brabandt, closes #1411)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0248
Problem:    vim_strcat() cannot handle overlapping arguments.
Solution:   Use mch_memmove() instead of strcpy(). (Justin <A HREF="motion.html#M">M</A>. Keyes,
            closes #1415)
Files:      src/misc2.c

Patch 8.0.0249
Problem:    When two submits happen quick after each other, the tests for the
            first one may error out.
Solution:   Use a git depth of 10 instead of 1. (Christian Brabandt)
Files:      .travis.yml

Patch 8.0.0250
Problem:    When <A HREF="eval.html#virtcol()">virtcol()</A> gets a column that is not the first byte of a
            <A HREF="mbyte.html#multi-byte">multi-byte</A> character the result is unpredictable. (Christian
            Ludwig)
Solution:   Correct the column to the first byte of a <A HREF="mbyte.html#multi-byte">multi-byte</A> character.
            Change the <A HREF="mbyte.html#utf-8">utf-8</A> test to new style.
Files:      src/charset.c, src/testdir/test_utf8.in, src/testdir/test_utf8.ok,
            src/testdir/test_utf8.vim, src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_alot_utf8.vim

Patch 8.0.0251
Problem:    It is not so <A HREF="starting.html#easy">easy</A> to write a <A HREF="usr_41.html#script">script</A> that works with both <A HREF="if_pyth.html#Python">Python</A> 2
            and <A HREF="if_pyth.html#Python">Python</A> 3, even when the <A HREF="if_pyth.html#Python">Python</A> code works with both.
Solution:   Add <A HREF="options.html#'pyxversion'">'pyxversion'</A>, <A HREF="if_pyth.html#:pyx">:pyx</A>, etc. (Marc Weber, Ken Takata)
Files:      Filelist, runtime/doc/eval.txt, runtime/doc/if_pyth.txt,
            runtime/doc/index.txt, runtime/doc/options.txt,
            runtime/optwin.vim, runtime/doc/quickref.txt,
            runtime/doc/usr_41.txt, src/Makefile, src/evalfunc.c,
            src/ex_cmds.h, src/ex_cmds2.c, src/ex_docmd.c, src/if_python.c,
            src/if_python3.c, src/option.c, src/option.h,
            src/proto/ex_cmds2.pro, src/testdir/Make_all.mak,
            src/testdir/pyxfile/py2_magic.py,
            src/testdir/pyxfile/py2_shebang.py,
            src/testdir/pyxfile/py3_magic.py,
            src/testdir/pyxfile/py3_shebang.py, src/testdir/pyxfile/pyx.py,
            src/testdir/test_pyx2.vim, src/testdir/test_pyx3.vim
            src/userfunc.c

Patch 8.0.0252
Problem:    Characters below 256 that are not one byte are not always
            recognized <A HREF="motion.html#as">as</A> <A HREF="motion.html#word">word</A> characters.
Solution:   Make vim_iswordc() and vim_iswordp() work the same way. Add a test
            for this. (Ozaki Kiichi)
Files:      src/Makefile, src/charset.c, src/kword_test.c, src/mbyte.c,
            src/proto/mbyte.pro

Patch 8.0.0253
Problem:    When creating a session when <A HREF="options.html#'winminheight'">'winminheight'</A> is 2 or larger and
            loading that session gives an error.
Solution:   Also set <A HREF="options.html#'winminheight'">'winminheight'</A> before setting <A HREF="options.html#'winheight'">'winheight'</A> to 1. (Rafael
            Bodill, neovim #5717)
Files:      src/ex_docmd.c, src/testdir/test_mksession.vim

Patch 8.0.0254
Problem:    When using an assert function one can either specify a message or
            get a message about what failed, not both.
Solution:   Concatenate the error with the message.
Files:      src/eval.c, src/testdir/test_assert.vim

Patch 8.0.0255
Problem:    When calling <A HREF="eval.html#setpos()">setpos()</A> with a buffer argument <A HREF="motion.html#it">it</A> often is ignored.
            (Matthew Malcomson)
Solution:   Make the buffer argument work for all marks local to a buffer.
            (neovim #5713)  Add more tests.
Files:      src/mark.c, src/testdir/test_marks.vim, runtime/doc/eval.txt

Patch 8.0.0256 (after 8.0.0255)
Problem:    Tests fail because some changes were not included.
Solution:   Add changes to evalfunc.c
Files:      src/evalfunc.c

Patch 8.0.0257 (after 8.0.0252)
Problem:    The keyword test file is not included in the archive.
Solution:   Update the <A HREF="eval.html#list">list</A> of files.
Files:      Filelist

Patch 8.0.0258 (after 8.0.0253)
Problem:    mksession test leaves file behind.
Solution:   Delete the file.  Rename files to start with &quot;<A HREF="change.html#X">X</A>&quot;.
Files:      src/testdir/test_mksession.vim

Patch 8.0.0259
Problem:    <A HREF="intro.html#Tab">Tab</A> commands <A HREF="diff.html#do">do</A> not handle <A HREF="intro.html#count">count</A> correctly. (Ken Hamada)
Solution:   Add ADDR_TABS_RELATIVE. (Hirohito Higashi)
Files:      runtime/doc/tabpage.txt, src/ex_cmds.h, src/ex_docmd.c,
            src/testdir/test_tabpage.vim

Patch 8.0.0260
Problem:    Build fails with tiny features.
Solution:   Move get_tabpage_arg() inside #ifdef.
Files:      src/ex_docmd.c

Patch 8.0.0261
Problem:    Not enough test coverage for <A HREF="eval.html#eval">eval</A> <A HREF="eval.html#functions">functions</A>.
Solution:   Add more tests. (Dominique Pelle, closes #1420)
Files:      src/testdir/test_functions.vim

Patch 8.0.0262
Problem:    <A HREF="farsi.html#Farsi">Farsi</A> support is barely tested.
Solution:   Add more tests for <A HREF="farsi.html#Farsi">Farsi</A>.  Clean up the code.
Files:      src/edit.c, src/farsi.c, src/testdir/test_farsi.vim

Patch 8.0.0263
Problem:    <A HREF="farsi.html#Farsi">Farsi</A> support is not tested enough.
Solution:   Add more tests for <A HREF="farsi.html#Farsi">Farsi</A>.  Clean up the code.
Files:      src/farsi.c, src/testdir/test_farsi.vim

Patch 8.0.0264
Problem:    Memory error reported by ubsan, probably for using the <A HREF="eval.html#string">string</A>
            returned by <A HREF="eval.html#execute()">execute()</A>.
Solution:   NUL terminate the result of <A HREF="eval.html#execute()">execute()</A>.
Files:      src/evalfunc.c

Patch 8.0.0265
Problem:    May get ml_get error when <A HREF="if_pyth.html#:pydo">:pydo</A> deletes lines or switches to
            another buffer. (Nikolai Pavlov, issue #1421)
Solution:   Check the buffer and line every time.
Files:      src/if_py_both.h, src/testdir/test_python2.vim,
            src/testdir/test_python3.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0266
Problem:    Compiler warning for using uninitialized variable.
Solution:   Set tab_number also when there is an error.
Files:      src/ex_docmd.c

Patch 8.0.0267
Problem:    A <A HREF="channel.html#channel">channel</A> test sometimes fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Add the test to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.0268
Problem:    May get ml_get error when <A HREF="if_lua.html#:luado">:luado</A> deletes lines or switches to
            another buffer. (Nikolai Pavlov, issue #1421)
Solution:   Check the buffer and line every time.
Files:      src/if_lua.c, src/testdir/test_lua.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0269
Problem:    May get ml_get error when <A HREF="if_perl.html#:perldo">:perldo</A> deletes lines or switches to
            another buffer. (Nikolai Pavlov, issue #1421)
Solution:   Check the buffer and line every time.
Files:      src/if_perl.xs, src/testdir/test_perl.vim

Patch 8.0.0270
Problem:    May get ml_get error when <A HREF="if_ruby.html#:rubydo">:rubydo</A> deletes lines or switches to
            another buffer. (Nikolai Pavlov, issue #1421)
Solution:   Check the buffer and line every time.
Files:      src/if_ruby.c, src/testdir/test_ruby.vim

Patch 8.0.0271
Problem:    May get ml_get error when <A HREF="if_tcl.html#:tcldo">:tcldo</A> deletes lines or switches to
            another buffer. (Nikolai Pavlov, closes #1421)
Solution:   Check the buffer and line every time.
Files:      src/if_tcl.c, src/testdir/test_tcl.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0272
Problem:    Crash on exit is not detected when running tests.
Solution:   Remove the dash before the command. (Dominique Pelle, closes
            #1425)
Files:      src/testdir/Makefile

Patch 8.0.0273
Problem:    Dead code detected by Coverity when not using gnome.
Solution:   Rearrange the #ifdefs to avoid dead code.
Files:      src/gui_gtk_x11.c

Patch 8.0.0274
Problem:    When update_single_line() is called recursively, or another screen
            update happens while <A HREF="motion.html#it">it</A> is busy, <A HREF="message.html#errors">errors</A> may occur.
Solution:   Check and update updating_screen. (Christian Brabandt)
Files:      src/screen.c

Patch 8.0.0275
Problem:    When checking for <A HREF="pattern.html#CTRL-C">CTRL-C</A> typed the <A HREF="gui.html#GUI">GUI</A> may detect a screen resize
            and redraw the screen, causing trouble.
Solution:   Set updating_screen in ui_breakcheck().
Files:      src/ui.c

Patch 8.0.0276
Problem:    Checking for FEAT_GUI_GNOME inside <A HREF="gui_x11.html#GTK">GTK</A> 3 code is unnecessary.
Solution:   Remove the #ifdef. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 8.0.0277
Problem:    The <A HREF="gui.html#GUI">GUI</A> test may trigger fontconfig and take a long time.
Solution:   Set $XDG_CACHE_HOME. (Kazunobu Kuriyama)
Files:      src/testdir/unix.vim, src/testdir/test_gui.vim

Patch 8.0.0278 (after 8.0.0277)
Problem:    <A HREF="gui.html#GUI">GUI</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Check that tester_HOME exists.
Files:      src/testdir/test_gui.vim

Patch 8.0.0279
Problem:    With MSVC 2015 the dll name is vcruntime140.dll.
Solution:   Check the MSVC version and use the right dll name. (Ken Takata)
Files:      src/Make_mvc.mak

Patch 8.0.0280
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> setting an environment variable with <A HREF="mbyte.html#multi-byte">multi-byte</A>
            strings does not work well.
Solution:   Use wputenv when possible. (Taro Muraoka, Ken Takata)
Files:      src/misc1.c, src/os_win32.c, src/os_win32.h,
            src/proto/os_win32.pro, src/vim.h

Patch 8.0.0281
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> files are still using ARGSUSED while most other files
            have UNUSED.
Solution:   Change ARGSUSED to UNUSED or delete <A HREF="motion.html#it">it</A>.
Files:      src/os_win32.c, src/gui_w32.c, src/os_mswin.c, src/os_w32exe.c,
            src/winclip.c

Patch 8.0.0282
Problem:    When doing a <A HREF="visual.html#Visual">Visual</A> selection and using &quot;<A HREF="insert.html#I">I</A>&quot; to go to insert mode,
            <A HREF="motion.html#CTRL-O">CTRL-O</A> needs to be used <A HREF="if_cscop.html#twice">twice</A> to go to <A HREF="intro.html#Normal">Normal</A> mode. (Coacher)
Solution:   Check for the return value of edit(). (Christian Brabandt,
            closes #1290)
Files:      src/normal.c, src/ops.c

Patch 8.0.0283
Problem:    The return value of <A HREF="eval.html#mode()">mode()</A> does not indicate that completion is
            active in <A HREF="insert.html#Replace">Replace</A> and <A HREF="insert.html#Insert">Insert</A> mode. (Zhen-Huan (Kenny) Hu)
Solution:   Add &quot;<A HREF="change.html#c">c</A>&quot; or &quot;<A HREF="change.html#x">x</A>&quot; for two kinds of completion. (Yegappan Lakshmanan,
            closes #1397)  Test some more modes.
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_functions.vim, src/testdir/test_mapping.vim

Patch 8.0.0284
Problem:    The Test_collapse_buffers() test failed once, looks like <A HREF="motion.html#it">it</A> is
            flaky.
Solution:   Add <A HREF="motion.html#it">it</A> to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.0285 (after 8.0.0277)
Problem:    Tests fail with tiny build on <A HREF="os_unix.html#Unix">Unix</A>.
Solution:   Only set g:tester_HOME when build with the <A HREF="various.html#+eval">+eval</A> feature.
Files:      src/testdir/unix.vim

Patch 8.0.0286
Problem:    When concealing is active and the screen is resized in the <A HREF="gui.html#GUI">GUI</A> <A HREF="motion.html#it">it</A>
            is not immediately redrawn.
Solution:   Use update_prepare() and update_finish() from
            update_single_line().
Files:      src/screen.c

Patch 8.0.0287
Problem:    Cannot access the arguments of the current function in debug mode.
            (Luc Hermitte)
Solution:   use get_funccal(). (LemonBoy, closes #1432, closes #1352)
Files:      src/userfunc.c

Patch 8.0.0288 (after 8.0.0284)
Problem:    Errors reported while running tests.
Solution:   Put comma in the right place.
Files:      src/testdir/runtest.vim

Patch 8.0.0289
Problem:    No test for &quot;<A HREF="various.html#ga">ga</A>&quot; and <A HREF="various.html#:ascii">:ascii</A>.
Solution:   Add a test. (Dominique Pelle, closes #1429)
Files:      src/Makefile, src/testdir/test_alot.vim, src/testdir/test_ga.vim

Patch 8.0.0290
Problem:    If a wide character doesn't fit at the end of the screen line, and
            the line doesn't fit on the screen, then the cursor position may
            be wrong. (anliting)
Solution:   Don't skip over wide character. (Christian Brabandt, closes #1408)
Files:      src/screen.c

Patch 8.0.0291 (after 8.0.0282)
Problem:    <A HREF="visual.html#Visual">Visual</A> block insertion does not insert in all lines.
Solution:   Don't bail out of insert too early. Add a test. (Christian
            Brabandt, closes #1290)
Files:      src/ops.c, src/testdir/test_visual.vim

Patch 8.0.0292
Problem:    The stat test is a bit slow.
Solution:   Remove a couple of sleep comments and reduce another.
Files:      src/testdir/test_stat.vim

Patch 8.0.0293
Problem:    Some tests have a one or three second wait.
Solution:   Reset the <A HREF="options.html#'showmode'">'showmode'</A> option.  Use a test time of one to disable
            sleep after an error or warning message.
Files:      src/misc1.c, src/testdir/runtest.vim, src/testdir/test_normal.vim

Patch 8.0.0294
Problem:    Argument <A HREF="eval.html#list">list</A> is not stored correctly in a session file.
            (lgpasquale)
Solution:   Use &quot;$argadd&quot; instead of &quot;argadd&quot;. (closes #1434)
Files:      src/ex_docmd.c, src/testdir/test_mksession.vim

Patch 8.0.0295 (after 8.0.0293)
Problem:    test_viml hangs.
Solution:   Put resetting <A HREF="options.html#'more'">'more'</A> before sourcing the <A HREF="usr_41.html#script">script</A>.
Files:      src/testdir/runtest.vim

Patch 8.0.0296
Problem:    Bracketed paste can only append, not insert.
Solution:   When the cursor is in the first column insert the text.
Files:      src/normal.c, src/testdir/test_paste.vim, runtime/doc/term.txt

Patch 8.0.0297
Problem:    Double free on exit when using a <A HREF="eval.html#closure">closure</A>. (James McCoy)
Solution:   Split free_al_functions in two parts. (closes #1428)
Files:      src/userfunc.c, src/structs.h

Patch 8.0.0298
Problem:    <A HREF="intro.html#Ex">Ex</A> command range with repeated search does not work. (Bruce
            DeVisser)
Solution:   Skip over \/, \? and \&amp;.
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.0.0299
Problem:    When the <A HREF="gui.html#GUI">GUI</A> <A HREF="windows.html#window">window</A> is resized Vim does not always take over the
            new size. (Luchr)
Solution:   Reset new_p_guifont in gui_resize_shell().  Call
            gui_may_resize_shell() in the main loop.
Files:      src/main.c, src/gui.c

Patch 8.0.0300
Problem:    Cannot stop diffing hidden <A HREF="windows.html#buffers">buffers</A>. (Daniel Hahler)
Solution:   When using <A HREF="diff.html#:diffoff">:diffoff</A>! make the whole <A HREF="eval.html#list">list</A> if diffed <A HREF="windows.html#buffers">buffers</A> empty.
            (closes #736)
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 8.0.0301
Problem:    No tests for &quot;<A HREF="options.html#:set">:set</A> completion&quot; and various <A HREF="message.html#errors">errors</A> of the <A HREF="options.html#:set">:set</A>
            command.
Solution:   Add more <A HREF="options.html#:set">:set</A> tests. (Dominique Pelle, closes #1440)
Files:      src/testdir/test_options.vim

Patch 8.0.0302
Problem:    Cannot set <A HREF="terminal.html#terminal">terminal</A> key codes with <A HREF="eval.html#:let">:let</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work.
Files:      src/option.c, src/testdir/test_assign.vim

Patch 8.0.0303
Problem:    Bracketed paste does not work in <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Delete the text before pasting
Files:      src/normal.c, src/ops.c, src/proto/ops.pro,
            src/testdir/test_paste.vim

Patch 8.0.0304 (after 8.0.0302)
Problem:    Assign test fails in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the test for setting <A HREF="term.html#t_k1">t_k1</A>.
Files:      src/testdir/test_assign.vim

Patch 8.0.0305
Problem:    Invalid memory access when option has duplicate flag.
Solution:   Correct pointer computation. (Dominique Pelle, closes #1442)
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.0.0306
Problem:    <A HREF="eval.html#mode()">mode()</A> not sufficiently tested.
Solution:   Add more tests. (Yegappan Lakshmanan)
Files:      src/testdir/test_functions.vim

Patch 8.0.0307
Problem:    Asan detects a memory error when EXITFREE is defined. (Dominique
            Pelle)
Solution:   In getvcol() check for ml_get_buf() returning an empty <A HREF="eval.html#string">string</A>.
            Also skip adjusting the scroll position.  Set &quot;<A HREF="starting.html#exiting">exiting</A>&quot; in
            mch_exit() for all systems.
Files:      src/charset.c, src/window.c, src/os_mswin.c, src/os_win32.c,
            src/os_amiga.c

Patch 8.0.0308
Problem:    When using a symbolic link, the package path will not be inserted
            at the right position in <A HREF="options.html#'runtimepath'">'runtimepath'</A>. (Dugan Chen, Norio Takagi)
Solution:   Resolve symbolic links when finding the right position in
            <A HREF="options.html#'runtimepath'">'runtimepath'</A>. (Hirohito Higashi)
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 8.0.0309
Problem:    Cannot use an empty key in json.
Solution:   Allow for using an empty key.
Files:      src/json.c, src/testdir/test_json.vim

Patch 8.0.0310
Problem:    Not enough <A HREF="eval.html#testing">testing</A> for <A HREF="gui.html#GUI">GUI</A> functionality.
Solution:   Add tests for <A HREF="eval.html#v:windowid">v:windowid</A> and getwinpos[xy](). (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim

Patch 8.0.0311
Problem:    Linebreak tests are old style.
Solution:   Turn the tests into new style. Share utility <A HREF="eval.html#functions">functions</A>. (Ozaki
            Kiichi, closes #1444)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_breakindent.vim, src/testdir/test_listlbr.in,
            src/testdir/test_listlbr.ok, src/testdir/test_listlbr.vim,
            src/testdir/test_listlbr_utf8.in,
            src/testdir/test_listlbr_utf8.ok,
            src/testdir/test_listlbr_utf8.vim, src/testdir/view_util.vim

Patch 8.0.0312
Problem:    When a json message arrives in pieces, the start is dropped and
            the decoding fails.
Solution:   Do not drop the start when <A HREF="motion.html#it">it</A> is still needed. (Kay Zheng)  Add a
            test.  Reset the timeout when something is received.
Files:      src/channel.c, src/testdir/test_channel.vim, src/structs.h,
            src/testdir/test_channel_pipe.py

Patch 8.0.0313 (after 8.0.0310)
Problem:    Not enough <A HREF="eval.html#testing">testing</A> for <A HREF="gui.html#GUI">GUI</A> functionality.
Solution:   Add tests for the <A HREF="gui.html#GUI">GUI</A> font. (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim

Patch 8.0.0314
Problem:    <A HREF="eval.html#getcmdtype()">getcmdtype()</A>, <A HREF="eval.html#getcmdpos()">getcmdpos()</A> and <A HREF="eval.html#getcmdline()">getcmdline()</A> are not tested.
Solution:   Add tests. (Yegappan Lakshmanan)
Files:      src/testdir/test_cmdline.vim

Patch 8.0.0315
Problem:    &quot;<A HREF="helphelp.html#:help">:help</A> :[range]&quot; does not work. (Tony Mechelynck)
Solution:   Translate to insert a <A HREF="intro.html#backslash">backslash</A>.
Files:      src/ex_cmds.c

Patch 8.0.0316
Problem:    &quot;<A HREF="helphelp.html#:help">:help</A> z?&quot; does not work. (Pavol Juhas)
Solution:   Remove exception for z?.
Files:      src/ex_cmds.c

Patch 8.0.0317
Problem:    No test for setting <A HREF="options.html#'guifont'">'guifont'</A>.
Solution:   Add a test for <A HREF="options.html#X11">X11</A> GUIs. (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim

Patch 8.0.0318
Problem:    Small mistake in 7x13 font name.
Solution:   Use ISO 8859-1 name instead of 10646-1. (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim

Patch 8.0.0319
Problem:    <A HREF="insert.html#Insert">Insert</A> mode completion does not respect &quot;start&quot; in <A HREF="options.html#'backspace'">'backspace'</A>.
Solution:   Check whether backspace can go before where insert started.
            (Hirohito Higashi)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0320
Problem:    Warning for unused variable with small build.
Solution:   Change #ifdef to exclude FEAT_CMDWIN. (Kazunobu Kuriyama)
Files:      src/ex_getln.c

Patch 8.0.0321
Problem:    When using the tiny version trying to load the matchit <A HREF="usr_05.html#plugin">plugin</A>
            gives an error. On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> some default mappings fail.
Solution:   Add a check if the command used is available. (Christian Brabandt)
Files:      runtime/mswin.vim, runtime/macros/matchit.vim

Patch 8.0.0322
Problem:    Possible overflow with <A HREF="spell.html#spell">spell</A> file where the tree length is
            corrupted.
Solution:   Check for an invalid length (suggested by shqking)
Files:      src/spellfile.c

Patch 8.0.0323
Problem:    When running the command line tests there is a one second wait.
Solution:   Change an Esc to Ctrl-C. (Yegappan Lakshmanan)
Files:      src/testdir/test_cmdline.vim

Patch 8.0.0324
Problem:    Illegal memory access with &quot;1;y&quot;.
Solution:   Call check_cursor() instead of check_cursor_lnum(). (Dominique
            Pelle, closes #1455)
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.0.0325
Problem:    Packadd test does not clean up symlink.
Solution:   Delete the link. (Hirohito Higashi)
Files:      src/testdir/test_packadd.vim

Patch 8.0.0326 (after 8.0.0325)
Problem:    Packadd test uses wrong directory name.
Solution:   Use the variable name value. (Hirohito Higashi)
Files:      src/testdir/test_packadd.vim

Patch 8.0.0327
Problem:    The <A HREF="cmdline.html#E11">E11</A> error message in the command line <A HREF="windows.html#window">window</A> is not
            translated.
Solution:   use _(). (Hirohito Higashi)
Files:      src/ex_docmd.c

Patch 8.0.0328
Problem:    The &quot;zero count&quot; error doesn't have a number. (Hirohito Higashi)
Solution:   Give <A HREF="motion.html#it">it</A> a number and be more specific about the error.
Files:      src/globals.h

Patch 8.0.0329
Problem:    Xfontset and guifontwide are not tested.
Solution:   Add tests. (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim

Patch 8.0.0330
Problem:    Illegal memory access after &quot;vapo&quot;. (Dominique Pelle)
Solution:   Fix the cursor column.
Files:      src/search.c, src/testdir/test_visual.vim

Patch 8.0.0331
Problem:    Restoring help snapshot accesses freed memory. (Dominique Pelle)
Solution:   Don't restore a snapshot when the <A HREF="windows.html#window">window</A> closes.
Files:      src/window.c, src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_help.vim

Patch 8.0.0332
Problem:    <A HREF="gui.html#GUI">GUI</A> test fails on some systems.
Solution:   Try different language settings. (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim

Patch 8.0.0333
Problem:    Illegal memory access when <A HREF="options.html#'complete'">'complete'</A> ends in a <A HREF="intro.html#backslash">backslash</A>.
Solution:   Check for trailing <A HREF="intro.html#backslash">backslash</A>. (Dominique Pelle, closes #1478)
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.0.0334
Problem:    Can't access <A HREF="eval.html#b:changedtick">b:changedtick</A> from a <A HREF="eval.html#dict">dict</A> reference.
Solution:   Make changedtick a member of the <A HREF="eval.html#b:">b:</A> <A HREF="eval.html#dict">dict</A>. (inspired by neovim
            #6112)
Files:      src/structs.h, src/buffer.c, src/edit.c, src/eval.c,
            src/evalfunc.c, src/ex_docmd.c, src/main.c, src/globals.h,
            src/fileio.c, src/memline.c, src/misc1.c, src/syntax.c,
            src/proto/eval.pro, src/testdir/test_changedtick.vim,
            src/Makefile, src/testdir/test_alot.vim, src/testdir/test91.in,
            src/testdir/test91.ok, src/testdir/test_functions.vim

Patch 8.0.0335 (after 8.0.0335)
Problem:    Functions test fails.
Solution:   Use the right buffer number.
Files:      src/testdir/test_functions.vim

Patch 8.0.0336
Problem:    Flags of <A HREF="change.html#:substitute">:substitute</A> not sufficiently tested.
Solution:   Test up to two <A HREF="print.html#letter">letter</A> flag combinations. (James McCoy, closes
            #1479)
Files:      src/testdir/test_substitute.vim

Patch 8.0.0337
Problem:    Invalid memory access in <A HREF="recover.html#:recover">:recover</A> command.
Solution:   Avoid access before directory name. (Dominique Pelle,
            closes #1488)
Files:      src/Makefile, src/memline.c, src/testdir/test_alot.vim,
            src/testdir/test_recover.vim

Patch 8.0.0338 (after 8.0.0337)
Problem:    <A HREF="recover.html#:recover">:recover</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use non-existing directory on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_recover.vim

Patch 8.0.0339
Problem:    Illegal memory access with vi'
Solution:   For quoted text <A HREF="index.html#objects">objects</A> bail out if the <A HREF="visual.html#Visual">Visual</A> area spans more
            than one line.
Files:      src/search.c, src/testdir/test_visual.vim

Patch 8.0.0340
Problem:    Not checking return value of dict_add(). (Coverity)
Solution:   Handle a failure.
Files:      src/buffer.c

Patch 8.0.0341
Problem:    When using <A HREF="eval.html#complete()">complete()</A> and typing a character <A HREF="undo.html#undo">undo</A> is saved after
            the character was inserted. (Shougo)
Solution:   Save for <A HREF="undo.html#undo">undo</A> before <A HREF="insert.html#inserting">inserting</A> the character.
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0342
Problem:    Double free when compiled with EXITFREE and setting <A HREF="options.html#'ttytype'">'ttytype'</A>.
Solution:   Avoid setting P_ALLOCED on <A HREF="options.html#'ttytype'">'ttytype'</A>. (Dominique Pelle,
            closes #1461)
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.0.0343
Problem:    <A HREF="eval.html#b:changedtick">b:changedtick</A> can be unlocked, even though <A HREF="motion.html#it">it</A> has no effect.
            (Nikolai Pavlov)
Solution:   Add a check and error <A HREF="eval.html#E940">E940</A>. (closes #1496)
Files:      src/eval.c, src/testdir/test_changedtick.vim, runtime/doc/eval.txt

Patch 8.0.0344
Problem:    Unlet command leaks memory. (Nikolai Pavlov)
Solution:   Free the memory on error. (closes #1497)
Files:      src/eval.c, src/testdir/test_unlet.vim

Patch 8.0.0345
Problem:    islocked('d.changedtick') does not work.
Solution:   Make <A HREF="motion.html#it">it</A> work.
Files:      src/buffer.c, src/eval.c, src/evalfunc.c, src/vim.h,
            src/testdir/test_changedtick.vim,

Patch 8.0.0346
Problem:    Vim relies on limits.h to be included indirectly, but on Solaris 9
            <A HREF="motion.html#it">it</A> may not be. (Ben Fritz)
Solution:   Always include limits.h.
Files:      src/os_unixx.h, src/vim.h

Patch 8.0.0347
Problem:    When using <A HREF="change.html#CTRL-X">CTRL-X</A> <A HREF="scroll.html#CTRL-U">CTRL-U</A> inside a comment, the use of the comment
            leader may not work. (Klement)
Solution:   Save and restore did_ai. (Christian Brabandt, closes #1494)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0348
Problem:    When building with a shadow directory on macOS lacks the
            <A HREF="various.html#+clipboard">+clipboard</A> feature.
Solution:   Link *.m files, specifically os_macosx.m. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 8.0.0349
Problem:    Redrawing <A HREF="message.html#errors">errors</A> with <A HREF="gui_x11.html#GTK">GTK</A> 3.
Solution:   When updating, first clear all rectangles and then draw them.
            (Kazunobu Kuriyama, Christian Ludwig, closes #848)
Files:      src/gui_gtk_x11.c

Patch 8.0.0350
Problem:    Not enough test coverage for <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Add more <A HREF="if_perl.html#Perl">Perl</A> tests. (Dominique Pelle, closes #1500)
Files:      src/testdir/test_perl.vim

Patch 8.0.0351
Problem:    No test for concatenating an empty <A HREF="eval.html#string">string</A> that results from out of
            bounds indexing.
Solution:   Add a simple test.
Files:      src/testdir/test_expr.vim

Patch 8.0.0352
Problem:    The condition for when a typval needs to be cleared is too
            complicated.
Solution:   Init the type to VAR_UNKNOWN and always clear <A HREF="motion.html#it">it</A>.
Files:      src/eval.c

Patch 8.0.0353
Problem:    If [RO] in the status line is translated to a longer <A HREF="eval.html#string">string</A>, <A HREF="motion.html#it">it</A> is
            truncated to 4 bytes.
Solution:   Skip over the resulting <A HREF="eval.html#string">string</A>. (Jente Hidskes, closes #1499)
Files:      src/screen.c

Patch 8.0.0354
Problem:    Test to check that setting <A HREF="term.html#termcap">termcap</A> key fails sometimes.
Solution:   Check for &quot;<A HREF="term.html#t_k1">t_k1</A>&quot; to exist. (Christian Brabandt, closes #1459)
Files:      src/testdir/test_assign.vim

Patch 8.0.0355
Problem:    Using uninitialized memory when <A HREF="options.html#'isfname'">'isfname'</A> is empty.
Solution:   Don't call getpwnam() without an argument. (Dominique Pelle,
            closes #1464)
Files:      src/misc1.c, src/testdir/test_options.vim

Patch 8.0.0356 (after 8.0.0342)
Problem:    Leaking memory when setting <A HREF="options.html#'ttytype'">'ttytype'</A>.
Solution:   Get free_oldval from the right option entry.
Files:      src/option.c

Patch 8.0.0357
Problem:    Crash when setting <A HREF="options.html#'guicursor'">'guicursor'</A> to weird value.
Solution:   Avoid negative size. (Dominique Pelle, closes #1465)
Files:      src/misc2.c, src/testdir/test_options.vim

Patch 8.0.0358
Problem:    Invalid memory access in C-indent code.
Solution:   Don't go over end of empty line. (Dominique Pelle, closes #1492)
Files:      src/edit.c, src/testdir/test_options.vim

Patch 8.0.0359
Problem:    <A HREF="options.html#'number'">'number'</A> and <A HREF="options.html#'relativenumber'">'relativenumber'</A> are not properly tested.
Solution:   Add tests, change old style to new style tests. (Ozaki Kiichi,
            closes #1447)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test89.in, src/testdir/test89.ok,
            src/testdir/test_alot.vim, src/testdir/test_findfile.vim,
            src/testdir/test_number.vim

Patch 8.0.0360
Problem:    Sometimes VimL is used, which is confusing.
Solution:   Consistently use &quot;Vim script&quot;. (Hirohito Higashi)
Files:      runtime/doc/if_mzsch.txt, runtime/doc/if_pyth.txt,
            runtime/doc/syntax.txt, runtime/doc/usr_02.txt,
            runtime/doc/version7.txt, src/Makefile, src/eval.c,
            src/ex_getln.c, src/if_py_both.h, src/if_xcmdsrv.c,
            src/testdir/Make_all.mak, src/testdir/runtest.vim,
            src/testdir/test49.vim, src/testdir/test_vimscript.vim,
            src/testdir/test_viml.vim

Patch 8.0.0361
Problem:    <A HREF="gui.html#GUI">GUI</A> initialisation is not sufficiently tested.
Solution:   Add the gui_init test. (Kazunobu Kuriyama)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Makefile,
            src/testdir/gui_init.vim, src/testdir/setup_gui.vim,
            src/testdir/test_gui.vim, src/testdir/test_gui_init.vim, Filelist

Patch 8.0.0362 (after 8.0.0361)
Problem:    Tests fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use $*.vim instead of $&lt;.
Files:      src/testdir/Make_dos.mak

Patch 8.0.0363
Problem:    Travis is too slow to keep up with patches.
Solution:   Increase git depth to 20
Files:      .travis.yml

Patch 8.0.0364
Problem:    <A HREF="spell.html#]s">]s</A> does not move cursor with two <A HREF="spell.html#spell">spell</A> <A HREF="message.html#errors">errors</A> in one line. (Manuel
            Ortega)
Solution:   Don't stop search immediately when wrapped, search the line first.
            (Ken Takata)  Add a test.
Files:      src/spell.c, src/Makefile, src/testdir/test_spell.vim,
            src/testdir/Make_all.mak

Patch 8.0.0365
Problem:    Might free a <A HREF="eval.html#dict">dict</A> item that wasn't allocated.
Solution:   Call dictitem_free(). (Nikolai Pavlov)  Use this for
            <A HREF="eval.html#b:changedtick">b:changedtick</A>.
Files:      src/dict.c, src/structs.h, src/buffer.c, src/edit.c,
            src/evalfunc.c, src/ex_docmd.c, src/fileio.c, src/main.c,
            src/memline.c, src/misc1.c, src/syntax.c

Patch 8.0.0366 (after 8.0.0365)
Problem:    Build fails with tiny features.
Solution:   Add #ifdef.
Files:      src/buffer.c

Patch 8.0.0367
Problem:    If configure defines _LARGE_FILES some include files are included
            before <A HREF="motion.html#it">it</A> is defined.
Solution:   Include vim.h first. (Sam Thursfield, closes #1508)
Files:      src/gui_at_sb.c, src/gui_athena.c, src/gui_motif.c, src/gui_x11.c,
            src/gui_xmdlg.c

Patch 8.0.0368
Problem:    Not all <A HREF="options.html#options">options</A> are tested with a range of values.
Solution:   Generate a test <A HREF="usr_41.html#script">script</A> from the source code.
Files:      Filelist, src/gen_opt_test.vim, src/testdir/test_options.vim,
            src/Makefile

Patch 8.0.0369 (after 8.0.0368)
Problem:    The <A HREF="options.html#'balloondelay'">'balloondelay'</A>, <A HREF="options.html#'ballooneval'">'ballooneval'</A> and <A HREF="options.html#'balloonexpr'">'balloonexpr'</A> <A HREF="options.html#options">options</A> are
            not defined without the <A HREF="various.html#+balloon_eval">+balloon_eval</A> feature. Testing that an
            option value fails does not work for unsupported <A HREF="options.html#options">options</A>.
Solution:   Make the <A HREF="options.html#options">options</A> defined but not supported.  Don't test if
            setting unsupported <A HREF="options.html#options">options</A> fails.
Files:      src/option.c, src/gen_opt_test.vim

Patch 8.0.0370
Problem:    Invalid memory access when setting wildchar empty.
Solution:   Avoid going over the end of the option value. (Dominique Pelle,
            closes #1509)  Make option test check all number <A HREF="options.html#options">options</A> with
            empty value.
Files:      src/gen_opt_test.vim, src/option.c, src/testdir/test_options.vim

Patch 8.0.0371 (after 8.0.0365)
Problem:    Leaking memory when setting <A HREF="eval.html#v:completed_item">v:completed_item</A>.
Solution:   Or the flags instead of setting them.
Files:      src/eval.c

Patch 8.0.0372
Problem:    More <A HREF="options.html#options">options</A> are not always defined.
Solution:   Consistently define all possible <A HREF="options.html#options">options</A>.
Files:      src/option.c, src/testdir/test_expand_dllpath.vim

Patch 8.0.0373
Problem:    Build fails without <A HREF="various.html#+folding">+folding</A>.
Solution:   Move misplaced #ifdef.
Files:      src/option.c

Patch 8.0.0374
Problem:    Invalid memory access when using <A HREF="change.html#:sc">:sc</A> in <A HREF="intro.html#Ex">Ex</A> mode. (Dominique Pelle)
Solution:   Avoid the column being negative.  Also fix a hang in <A HREF="intro.html#Ex">Ex</A> mode.
Files:      src/ex_getln.c, src/ex_cmds.c, src/testdir/test_substitute.vim

Patch 8.0.0375
Problem:    The &quot;<A HREF="motion.html#+">+</A> <A HREF="sponsor.html#register">register</A> is not tested.
Solution:   Add a test using another Vim instance to change the &quot;<A HREF="motion.html#+">+</A> <A HREF="sponsor.html#register">register</A>.
            (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim

Patch 8.0.0376
Problem:    Size computations in <A HREF="spell.html#spell">spell</A> file reading are not exactly right.
Solution:   Make &quot;len&quot; a &quot;long&quot; and check with LONG_MAX.
Files:      src/spellfile.c

Patch 8.0.0377
Problem:    Possible overflow when reading corrupted <A HREF="undo.html#undo">undo</A> file.
Solution:   Check if allocated size is not too big. (King)
Files:      src/undo.c

Patch 8.0.0378
Problem:    Another possible overflow when reading corrupted <A HREF="undo.html#undo">undo</A> file.
Solution:   Check if allocated size is not too big. (King)
Files:      src/undo.c

Patch 8.0.0379
Problem:    <A HREF="starting.html#CTRL-Z">CTRL-Z</A> and mouse click use <A HREF="motion.html#CTRL-O">CTRL-O</A> unnecessary.
Solution:   Remove stuffing <A HREF="motion.html#CTRL-O">CTRL-O</A>. (James McCoy, closes #1453)
Files:      src/edit.c, src/normal.c

Patch 8.0.0380
Problem:    With <A HREF="options.html#'linebreak'">'linebreak'</A> set and <A HREF="options.html#'breakat'">'breakat'</A> includes &quot;<A HREF="change.html#&gt;">&gt;</A>&quot; a double-wide
            character results in &quot;<A HREF="change.html#&lt;&lt;">&lt;&lt;</A>&quot; displayed.
Solution:   Check for the character not to be replaced. (Ozaki Kiichi,
            closes #1456)
Files:      src/screen.c, src/testdir/test_listlbr_utf8.vim

Patch 8.0.0381
Problem:    Diff mode is not sufficiently tested.
Solution:   Add more <A HREF="diff.html#diff">diff</A> mode tests. (Dominique Pelle, closes #1515)
Files:      src/testdir/test_diffmode.vim

Patch 8.0.0382 (after 8.0.0380)
Problem:    Warning in tiny build for unused variable. (Tony Mechelynck)
Solution:   Add #ifdefs.
Files:      src/screen.c

Patch 8.0.0383 (after 8.0.0382)
Problem:    Misplaced #ifdef. (Christ van Willigen)
Solution:   Split assignment.
Files:      src/screen.c

Patch 8.0.0384
Problem:    Timer test failed for no apparent reason.
Solution:   <A HREF="motion.html#Mark">Mark</A> the test <A HREF="motion.html#as">as</A> flaky.
Files:      src/testdir/runtest.vim

Patch 8.0.0385
Problem:    No tests for arabic.
Solution:   Add a first test for arabic. (Dominique Pelle, closes #1518)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_arabic.vim

Patch 8.0.0386
Problem:    Tiny build has a problem with generating the <A HREF="options.html#options">options</A> test.
Solution:   Change the &quot;if&quot; to skip over statements.
Files:      src/gen_opt_test.vim

Patch 8.0.0387
Problem:    compiler warnings
Solution:   Add type casts. (Christian Brabandt)
Files:      src/channel.c, src/memline.c, 

Patch 8.0.0388
Problem:    filtering lines through &quot;cat&quot;, without <A HREF="change.html#changing">changing</A> the line <A HREF="intro.html#count">count</A>,
            changes manual <A HREF="fold.html#folds">folds</A>.
Solution:   Change how marks and <A HREF="fold.html#folds">folds</A> are adjusted. (Matthew Malcomson, from
            neovim #6194).
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.0.0389
Problem:    Test for arabic does not check what is displayed.
Solution:   Improve what is asserted. (Dominique Pelle, closes #1523)
            Add a first shaping test.
Files:      src/testdir/test_arabic.vim

Patch 8.0.0390
Problem:    When the <A HREF="windows.html#window">window</A> scrolls horizontally when the popup menu is
            displayed part of <A HREF="motion.html#it">it</A> may not be cleared. (Neovim issue #6184)
Solution:   Remove the menu when the <A HREF="windows.html#windows">windows</A> scrolled. (closes #1524)
Files:      src/edit.c

Patch 8.0.0391
Problem:    <A HREF="arabic.html#Arabic">Arabic</A> support is <A HREF="starting.html#verbose">verbose</A> and not well tested.
Solution:   Simplify the code.  Add more tests.
Files:      src/arabic.c, src/testdir/test_arabic.vim

Patch 8.0.0392
Problem:    <A HREF="gui.html#GUI">GUI</A> test fails with <A HREF="gui_x11.html#Athena">Athena</A> and <A HREF="gui_x11.html#Motif">Motif</A>.
Solution:   Add <A HREF="eval.html#test_ignore_error()">test_ignore_error()</A>.  Use <A HREF="motion.html#it">it</A> to ignore the &quot;failed to create
            input context&quot; error.
Files:      src/message.c, src/proto/message.pro, src/evalfunc.c,
            src/testdir/test_gui.vim, runtime/doc/eval.txt

Patch 8.0.0393 (after 8.0.0190)
Problem:    When the same <A HREF="tagsrch.html#tag">tag</A> appears more than once, the order is
            unpredictable. (Charles Campbell)
Solution:   Besides using a <A HREF="eval.html#dict">dict</A> for finding duplicates, use a grow array for
            keeping the <A HREF="tagsrch.html#tags">tags</A> in sequence.
Files:      src/tag.c, src/testdir/test_tagjump.vim

Patch 8.0.0394
Problem:    Tabs are not aligned when <A HREF="scroll.html#scrolling">scrolling</A> horizontally and a <A HREF="intro.html#Tab">Tab</A> doesn't
            fit. (Axel Bender)
Solution:   Handle a <A HREF="intro.html#Tab">Tab</A> <A HREF="motion.html#as">as</A> a not fitting character. (Christian Brabandt)
            Also fix that &quot;<A HREF="various.html#:redraw">:redraw</A>&quot; does not scroll horizontally to show the
            cursor.  And fix the test that depended on the old behavior.
Files:      src/screen.c, src/ex_docmd.c, src/testdir/test_listlbr.vim,
            src/testdir/test_listlbr_utf8.vim,
            src/testdir/test_breakindent.vim

Patch 8.0.0395 (after 8.0.0392)
Problem:    Testing the + <A HREF="sponsor.html#register">register</A> fails with <A HREF="gui_x11.html#Motif">Motif</A>.
Solution:   Also ignore the &quot;failed to create input context&quot; error in the
            second <A HREF="starting.html#gvim">gvim</A>.  Don't use msg() when <A HREF="motion.html#it">it</A> would result in a <A HREF="gui_w32.html#dialog">dialog</A>.
Files:      src/message.c, src/testdir/test_gui.vim, src/testdir/setup_gui.vim

Patch 8.0.0396
Problem:    <A HREF="options.html#'balloonexpr'">'balloonexpr'</A> only works synchronously.
Solution:   Add <A HREF="eval.html#balloon_show()">balloon_show()</A>. (Jusufadis Bakamovic, closes #1449)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/os_unix.c,
            src/os_win32.c

Patch 8.0.0397 (after 8.0.0392)
Problem:    Cannot build with the <A HREF="starting.html#viminfo">viminfo</A> feature but without the <A HREF="eval.html#eval">eval</A>
            feature.
Solution:   Adjust #ifdef. (John Marriott)
Files:      src/message.c, src/misc2.c

Patch 8.0.0398
Problem:    Illegal memory access with &quot;<A HREF="motion.html#t">t</A>&quot;.
Solution:   Use strncmp() instead of memcmp(). (Dominique Pelle, closes #1528)
Files:      src/search.c, src/testdir/test_search.vim

Patch 8.0.0399
Problem:    Crash when using <A HREF="eval.html#balloon_show()">balloon_show()</A> when not supported. (Hirohito
            Higashi)
Solution:   Check for balloonEval not to be NULL. (Ken Takata)
Files:      src/evalfunc.c, src/testdir/test_functions.vim

Patch 8.0.0400
Problem:    Some tests have a one second delay.
Solution:   Add <A HREF="starting.html#--not-a-term">--not-a-term</A> in RunVim().
Files:      src/testdir/shared.vim

Patch 8.0.0401
Problem:    Test fails with missing balloon feature.
Solution:   Add check for balloon feature.
Files:      src/testdir/test_functions.vim

Patch 8.0.0402
Problem:    <A HREF="map.html#:map">:map</A> completion does not have &lt;special&gt;. (Dominique Pelle)
Solution:   Recognize &lt;special&gt; in completion.  Add a test.
Files:      src/getchar.c, src/testdir/test_cmdline.vim

Patch 8.0.0403
Problem:    <A HREF="gui.html#GUI">GUI</A> tests may fail.
Solution:   Ignore the <A HREF="mbyte.html#E285">E285</A> error better. (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim, src/testdir/test_gui_init.vim

Patch 8.0.0404
Problem:    Not enough <A HREF="eval.html#testing">testing</A> for <A HREF="quickfix.html#quickfix">quickfix</A>.
Solution:   Add some more tests. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 8.0.0405
Problem:    <A HREF="eval.html#v:progpath">v:progpath</A> may become invalid after &quot;<A HREF="editing.html#:cd">:cd</A>&quot;.
Solution:   Turn <A HREF="eval.html#v:progpath">v:progpath</A> into a full path if needed.
Files:      src/main.c, src/testdir/test_startup.vim, runtime/doc/eval.txt

Patch 8.0.0406
Problem:    The arabic shaping code is <A HREF="starting.html#verbose">verbose</A>.
Solution:   Shorten the code without <A HREF="change.html#changing">changing</A> the functionality.
Files:      src/arabic.c

Patch 8.0.0407 (after 8.0.0388)
Problem:    Filtering <A HREF="fold.html#folds">folds</A> with marker method not tested.
Solution:   Also set <A HREF="options.html#'foldmethod'">'foldmethod'</A> to &quot;marker&quot;.
Files:      src/testdir/test_fold.vim

Patch 8.0.0408
Problem:    Updating <A HREF="fold.html#folds">folds</A> does not work properly when <A HREF="insert.html#inserting">inserting</A> a file and a
            few other situations.
Solution:   Adjust the way <A HREF="fold.html#folds">folds</A> are updated. (Matthew Malcomson)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.0.0409
Problem:    set_progpath is defined but not always used
Solution:   Adjust #ifdef.
Files:      src/main.c

Patch 8.0.0410
Problem:    Newer gettext/iconv library has extra dll file.
Solution:   Add the file to the Makefile and nsis <A HREF="usr_41.html#script">script</A>. (Christian Brabandt)
Files:      Makefile, nsis/gvim.nsi

Patch 8.0.0411
Problem:    We can't change the <A HREF="change.html#case">case</A> in menu entries, <A HREF="motion.html#it">it</A> breaks translations.
Solution:   Ignore <A HREF="change.html#case">case</A> when looking up a menu translation.
Files:      src/menu.c, src/testdir/test_menu.vim

Patch 8.0.0412 (after 8.0.0411)
Problem:    Menu test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use a menu entry with only ASCII characters.
Files:      src/testdir/test_menu.vim

Patch 8.0.0413 (after 8.0.0412)
Problem:    Menu test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> using <A HREF="starting.html#gvim">gvim</A>.
Solution:   First delete the English <A HREF="gui.html#menus">menus</A>.
Files:      src/testdir/test_menu.vim

Patch 8.0.0414
Problem:    Balloon <A HREF="eval.html#eval">eval</A> is not tested.
Solution:   Add a few balloon tests. (Kazunobu Kuriyama)
Files:      src/testdir/test_gui.vim

Patch 8.0.0415 (after 8.0.0414)
Problem:    Balloon test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Test with 0x7fffffff instead of 0xffffffff.
Files:      src/testdir/test_gui.vim

Patch 8.0.0416
Problem:    Setting <A HREF="eval.html#v:progpath">v:progpath</A> is not quite right.
Solution:   On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> add the extension. On <A HREF="os_unix.html#Unix">Unix</A> use the full path for a
            relative directory. (partly by James McCoy, closes #1531)
Files:      src/main.c, src/os_win32.c, src/os_unix.c

Patch 8.0.0417
Problem:    Test for the <A HREF="gui.html#clipboard">clipboard</A> fails sometimes.
Solution:   Add <A HREF="motion.html#it">it</A> to the flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.0418
Problem:    ASAN logs are disabled and don't cause a failure.
Solution:   Enable ASAN logs and fail if not empty. (James McCoy,
            closes #1425)
Files:      .travis.yml

Patch 8.0.0419
Problem:    Test for <A HREF="eval.html#v:progpath">v:progpath</A> fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Expand to full path.  Also add &quot;.exe&quot; when the path is an absolute
            path.
Files:      src/os_win32.c, src/main.c

Patch 8.0.0420
Problem:    When running <A HREF="quickfix.html#:make">:make</A> the output may be in the system encoding,
            different from <A HREF="options.html#'encoding'">'encoding'</A>.
Solution:   Add the <A HREF="options.html#'makeencoding'">'makeencoding'</A> option. (Ken Takata)
Files:      runtime/doc/options.txt, runtime/doc/quickfix.txt,
            runtime/doc/quickref.txt, src/Makefile, src/buffer.c,
            src/if_cscope.c, src/main.c, src/option.c, src/option.h,
            src/proto/quickfix.pro, src/quickfix.c, src/structs.h,
            src/testdir/Make_all.mak, src/testdir/test_makeencoding.py,
            src/testdir/test_makeencoding.vim

Patch 8.0.0421
Problem:    Diff mode is displayed wrong when adding a line at the end of a
            buffer.
Solution:   Adjust marks in <A HREF="diff.html#diff">diff</A> mode. (James McCoy, closes #1329)
Files:      src/misc1.c, src/ops.c, src/testdir/test_diffmode.vim

Patch 8.0.0422
Problem:    <A HREF="if_pyth.html#Python">Python</A> test fails with <A HREF="if_pyth.html#Python">Python</A> 3.6.
Solution:   Convert new exception <A HREF="message.html#messages">messages</A> to old ones. (closes #1359)
Files:      src/testdir/test87.in

Patch 8.0.0423
Problem:    The effect of adding &quot;<A HREF="pattern.html##">#</A>&quot; to <A HREF="options.html#'cinoptions'">'cinoptions'</A> is not always removed.
            (David Briscoe)
Solution:   Reset b_ind_hash_comment. (Christian Brabandt, closes #1475)
Files:      src/misc1.c, src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_cindent.vim, src/testdir/test3.in

Patch 8.0.0424
Problem:    Compiler warnings on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ajit Thakkar)
Solution:   Add type casts.
Files:      src/os_win32.c

Patch 8.0.0425
Problem:    Build <A HREF="message.html#errors">errors</A> when building without <A HREF="fold.html#folding">folding</A>.
Solution:   Add #ifdefs. (John Marriott)
Files:      src/diff.c, src/edit.c, src/option.c, src/syntax.c

Patch 8.0.0426
Problem:    Insufficient <A HREF="eval.html#testing">testing</A> for statusline.
Solution:   Add several tests. (Dominique Pelle, closes #1534)
Files:      src/testdir/test_statusline.vim

Patch 8.0.0427
Problem:    <A HREF="options.html#'makeencoding'">'makeencoding'</A> missing from the <A HREF="options.html#options">options</A> <A HREF="windows.html#window">window</A>.
Solution:   Add the entry.
Files:      runtime/optwin.vim

Patch 8.0.0428
Problem:    Git and hg see new files after running tests. (Manuel Ortega)
Solution:   Add the generated file to .hgignore (or .gitignore). Delete the
            resulting <A HREF="starting.html#verbose">verbose</A> file. (Christian Brabandt)  Improve dependency
            on opt_test.vim.  Reset the <A HREF="options.html#'more'">'more'</A> option.
Files:      .hgignore, src/gen_opt_test.vim, src/testdir/gen_opt_test.vim,
            src/Makefile, src/testdir/Make_all.mak, src/testdir/Makefile,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            Filelist

Patch 8.0.0429
Problem:    Options test does not always test everything.
Solution:   Fix dependency for opt_test.vim.  Give a message when opt_test.vim
            was not found.
Files:      src/testdir/test_options.vim, src/testdir/gen_opt_test.vim,
            src/testdir/Makefile, src/testdir/Make_all.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak

Patch 8.0.0430
Problem:    Options test fails or hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Run <A HREF="motion.html#it">it</A> separately instead of part of test_alot.  Use &quot;<A HREF="starting.html#-S">-S</A>&quot; instead
            of &quot;<A HREF="starting.html#-u">-u</A>&quot; to run the <A HREF="usr_41.html#script">script</A>.  Fix failures.
Files:      src/testdir/Make_all.mak, src/testdir/test_alot.vim,
            src/testdir/Makefile, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/gen_opt_test.vim

Patch 8.0.0431
Problem:    <A HREF="options.html#'cinoptions'">'cinoptions'</A> cannot set indent for extern block.
Solution:   Add the &quot;<A HREF="motion.html#E">E</A>&quot; flag in <A HREF="options.html#'cinoptions'">'cinoptions'</A>. (Hirohito Higashi)
Files:      runtime/doc/indent.txt, src/misc1.c, src/structs.h,
            src/testdir/test_cindent.vim

Patch 8.0.0432
Problem:    &quot;make shadow&quot; creates an invalid link.
Solution:   Don't link &quot;*.vim&quot;. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 8.0.0433
Problem:    Quite a few beeps when running tests.
Solution:   Set <A HREF="options.html#'belloff'">'belloff'</A> for these tests. (Christian Brabandt)
Files:      src/testdir/test103.in, src/testdir/test14.in,
            src/testdir/test29.in, src/testdir/test30.in,
            src/testdir/test32.in, src/testdir/test45.in,
            src/testdir/test72.in, src/testdir/test73.in,
            src/testdir/test77.in, src/testdir/test78.in,
            src/testdir/test85.in, src/testdir/test94.in,
            src/testdir/test_alot.vim, src/testdir/test_alot_utf8.vim,
            src/testdir/test_close_count.in, src/testdir/test_cmdline.vim,
            src/testdir/test_diffmode.vim, src/testdir/test_digraph.vim,
            src/testdir/test_erasebackword.in, src/testdir/test_normal.vim,
            src/testdir/test_packadd.vim, src/testdir/test_search.vim,
            src/testdir/test_textobjects.vim, src/testdir/test_undo.vim,
            src/testdir/test_usercommands.vim, src/testdir/test_visual.vim

Patch 8.0.0434
Problem:    Clang version not correctly detected.
Solution:   Adjust the configure <A HREF="usr_41.html#script">script</A>. (Kazunobu Kuriyama)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.0435
Problem:    Some <A HREF="eval.html#functions">functions</A> are not tested.
Solution:   Add more tests for <A HREF="eval.html#functions">functions</A>. (Dominique Pelle, closes #1541)
Files:      src/testdir/test_functions.vim

Patch 8.0.0436
Problem:    Running the <A HREF="options.html#options">options</A> test sometimes resizes the <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Clear out <A HREF="term.html#t_WS">t_WS</A>.
Files:      src/testdir/gen_opt_test.vim

Patch 8.0.0437
Problem:    The packadd test does not create the symlink correctly and does
            not test the right thing.
Solution:   Create the directory and symlink correctly.
Files:      src/testdir/test_packadd.vim

Patch 8.0.0438
Problem:    The fnamemodify test changes <A HREF="options.html#'shell'">'shell'</A> in a way later tests may not
            be able to use <A HREF="eval.html#system()">system()</A>.
Solution:   Save and restore <A HREF="options.html#'shell'">'shell'</A>.
Files:      src/testdir/test_fnamemodify.vim

Patch 8.0.0439
Problem:    Using &quot;:&#37;argdel&quot; while the argument <A HREF="eval.html#list">list</A> is already empty gives an
            error. (Pavol Juhas)
Solution:   Don't give an error. (closes #1546)
Files:      src/ex_cmds2.c, src/testdir/test_arglist.vim

Patch 8.0.0440
Problem:    Not enough test coverage in <A HREF="insert.html#Insert">Insert</A> mode.
Solution:   Add lots of tests.  Add <A HREF="eval.html#test_override()">test_override()</A>. (Christian Brabandt,
            closes #1521)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/edit.c,
            src/evalfunc.c, src/globals.h,  src/screen.c,
            src/testdir/Make_all.mak, src/testdir/test_cursor_func.vim,
            src/testdir/test_edit.vim, src/testdir/test_search.vim,
            src/testdir/test_assert.vim, src/Makefile, src/testdir/runtest.vim

Patch 8.0.0441
Problem:    Dead code in #ifdef.
Solution:   Remove the #ifdef and #else part.
Files:      src/option.c

Patch 8.0.0442
Problem:    Patch shell command uses double <A HREF="quotes.html#quotes">quotes</A> around the argument, which
            allows for <A HREF="options.html#$HOME">$HOME</A> to be expanded. (Etienne)
Solution:   Use single <A HREF="quotes.html#quotes">quotes</A> on <A HREF="os_unix.html#Unix">Unix</A>. (closes #1543)
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 8.0.0443
Problem:    Terminal width is set to 80 in test3.
Solution:   Instead of setting <A HREF="options.html#'columns'">'columns'</A> set <A HREF="options.html#'wrapmargin'">'wrapmargin'</A> depending on
            'columns.
Files:      src/testdir/test3.in

Patch 8.0.0444 (after 8.0.0442)
Problem:    Diffpatch fails when the file name has a <A HREF="change.html#quote.">quote.</A>
Solution:   Escape the name properly. (zetzei)
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 8.0.0445
Problem:    Getpgid is not supported on all systems.
Solution:   Add a configure check.
Files:      src/configure.ac, src/auto/configure, src/config.h.in,
            src/os_unix.c

Patch 8.0.0446
Problem:    The &quot;<A HREF="motion.html#;">;</A>&quot; command does not work after characters with a lower byte
            that is NUL.
Solution:   Properly check for not having a previous character. (Hirohito
            Higashi)
Files:      src/Makefile, src/search.c, src/testdir/test_alot_utf8.vim,
            src/testdir/test_charsearch_utf8.vim

Patch 8.0.0447
Problem:    Getting font name does not work on <A HREF="options.html#X11">X11</A>.
Solution:   Implement gui_mch_get_fontname() for <A HREF="options.html#X11">X11</A>.  Add more <A HREF="gui.html#GUI">GUI</A> tests.
            (Kazunobu Kuriyama)
Files:      src/gui_x11.c, src/syntax.c, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Makefile,
            src/testdir/gui_init.vim, src/testdir/gui_preinit.vim,
            src/testdir/test_gui.vim, src/testdir/test_gui_init.vim,
            Filelist

Patch 8.0.0448
Problem:    Some macros are in lower <A HREF="change.html#case">case</A>, which can be confusing.
Solution:   Make a few lower <A HREF="change.html#case">case</A> macros upper <A HREF="change.html#case">case</A>.
Files:      src/macros.h, src/buffer.c, src/charset.c, src/ops.c, src/diff.c,
            src/edit.c, src/evalfunc.c, src/ex_cmds.c, src/ex_getln.c,
            src/fileio.c, src/fold.c, src/gui.c, src/gui_beval.c, src/main.c,
            src/mark.c, src/misc1.c, src/move.c, src/normal.c,
            src/option.c, src/popupmnu.c, src/regexp.c, src/screen.c,
            src/search.c, src/spell.c, src/tag.c, src/ui.c, src/undo.c,
            src/version.c, src/workshop.c, src/if_perl.xs

Patch 8.0.0449 (after 8.0.0448)
Problem:    Part of fold patch accidentally included.
Solution:   Revert that part of the patch.
Files:      src/ex_cmds.c

Patch 8.0.0450
Problem:    <A HREF="eval.html#v:progpath">v:progpath</A> is not reliably set.
Solution:   Read /proc/self/exe if possible. (idea by Michal Grochmal)
            Also fixes missing #if.
Files:      src/main.c, src/config.h.in

Patch 8.0.0451
Problem:    Some macros are in lower <A HREF="change.html#case">case</A>.
Solution:   Make a few more macros upper <A HREF="change.html#case">case</A>. Avoid lower <A HREF="change.html#case">case</A> macros use an
            argument <A HREF="if_cscop.html#twice">twice</A>.
Files:      src/macros.h, src/charset.c, src/misc2.c, src/proto/misc2.pro,
            src/edit.c, src/eval.c, src/ex_cmds.c, src/ex_cmds2.c,
            src/ex_docmd.c, src/ex_getln.c, src/fileio.c, src/fold.c,
            src/gui.c, src/gui_gtk.c, src/mark.c, src/memline.c, src/mbyte.c,
            src/menu.c, src/message.c, src/misc1.c, src/ops.c, src/option.c,
            src/os_amiga.c, src/os_mswin.c, src/os_unix.c, src/os_win32.c,
            src/popupmnu.c, src/regexp.c, src/regexp_nfa.c, src/screen.c,
            src/search.c, src/spell.c, src/spellfile.c, src/syntax.c,
            src/tag.c, src/ui.c, src/undo.c, src/window.c

Patch 8.0.0452
Problem:    Some macros are in lower <A HREF="change.html#case">case</A>.
Solution:   Make a few more macros upper <A HREF="change.html#case">case</A>.
Files:      src/vim.h, src/macros.h, src/evalfunc.c, src/fold.c,
            src/gui_gtk.c, src/gui_gtk_x11.c, src/charset.c, src/diff.c,
            src/edit.c, src/eval.c, src/ex_cmds.c, src/ex_cmds2.c,
            src/ex_docmd.c, src/ex_getln.c, src/fileio.c, src/getchar.c,
            src/gui.c, src/gui_w32.c, src/if_cscope.c, src/mbyte.c,
            src/menu.c, src/message.c, src/misc1.c, src/misc2.c, src/normal.c,
            src/ops.c, src/option.c, src/os_unix.c, src/os_win32.c,
            src/quickfix.c, src/regexp.c, src/regexp_nfa.c, src/screen.c,
            src/search.c, src/spell.c, src/syntax.c, src/tag.c, src/userfunc.c

Patch 8.0.0453
Problem:    Adding fold marker creates new comment.
Solution:   Use an existing comment if possible. (LemonBoy, closes #1549)
Files:      src/ops.c, src/proto/ops.pro, src/fold.c,
            src/testdir/test_fold.vim

Patch 8.0.0454
Problem:    Compiler warnings for comparing unsigned char with 256 always
            being true. (Manuel Ortega)
Solution:   Add type cast.
Files:      src/screen.c, src/charset.c

Patch 8.0.0455
Problem:    The mode test may hang in Test_mode(). (Michael Soyka)
Solution:   Set <A HREF="options.html#'complete'">'complete'</A> to only search the current buffer (as suggested by
            Michael)
Files:      src/testdir/test_functions.vim

Patch 8.0.0456
Problem:    Typo in MinGW test makefile.
Solution:   Change an underscore to a dot. (Michael Soyka)
Files:      src/testdir/Make_ming.mak

Patch 8.0.0457
Problem:    Using <A HREF="change.html#:move">:move</A> messes up manual <A HREF="fold.html#folds">folds</A>.
Solution:   Split adjusting marks and <A HREF="fold.html#folds">folds</A>.  Add foldMoveRange(). (neovim
            patch #6221)
Files:      src/ex_cmds.c, src/fold.c, src/mark.c, src/proto/fold.pro,
            src/proto/mark.pro src/testdir/test_fold.vim

Patch 8.0.0458
Problem:    Potential crash if adding <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> to <A HREF="eval.html#dict">dict</A> fails.
Solution:   Make sure the reference <A HREF="intro.html#count">count</A> is correct. (Nikolai Pavlov, closes
            #1555)
Files:      src/dict.c

Patch 8.0.0459 (after 8.0.0457)
Problem:    Old fix for <A HREF="change.html#:move">:move</A> messing up <A HREF="fold.html#folding">folding</A> no longer needed, now that we
            have a proper solution.
Solution:   Revert patch 7.4.700. (Christian Brabandt)
Files:      src/ex_cmds.c

Patch 8.0.0460 (after 8.0.0452)
Problem:    Can't build on HPUX.
Solution:   Fix argument names in vim_stat(). (John Marriott)
Files:      src/misc2.c

Patch 8.0.0461 (after 8.0.0457)
Problem:    Test 45 hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Reset <A HREF="options.html#'shiftwidth'">'shiftwidth'</A>.  Also remove redundant function.
Files:      src/fold.c, src/testdir/test45.in

Patch 8.0.0462
Problem:    If an <A HREF="os_win32.html#MS-Windows">MS-Windows</A> tests succeeds at first and then fails in a way
            <A HREF="motion.html#it">it</A> does not produce a test.out file <A HREF="motion.html#it">it</A> looks like the test
            succeeded.
Solution:   Delete the previous output file.
Files:      src/testdir/Make_dos.mak

Patch 8.0.0463
Problem:    Resetting <A HREF="options.html#'compatible'">'compatible'</A> in <A HREF="starting.html#defaults.vim">defaults.vim</A> has unexpected side
            effects. (David Fishburn)
Solution:   Only reset <A HREF="options.html#'compatible'">'compatible'</A> if <A HREF="motion.html#it">it</A> was set.
Files:      runtime/defaults.vim

Patch 8.0.0464
Problem:    Can't find executable name on Solaris and FreeBSD.
Solution:   Check for &quot;/proc/self/path/a.out&quot;. (Danek Duvall) And for
            &quot;/proc/curproc/file&quot;.
Files:      src/config.h.in, src/configure.ac, src/main.c,
            src/auto/configure

Patch 8.0.0465
Problem:    Off-by-one error in using <A HREF="change.html#:move">:move</A> with <A HREF="fold.html#folding">folding</A>.
Solution:   Correct off-by-one mistakes and add more tests. (Matthew
            Malcomson)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.0.0466
Problem:    There are still a few macros that should be all-caps.
Solution:   Make a few more macros all-caps.
Files:      src/buffer.c, src/edit.c, src/ex_cmds.c, src/ex_cmds2.c,
	    src/ex_docmd.c, src/ex_getln.c, src/farsi.c, src/fileio.c,
	    src/getchar.c, src/gui_beval.c, src/hardcopy.c, src/if_cscope.c,
	    src/if_xcmdsrv.c, src/mark.c, src/memline.c, src/menu.c,
	    src/message.c, src/misc1.c, src/normal.c, src/ops.c, src/option.c,
	    src/quickfix.c, src/screen.c, src/search.c, src/syntax.c,
	    src/tag.c, src/term.c, src/term.h, src/ui.c, src/undo.c,
	    src/userfunc.c, src/version.c, src/vim.h

Patch 8.0.0467
Problem:    Using <A HREF="message.html#g&lt;">g&lt;</A> after <A HREF="eval.html#:for">:for</A> does not show the right output. (Marcin
            Szamotulski)
Solution:   Call msg_sb_eol() in <A HREF="eval.html#:echomsg">:echomsg</A>.
Files:      src/eval.c

Patch 8.0.0468
Problem:    After aborting an <A HREF="intro.html#Ex">Ex</A> command <A HREF="message.html#g&lt;">g&lt;</A> does not work. (Marcin
            Szamotulski)
Solution:   Postpone clearing scrollback <A HREF="message.html#messages">messages</A> to until the command line
            has been entered.  Also fix that the screen isn't redrawn if after
            <A HREF="message.html#g&lt;">g&lt;</A> the command line is cancelled.
Files:      src/message.c, src/proto/message.pro, src/ex_getln.c, src/misc2.c,
            src/gui.c

Patch 8.0.0469
Problem:    Compiler warnings on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add type casts. (Christian Brabandt)
Files:      src/fold.c

Patch 8.0.0470
Problem:    Not enough <A HREF="eval.html#testing">testing</A> for help commands.
Solution:   Add a few more help tests. (Dominique Pelle, closes #1565)
Files:      src/testdir/test_help.vim, src/testdir/test_help_tagjump.vim

Patch 8.0.0471
Problem:    Exit callback test sometimes fails.
Solution:   Add <A HREF="motion.html#it">it</A> to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.0472
Problem:    When a test fails and test.log is created, Test_edit_CTRL_I
            matches <A HREF="motion.html#it">it</A> instead of test1.in.
Solution:   Match with runtest.vim instead.
Files:      src/testdir/test_edit.vim

Patch 8.0.0473
Problem:    No test covering arg_all().
Solution:   Add a test expanding ##.
Files:      src/testdir/test_arglist.vim

Patch 8.0.0474
Problem:    The <A HREF="remote.html#client-server">client-server</A> feature is not tested.
Solution:   Add a test.
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/shared.vim,
            src/testdir/test_clientserver.vim, src/os_mswin.c

Patch 8.0.0475
Problem:    Not enough <A HREF="eval.html#testing">testing</A> for the <A HREF="remote.html#client-server">client-server</A> feature.
Solution:   Add more tests.  Add the <A HREF="eval.html#remote_startserver()">remote_startserver()</A> function.  Fix that
            a locally evaluated <A HREF="eval.html#expression">expression</A> uses function-local <A HREF="eval.html#variables">variables</A>.
Files:      src/if_xcmdsrv.c, src/evalfunc.c, src/os_mswin.c,
            src/proto/main.pro, src/testdir/test_clientserver.vim,
            runtime/doc/eval.txt

Patch 8.0.0476 (after 8.0.0475)
Problem:    Missing change to main.c.
Solution:   Add new function.
Files:      src/main.c

Patch 8.0.0477
Problem:    The <A HREF="remote.html#client-server">client-server</A> test may hang when failing.
Solution:   Set a <A HREF="eval.html#timer">timer</A>.  Add <A HREF="eval.html#assert_report()">assert_report()</A>
Files:      src/testdir/test_clientserver.vim, src/testdir/runtest.vim,
            src/eval.c, src/evalfunc.c, src/proto/eval.pro, src/if_xcmdsrv.c,
            src/os_mswin.c, runtime/doc/eval.txt

Patch 8.0.0478
Problem:    Tests use assert_true(0) and assert_false(1) to report <A HREF="message.html#errors">errors</A>.
Solution:   Use <A HREF="eval.html#assert_report()">assert_report()</A>.
Files:      src/testdir/test_cscope.vim, src/testdir/test_expr.vim,
            src/testdir/test_perl.vim, src/testdir/test_channel.vim,
            src/testdir/test_cursor_func.vim, src/testdir/test_gui.vim,
            src/testdir/test_menu.vim, src/testdir/test_popup.vim,
            src/testdir/test_viminfo.vim, src/testdir/test_vimscript.vim,
            src/testdir/test_assert.vim

Patch 8.0.0479
Problem:    <A HREF="eval.html#remote_peek()">remote_peek()</A> is not tested.
Solution:   Add a test.
Files:      src/testdir/test_clientserver.vim, src/testdir/runtest.vim

Patch 8.0.0480
Problem:    The <A HREF="eval.html#remote_peek()">remote_peek()</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Check for pending <A HREF="message.html#messages">messages</A>. Also report <A HREF="message.html#errors">errors</A> in the first run if
            a flaky test fails <A HREF="if_cscop.html#twice">twice</A>.
Files:      src/os_mswin.c, src/testdir/runtest.vim

Patch 8.0.0481
Problem:    Unnecessary if statement.
Solution:   Remove the statement.  Fix &quot;it's&quot; vs &quot;its&quot; mistakes. (Dominique
            Pelle, closes #1568)
Files:      src/syntax.c

Patch 8.0.0482
Problem:    The <A HREF="eval.html#setbufvar()">setbufvar()</A> function may mess up the <A HREF="windows.html#window">window</A> layout. (Kay Z.)
Solution:   Do not check the <A HREF="windows.html#window">window</A> to be valid if <A HREF="motion.html#it">it</A> is NULL.
Files:      src/window.c, src/testdir/test_functions.vim

Patch 8.0.0483
Problem:    Illegal memory access when using <A HREF="windows.html#:all">:all</A>. (Dominique Pelle)
Solution:   Adjust the cursor position right after setting &quot;curwin&quot;.
Files:      src/window.c, src/testdir/test_window_cmd.vim

Patch 8.0.0484
Problem:    Using <A HREF="helphelp.html#:lhelpgrep">:lhelpgrep</A> with an argument that should fail does not
            produce an error if the previous <A HREF="helphelp.html#:helpgrep">:helpgrep</A> worked.
Solution:   Use another way to detect that <A HREF="autocmd.html#autocommands">autocommands</A> made the <A HREF="quickfix.html#quickfix">quickfix</A> info
            invalid. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0485
Problem:    Not all <A HREF="windows.html#windows">windows</A> commands are tested.
Solution:   Add more tests for <A HREF="windows.html#windows">windows</A> commands. (Dominique Pelle,
            closes #1575) Run test_autocmd separately, <A HREF="motion.html#it">it</A> interferes with
            other tests.  Fix tests that depended on side effects.
Files:      src/testdir/test_window_cmd.vim, src/testdir/test_alot.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_fnamemodify.vim,
            src/testdir/test_functions.vim, src/testdir/test_delete.vim,
            src/testdir/Make_all.mak

Patch 8.0.0486
Problem:    Crash and endless loop when closing <A HREF="windows.html#windows">windows</A> in a <A HREF="autocmd.html#SessionLoadPost">SessionLoadPost</A>
            <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Check for valid <A HREF="tabpage.html#tabpage">tabpage</A>.  (partly neovim #6308)
Files:      src/testdir/test_autocmd.vim, src/fileio.c, src/proto/window.pro,
            src/window.c

Patch 8.0.0487
Problem:    The autocmd test hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the hanging tests for now.
Files:      src/testdir/test_autocmd.vim

Patch 8.0.0488
Problem:    Running tests leaves an &quot;xxx&quot; file behind.
Solution:   Delete the <A HREF="options.html#'verbosefile'">'verbosefile'</A> after resetting the option.
Files:      src/testdir/gen_opt_test.vim

Patch 8.0.0489
Problem:    Clipboard and &quot;* <A HREF="sponsor.html#register">register</A> is not tested.
Solution:   Add a test for <A HREF="os_mac.html#Mac">Mac</A> and <A HREF="options.html#X11">X11</A>. (Kazunobu Kuriyama)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/test_quotestar.vim, src/testdir/runtest.vim

Patch 8.0.0490
Problem:    Splitting a <A HREF="options.html#'winfixwidth'">'winfixwidth'</A> <A HREF="windows.html#window">window</A> vertically makes <A HREF="motion.html#it">it</A> one column
            smaller. (Dominique Pelle)
Solution:   Add one to the width for the separator.
Files:      src/window.c, src/testdir/test_window_cmd.vim

Patch 8.0.0491
Problem:    The <A HREF="gui.html#quotestar">quotestar</A> test fails when a required feature is missing.
Solution:   Prepend &quot;Skipped&quot; to the thrown exception.
Files:      src/testdir/test_quotestar.vim

Patch 8.0.0492
Problem:    A failing <A HREF="remote.html#client-server">client-server</A> request can make Vim hang.
Solution:   Add a timeout argument to <A HREF="eval.html#functions">functions</A> that wait.
Files:      src/evalfunc.c, src/if_xcmdsrv.c, src/proto/if_xcmdsrv.pro,
            src/main.c, src/os_mswin.c, src/proto/os_mswin.pro,
            src/vim.h, runtime/doc/eval.txt, src/testdir/test_clientserver.vim

Patch 8.0.0493
Problem:    Crash with cd command with very long argument.
Solution:   Check for running out of space. (Dominique Pelle, closes #1576)
Files:      src/testdir/test_alot.vim, src/testdir/test_cd.vim, src/Makefile,
            src/misc2.c

Patch 8.0.0494
Problem:    Build failure with older compiler on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Move declaration to start of block.
Files:      src/evalfunc.c, src/main.c, src/os_mswin.c

Patch 8.0.0495
Problem:    The <A HREF="gui.html#quotestar">quotestar</A> test uses a <A HREF="eval.html#timer">timer</A> instead of a timeout, thus <A HREF="motion.html#it">it</A>
            cannot be rerun like a flaky test.
Solution:   Remove the <A HREF="eval.html#timer">timer</A> and add a timeout. (Kazunobu Kuriyama)
Files:      src/testdir/test_quotestar.vim

Patch 8.0.0496
Problem:    Insufficient <A HREF="eval.html#testing">testing</A> for <A HREF="fold.html#folding">folding</A>.
Solution:   Add a couple more fold tests. (Dominique Pelle, closes #1579)
Files:      src/testdir/test_fold.vim

Patch 8.0.0497
Problem:    <A HREF="arabic.html#Arabic">Arabic</A> support is not fully tested.
Solution:   Add more tests for the untested <A HREF="eval.html#functions">functions</A>.  Comment out
            unreachable code.
Files:      src/arabic.c, src/testdir/test_arabic.vim

Patch 8.0.0498
Problem:    Two autocmd tests are skipped on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Make the test pass on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. Write the <A HREF="message.html#messages">messages</A> in a file
            instead of getting the output of <A HREF="eval.html#system()">system()</A>.
Files:      src/testdir/test_autocmd.vim

Patch 8.0.0499
Problem:    <A HREF="eval.html#taglist()">taglist()</A> does not prioritize <A HREF="tagsrch.html#tags">tags</A> for a buffer.
Solution:   Add an optional buffer argument. (Duncan McDougall, closes #1194) 
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/proto/tag.pro,
            src/Makefile, src/tag.c, src/testdir/test_alot.vim,
            src/testdir/test_taglist.vim

Patch 8.0.0500
Problem:    Quotestar test is still a bit flaky.
Solution:   Add a slower check for <A HREF="eval.html#v:version">v:version</A>.
Files:      src/testdir/test_quotestar.vim

Patch 8.0.0501
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> &quot;<A HREF="os_win32.html#:!start">:!start</A>&quot; does not work <A HREF="motion.html#as">as</A> expected.
Solution:   When creating a process fails try passing the argument to
            ShellExecute().  (Katsuya Hino, closes #1570)
Files:      runtime/doc/os_win32.txt, src/os_win32.c

Patch 8.0.0502
Problem:    Coverity complains about possible NULL pointer.
Solution:   Add an assert(), let's see if this works on all systems.
Files:      src/window.c

Patch 8.0.0503
Problem:    Endless loop in updating <A HREF="fold.html#folds">folds</A> with 32 bit ints.
Solution:   Subtract from LHS instead of add to the RHS. (Matthew Malcomson)
Files:      src/fold.c

Patch 8.0.0504
Problem:    Looking up an <A HREF="intro.html#Ex">Ex</A> command is a bit slow.
Solution:   Instead of just using the first <A HREF="print.html#letter">letter</A>, also use the second <A HREF="print.html#letter">letter</A>
            to skip ahead in the <A HREF="eval.html#list">list</A> of commands. Generate the table with a
            <A HREF="if_perl.html#Perl">Perl</A> <A HREF="usr_41.html#script">script</A>. (Dominique Pelle, closes #1589)
Files:      src/Makefile, src/create_cmdidxs.pl, src/ex_docmd.c, Filelist

Patch 8.0.0505
Problem:    Failed <A HREF="windows.html#window">window</A> split for <A HREF="windows.html#:stag">:stag</A> not handled. (Coverity CID 99204)
Solution:   If the split fails skip to the end. (bstaletic, closes #1577)
Files:      src/tag.c

Patch 8.0.0506 (after 8.0.0504)
Problem:    Can't build with ANSI C.
Solution:   Move declarations to start of block.
Files:      src/ex_docmd.c

Patch 8.0.0507
Problem:    Client-server tests fail when $DISPLAY is not set.
Solution:   Check for <A HREF="remote.html#E240">E240</A> before running the test.
Files:      src/testdir/test_quotestar.vim, src/testdir/test_clientserver.vim

Patch 8.0.0508
Problem:    Coveralls no longer shows per-file coverage.
Solution:   Add coverage from codecov.io. (Christian Brabandt)
Files:      .travis.yml

Patch 8.0.0509
Problem:    No link to codecov.io results.
Solution:   Add a badge to the readme file.
Files:      README.md

Patch 8.0.0510 (after 8.0.0509)
Problem:    Typo in link to codecov.io results.
Solution:   Remove duplicate https:.
Files:      README.md

Patch 8.0.0511
Problem:    Message for skipping <A HREF="remote.html#client-server">client-server</A> tests is unclear.
Solution:   Be more specific about what's missing (Hirohito Higashi, Kazunobu
            Kuriyama)
Files:      src/testdir/test_quotestar.vim, src/testdir/test_clientserver.vim

Patch 8.0.0512
Problem:    Check for available characters takes too long.
Solution:   Only check did_start_blocking if wtime is negative. (Daisuke
            Suzuki, closes #1591)
Files:      src/os_unix.c

Patch 8.0.0513 (after 8.0.0201)
Problem:    Getting name of cleared highlight group is wrong. (Matt Wozniski)
Solution:   Only skip over cleared names for completion. (closes #1592)
            Also fix that a cleared group causes duplicate completions.
Files:      src/syntax.c, src/proto/syntax.pro, src/evalfunc.c,
            src/ex_cmds.c, src/testdir/test_syntax.vim,
            src/testdir/test_cmdline.vim

Patch 8.0.0514
Problem:    Script for creating cmdidxs can be improved.
Solution:   Count skipped lines instead of collecting the lines.  Add &quot;const&quot;.
            (Dominique Pelle, closes #1594)
Files:      src/create_cmdidxs.pl, src/ex_docmd.c

Patch 8.0.0515
Problem:    ml_get <A HREF="message.html#errors">errors</A> in silent <A HREF="intro.html#Ex">Ex</A> mode. (Dominique Pelle)
Solution:   Clear valid flags when setting the cursor.  Set the topline when
            not in full screen mode.
Files:      src/ex_docmd.c, src/move.c, src/testdir/test_startup.vim

Patch 8.0.0516
Problem:    A large <A HREF="intro.html#count">count</A> on a normal command causes trouble. (Dominique
            Pelle)
Solution:   Make &quot;opcount&quot; long.
Files:      src/globals.h, src/testdir/test_normal.vim

Patch 8.0.0517
Problem:    There is no way to remove <A HREF="quickfix.html#quickfix">quickfix</A> lists (for <A HREF="eval.html#testing">testing</A>).
Solution:   Add the '<A HREF="motion.html#f">f</A>' action to <A HREF="eval.html#setqflist()">setqflist()</A>. Add tests. (Yegappan
            Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0518
Problem:    Storing a zero byte from a <A HREF="mbyte.html#multi-byte">multi-byte</A> character causes fold text
            to show up wrong.
Solution:   Avoid putting zero in ScreenLines. (Christian Brabandt,
            closes #1567)
Files:      src/screen.c, src/testdir/test_display.vim

Patch 8.0.0519
Problem:    Character classes are not well tested. They can differ between
            platforms.
Solution:   Add tests.  In the documentation make clear which classes depend
            on what library function.  Only use :cntrl: and :graph: for ASCII.
            (Kazunobu Kuriyama, Dominique Pelle, closes #1560)
            Update the documentation.
Files:      src/regexp.c, src/regexp_nfa.c, runtime/doc/pattern.txt,
            src/testdir/test_regexp_utf8.vim

Patch 8.0.0520
Problem:    Using a function pointer instead of the actual function, which we
            know.
Solution:   Change mb_ <A HREF="eval.html#functions">functions</A> to utf_ <A HREF="eval.html#functions">functions</A> when already checked for
            <A HREF="mbyte.html#Unicode">Unicode</A>. (Dominique Pelle, closes #1582)
Files:      src/message.c, src/misc2.c, src/regexp.c, src/regexp_nfa.c,
            src/screen.c, src/spell.c

Patch 8.0.0521
Problem:    GtkForm handling is outdated.
Solution:   Get rid of event <A HREF="change.html#filter">filter</A> <A HREF="eval.html#functions">functions</A>.  Get rid of GtkForm.width and
            .height.  Eliminate gtk_widget_size_request() calls. (Kazunobu
            Kuriyama)
Files:      src/gui_gtk_f.c, src/gui_gtk_f.h

Patch 8.0.0522
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: when <A HREF="options.html#'clipboard'">'clipboard'</A> is &quot;unnamed&quot; yyp does not work in a
            <A HREF="repeat.html#:global">:global</A> command.
Solution:   When setting the <A HREF="gui.html#clipboard">clipboard</A> was postponed, <A HREF="diff.html#do">do</A> not clear the
            <A HREF="sponsor.html#register">register</A>.
Files:      src/ops.c, src/proto/ui.pro, src/ui.c, src/globals.h,
            src/testdir/test_global.vim, src/Makefile,
            src/testdir/test_alot.vim

Patch 8.0.0523
Problem:    dv} deletes part of a <A HREF="mbyte.html#multi-byte">multi-byte</A> character. (Urtica Dioica)
Solution:   Include the whole character.
Files:      src/search.c, src/testdir/test_normal.vim

Patch 8.0.0524 (after 8.0.0518)
Problem:    Folds are messed up when <A HREF="options.html#'encoding'">'encoding'</A> is &quot;<A HREF="mbyte.html#utf-8">utf-8</A>&quot;.
Solution:   Also set the fold character when it's not <A HREF="mbyte.html#multi-byte">multi-byte</A>.
Files:      src/screen.c, src/testdir/test_display.vim

Patch 8.0.0525
Solution:   Completion for user command argument not tested.
Problem:    Add a test.
Files:      src/testdir/test_cmdline.vim

Patch 8.0.0526
Problem:    Coverity complains about possible negative value.
Solution:   Check return value of ftell() not to be negative.
Files:      src/os_unix.c

Patch 8.0.0527
Problem:    RISC OS support was removed long ago, but one file is still
            included.
Solution:   Delete the file. (Thomas Dziedzic, closes #1603)
Files:      Filelist, src/swis.s

Patch 8.0.0528
Problem:    When <A HREF="options.html#'wildmenu'">'wildmenu'</A> is set and <A HREF="options.html#'wildmode'">'wildmode'</A> has &quot;longest&quot; then the first
            file name is highlighted, even though the text shows the longest
            match.
Solution:   Do not highlight the first match. (LemonBoy, closes #1602)
Files:      src/ex_getln.c

Patch 8.0.0529
Problem:    Line in test commented out.
Solution:   Uncomment the lines for character classes that were failing before
            8.0.0519. (Dominique Pelle, closes #1599)
Files:      src/testdir/test_regexp_utf8.vim

Patch 8.0.0530
Problem:    Buffer overflow when <A HREF="options.html#'columns'">'columns'</A> is very big. (Nikolai Pavlov)
Solution:   Correctly compute where to truncate.  Fix translation.
            (closes #1600)
Files:      src/edit.c, src/testdir/test_edit.vim

Patch 8.0.0531 (after 8.0.0530)
Problem:    Test with long directory name fails on non-unix systems.
Solution:   Skip the test on non-unix systems.
Files:      src/testdir/test_edit.vim

Patch 8.0.0532 (after 8.0.0531)
Problem:    Test with long directory name fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Skip the test on <A HREF="os_mac.html#Mac">Mac</A> systems.
Files:      src/testdir/test_edit.vim

Patch 8.0.0533
Problem:    Abbreviation doesn't work after backspacing newline. (Hkonrk)
Solution:   Set the insert start column. (closes #1609)
Files:      src/testdir/test_mapping.vim, src/edit.c

Patch 8.0.0534
Problem:    Defaults.vim does not work well with tiny features. (crd477)
Solution:   When the <A HREF="various.html#+eval">+eval</A> feature is not available always reset <A HREF="options.html#'compatible'">'compatible'</A>.
Files:      runtime/defaults.vim

Patch 8.0.0535
Problem:    Memory leak when <A HREF="starting.html#exiting">exiting</A> from within a user function.
Solution:   Clear the function call stack on exit.
Files:      src/userfunc.c

Patch 8.0.0536
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> <A HREF="windows.html#window">window</A> not updated when freeing <A HREF="quickfix.html#quickfix">quickfix</A> stack.
Solution:   Update the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0537
Problem:    Illegal memory access with <A HREF="various.html#:z">:z</A> and large <A HREF="intro.html#count">count</A>.
Solution:   Check for number overflow, using long instead of int. (Dominique
            Pelle, closes #1612)
Files:      src/Makefile, src/ex_cmds.c, src/testdir/test_alot.vim,
            src/testdir/test_ex_z.vim

Patch 8.0.0538
Problem:    No test for falling back to default term value.
Solution:   Add a test.
Files:      src/testdir/test_startup.vim

Patch 8.0.0539 (after 8.0.0538)
Problem:    Startup test fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Use another term name, &quot;unknown&quot; is known. Avoid a 2 second delay.
Files:      src/testdir/test_startup.vim, src/main.c, src/proto/main.pro,
            src/term.c

Patch 8.0.0540 (after 8.0.0540)
Problem:    Building unit tests fails.
Solution:   Move params outside of #ifdef.
Files:      src/main.c, src/message_test.c

Patch 8.0.0541
Problem:    Compiler warning on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add a type cast. (Mike Williams)
Files:      src/edit.c

Patch 8.0.0542
Problem:    <A HREF="eval.html#getpos()">getpos()</A> can return a negative line number. (haya14busa)
Solution:   Handle a zero topline and botline. (closes #1613)
Files:      src/eval.c, runtime/doc/eval.txt

Patch 8.0.0543
Problem:    Test_edit causes older xfce4-terminal to close. (Dominique Pelle)
Solution:   Reduce number of columns to 2000.  Try to restore the <A HREF="windows.html#window">window</A>
            position.
Files:      src/testdir/test_edit.vim, src/evalfunc.c, src/term.c,
            src/proto/term.pro, src/term.h

Patch 8.0.0544
Problem:    Cppcheck warnings.
Solution:   Use temp variable. Change NUL to NULL. Swap conditions. (Dominique
            Pelle)
Files:      src/channel.c, src/edit.c, src/farsi.c

Patch 8.0.0545
Problem:    Edit test may fail on some systems.
Solution:   If creating a directory with a very long path fails, bail out.
Files:      src/testdir/test_edit.vim

Patch 8.0.0546
Problem:    Swap file exists briefly when opening the command <A HREF="windows.html#window">window</A>.
Solution:   Set the noswapfile command modifier before splitting the <A HREF="windows.html#window">window</A>.
            (James McCoy, closes #1620)
Files:      src/ex_getln.c, src/option.c

Patch 8.0.0547
Problem:    Extra line break in verbosefile when using &quot;<A HREF="eval.html#:echomsg">:echomsg</A>&quot;. (Ingo
            Karkat)
Solution:   Don't call msg_start(). (closes #1618)
Files:      src/eval.c, src/testdir/test_cmdline.vim

Patch 8.0.0548
Problem:    Saving the <A HREF="undo.html#redo">redo</A> buffer only works one time, resulting in the &quot;<A HREF="repeat.html#.">.</A>&quot;
            command not working well for a function call inside another
            function call. (Ingo Karkat)
Solution:   Save the <A HREF="undo.html#redo">redo</A> buffer at every user function call. (closes #1619)
Files:      src/getchar.c, src/proto/getchar.pro, src/structs.h,
            src/fileio.c, src/userfunc.c, src/testdir/test_functions.vim

Patch 8.0.0549
Problem:    No test for the <A HREF="various.html#8g8">8g8</A> command.
Solution:   Add a test. (Dominique Pelle, closes #1615)
Files:      src/testdir/test_normal.vim

Patch 8.0.0550
Problem:    Some etags format <A HREF="tagsrch.html#tags">tags</A> file use 0x01, breaking the parsing.
Solution:   Use 0x02 for TAG_SEP. (James McCoy, closes #1614)
Files:      src/tag.c, src/testdir/test_taglist.vim

Patch 8.0.0551
Problem:    The typeahead buffer is reallocated too often.
Solution:   Re-use the existing buffer if possible.
Files:      src/getchar.c

Patch 8.0.0552
Problem:    Toupper and tolower don't work properly for Turkish when <A HREF="options.html#'casemap'">'casemap'</A>
            is empty. (Bjorn Linse)
Solution:   Check the <A HREF="options.html#'casemap'">'casemap'</A> <A HREF="options.html#options">options</A> when deciding how to upper/lower <A HREF="change.html#case">case</A>.
Files:      src/charset.c, src/testdir/test_normal.vim

Patch 8.0.0553 (after 8.0.0552)
Problem:    Toupper/tolower test with Turkish <A HREF="mbyte.html#locale">locale</A> fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Skip the test on <A HREF="os_mac.html#Mac">Mac</A>.
Files:      src/testdir/test_normal.vim

Patch 8.0.0554 (after 8.0.0552)
Problem:    Toupper and tolower don't work properly for Turkish when <A HREF="options.html#'casemap'">'casemap'</A>
            contains &quot;keepascii&quot;. (Bjorn Linse)
Solution:   When <A HREF="options.html#'casemap'">'casemap'</A> contains &quot;keepascii&quot; use ASCII toupper/tolower.
Files:      src/charset.c, src/testdir/test_normal.vim

Patch 8.0.0555 (after 8.0.0552)
Problem:    Toupper/tolower test fails on OSX without Darwin.
Solution:   Skip that part of the test also for OSX. (Kazunobu Kuriyama)
Files:      src/testdir/test_normal.vim

Patch 8.0.0556
Problem:    Getting the <A HREF="windows.html#window">window</A> position fails if both the <A HREF="gui.html#GUI">GUI</A> and term
            code is built in.
Solution:   Return after getting the <A HREF="gui.html#GUI">GUI</A> <A HREF="windows.html#window">window</A> position. (Kazunobu Kuriyama)
Files:      src/evalfunc.c

Patch 8.0.0557
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: using static gravities is not useful.
Solution:   Remove setting static gravities. (Kazunobu Kuriyama)
Files:      src/gui_gtk_f.c

Patch 8.0.0558
Problem:    The <A HREF="syntax.html#:ownsyntax">:ownsyntax</A> command is not tested.
Solution:   Add a test. (Dominique Pelle, closes #1622)
Files:      src/testdir/test_syntax.vim

Patch 8.0.0559
Problem:    Setting <A HREF="options.html#'ttytype'">'ttytype'</A> to xxx does not always fail <A HREF="motion.html#as">as</A> expected. (Marvin
            Schmidt)
Solution:   Catch both possible <A HREF="message.html#errors">errors</A>. (closes #1601)
Files:      src/testdir/test_options.vim

Patch 8.0.0560
Problem:    <A HREF="windows.html#:windo">:windo</A> allows for ! but it's not supported.
Solution:   Disallow passing !. (Hirohito Higashi)
Files:      src/ex_cmds.h

Patch 8.0.0561
Problem:    Undefined behavior when using <A HREF="intro.html#backslash">backslash</A> after empty line.
Solution:   Check for an empty line. (Dominique Pelle, closes #1631)
Files:      src/misc2.c, src/testdir/test_vimscript.vim

Patch 8.0.0562
Problem:    Not enough test coverage for <A HREF="syntax.html#syntax">syntax</A> commands.
Solution:   Add a few more tests. (Dominique Pelle, closes #1624)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_syntax.vim

Patch 8.0.0563
Problem:    Crash when getting the <A HREF="windows.html#window">window</A> position in tmux. (Marvin Schmidt)
Solution:   Add <A HREF="term.html#t_GP">t_GP</A> to the <A HREF="eval.html#list">list</A> of <A HREF="terminal.html#terminal">terminal</A> <A HREF="options.html#options">options</A>. (closes #1627)
Files:      src/option.c

Patch 8.0.0564
Problem:    Cannot detect Bazel BUILD files on some systems.
Solution:   Check for BUILD after <A HREF="usr_41.html#script">script</A> checks. (Issue #1340)
Files:      runtime/filetype.vim

Patch 8.0.0565
Problem:    Using freed memory in :caddbuf after clearing <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
            (Dominique Pelle)
Solution:   Set qf_last to NULL.
Files:      src/quickfix.c

Patch 8.0.0566
Problem:    Setting <A HREF="options.html#'nocompatible'">'nocompatible'</A> for the tiny version moves the cursor.
Solution:   Use another trick to skip commands when the <A HREF="various.html#+eval">+eval</A> feature is
            present. (Christian Brabandt, closes #1630)
Files:      runtime/defaults.vim

Patch 8.0.0567
Problem:    Call for requesting color and ambiwidth is too early. (Hirohito
            Higashi)
Solution:   Move the call down to below resetting &quot;starting&quot;.
Files:      src/main.c

Patch 8.0.0568
Problem:    &quot;<A HREF="pattern.html#1gd">1gd</A>&quot; may hang.
Solution:   Don't get stuck in one position. (Christian Brabandt, closes #1643)
Files:      src/testdir/test_goto.vim, src/normal.c

Patch 8.0.0569
Problem:    Bracketed paste is still enabled when executing a shell command.
            (Michael Smith)
Solution:   Disable bracketed paste when going into cooked mode. (closes #1638)
Files:      src/term.c

Patch 8.0.0570
Problem:    Can't run make with several jobs, creating directories has a race
            condition.
Solution:   Use the MKDIR_P autoconf mechanism. (Eric N. Vander Weele,
            closes #1639)
Files:      src/configure.ac, src/auto/configure, src/Makefile,
            src/config.mk.in, src/install-sh, src/mkinstalldirs, Filelist

Patch 8.0.0571
Problem:    The cursor line number becomes negative when using :z^ in an empty
            buffer. (neovim #6557)
Solution:   Correct the line number.  Also reset the column.
Files:      src/testdir/test_ex_z.vim, src/ex_cmds.c

Patch 8.0.0572
Problem:    Building the command table requires <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Use a Vim <A HREF="usr_41.html#script">script</A> solution. (Dominique Pelle, closes #1641)
Files:      src/Makefile, src/create_cmdidxs.pl, src/create_cmdidxs.vim,
            src/ex_cmdidxs.h, src/ex_docmd.c, Filelist

Patch 8.0.0573
Problem:    Running parallel make after distclean fails. (Manuel Ortega)
Solution:   Instead of using targets &quot;scratch config myself&quot; use &quot;reconfig&quot;.
Files:      src/Makefile, src/config.mk.dist

Patch 8.0.0574
Problem:    Get only one <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> after :caddbuf.
Solution:   Reset qf_multiline. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0575
Problem:    Using freed memory when resetting <A HREF="options.html#'indentexpr'">'indentexpr'</A> while evaluating
            <A HREF="motion.html#it">it</A>. (Dominique Pelle)
Solution:   Make a copy of <A HREF="options.html#'indentexpr'">'indentexpr'</A>.
Files:      src/misc1.c, src/testdir/test_options.vim

Patch 8.0.0576 (after 8.0.0570 and 8.0.0573)
Problem:    Can't build when configure chooses &quot;install-sh&quot;. (Daniel Hahler)
Solution:   Always use install-sh.  Fix remaining use of mkinstalldirs.
            (closes #1647)
Files:      src/installman.sh, src/installml.sh, src/config.mk.in,
            src/configure.ac, src/auto/configure, src/Makefile

Patch 8.0.0577 (after 8.0.0575)
Problem:    Warning for uninitialized variable. (John Marriott)
Solution:   Initialize &quot;indent&quot;.
Files:      src/misc1.c

Patch 8.0.0578
Problem:    <A HREF="gui_w32.html#:simalt">:simalt</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> does not work properly.
Solution:   Put something in the typeahead buffer. (Christian Brabandt)
Files:      src/gui_w32.c

Patch 8.0.0579
Problem:    Duplicate test <A HREF="change.html#case">case</A> for <A HREF="quickfix.html#quickfix">quickfix</A>.
Solution:   Remove the function. (Yegappan Lakshmanan)
Files:      src/testdir/test_quickfix.vim

Patch 8.0.0580
Problem:    Cannot set the valid flag with <A HREF="eval.html#setqflist()">setqflist()</A>.
Solution:   Add the &quot;valid&quot; argument. (Yegappan Lakshmanan, closes #1642)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0581
Problem:    Moving folded text is sometimes not correct.
Solution:   Bail out when &quot;move_end&quot; is zero. (Matthew Malcomson)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.0.0582
Problem:    Illegal memory access with <A HREF="spell.html#z=">z=</A> command. (Dominique Pelle)
Solution:   Avoid <A HREF="change.html#case">case</A> folded text to be longer than the original text.  Use
            MB_PTR2LEN() instead of MB_BYTE2LEN().
Files:      src/spell.c, src/testdir/test_spell.vim

Patch 8.0.0583
Problem:    Fold test hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Avoid overflow in compare.
Files:      src/fold.c

Patch 8.0.0584
Problem:    Memory leak when executing <A HREF="quickfix.html#quickfix">quickfix</A> tests.
Solution:   Free the <A HREF="eval.html#list">list</A> reference. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.0585
Problem:    Test_options fails when run in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Also check the <A HREF="options.html#'imactivatekey'">'imactivatekey'</A> value when the <A HREF="gui.html#GUI">GUI</A> is not running.
            Specify test values that work and that fail.
Files:      src/option.c, src/testdir/gen_opt_test.vim

Patch 8.0.0586
Problem:    No test for <A HREF="map.html#mapping">mapping</A> timing out.
Solution:   Add a test.
Files:      src/testdir/test_mapping.vim

Patch 8.0.0587
Problem:    Configure check for return value of tgetent is skipped.
Solution:   Always perform the check. (Marvin Schmidt, closes #1664)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.0588
Problem:    <A HREF="eval.html#job_stop()">job_stop()</A> often assumes the <A HREF="channel.html#channel">channel</A> will be closed, while the <A HREF="channel.html#job">job</A>
            may not actually be stopped. (Martin Gammelster)
Solution:   Only assume the <A HREF="channel.html#job">job</A> stops on &quot;kill&quot;.  Don't send a signal if the
            <A HREF="channel.html#job">job</A> has already ended. (closes #1632)
Files:      src/channel.c

Patch 8.0.0589 (after 8.0.0578)
Problem:    <A HREF="gui_w32.html#:simalt">:simalt</A> still does not work.
Solution:   Use K_NOP instead of K_IGNORE. (Christian Brabandt)
Files:      src/gui_w32.c

Patch 8.0.0590
Problem:    Cannot add a context to locations.
Solution:   Add the &quot;context&quot; entry in location entries. (Yegappan Lakshmanan,
            closes #1012)
Files:      src/eval.c, src/proto/quickfix.pro, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0591
Problem:    Changes to <A HREF="eval.html#eval">eval</A> functionality not documented.
Solution:   Include all the changes.
Files:      runtime/doc/eval.txt

Patch 8.0.0592
Problem:    If a <A HREF="channel.html#job">job</A> writes to a buffer and the user is typing a command, the
            screen isn't updated. When a message is displayed the changed
            buffer may cause <A HREF="motion.html#it">it</A> to be cleared. (Ramel Eshed)
Solution:   Update the screen and then the command line if the screen didn't
            scroll. Avoid <A HREF="insert.html#inserting">inserting</A> screen lines, <A HREF="motion.html#as">as</A> <A HREF="motion.html#it">it</A> clears any message.
            Update the status line when the buffer changed.
Files:      src/channel.c, src/screen.c, src/ex_getln.c, src/globals.h,
            src/vim.h, src/proto/ex_getln.pro, src/proto/screen.pro

Patch 8.0.0593
Problem:    Duplication of code for adding a <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> return value.
Solution:   Add rettv_dict_set() and rettv_list_set(). (Yegappan Lakshmanan)
Files:      src/dict.c, src/eval.c, src/evalfunc.c, src/if_perl.xs, src/list.c,
            src/proto/dict.pro, src/proto/list.pro

Patch 8.0.0594 (after 8.0.0592)
Problem:    Build failure when <A HREF="windows.html#windows">windows</A> feature is missing.
Solution:   Add #ifdef.
Files:      src/screen.c

Patch 8.0.0595 (after 8.0.0590)
Problem:    Coverity warning for not checking return value of dict_add().
Solution:   Check the return value for FAIL.
Files:      src/quickfix.c

Patch 8.0.0596
Problem:    Crash when <A HREF="eval.html#complete()">complete()</A> is called after <A HREF="eval.html#complete_add()">complete_add()</A> in
            <A HREF="options.html#'completefunc'">'completefunc'</A>. (Lifepillar)
Solution:   Bail out if compl_pattern is NULL. (closes #1668)
            Also avoid using freed memory.
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0597
Problem:    Off-by-one error in buffer size computation.
Solution:   Use &quot;&gt;=&quot; instead of &quot;<A HREF="change.html#&gt;">&gt;</A>&quot;. (LemonBoy, closes #1694)
Files:      src/quickfix.c

Patch 8.0.0598
Problem:    Building with gcc 7.1 yields new warnings.
Solution:   Initialize result. (John Marriott)
Files:      src/ex_docmd.c

Patch 8.0.0599
Problem:    <A HREF="diff.html#diff">diff</A> mode is insufficiently tested
Solution:   Add more test cases. (Dominique Pelle, closes #1685)
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 8.0.0600
Problem:    test_recover fails on some systems.
Solution:   Explicitly check if &quot;<A HREF="pattern.html#/">/</A>&quot; is writable. (Ken Takata)
Files:      src/testdir/test_recover.vim

Patch 8.0.0601
Problem:    No test coverage for <A HREF="spell.html#:spellrepall">:spellrepall</A>.
Solution:   Add a test. (Dominique Pelle, closes #1717)
Files:      src/testdir/test_spell.vim

Patch 8.0.0602
Problem:    When <A HREF="editing.html#gF">gF</A> fails to edit the file the cursor still moves to the found
            line number.
Solution:   Check the return value of do_ecmd(). (Michael Hwang)
Files:      src/normal.c, src/testdir/test_gf.vim

Patch 8.0.0603 (after 8.0.0602)
Problem:    <A HREF="editing.html#gF">gF</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use @ instead of : before the line number
Files:      src/testdir/test_gf.vim

Patch 8.0.0604 (after 8.0.0603)
Problem:    <A HREF="editing.html#gF">gF</A> test still fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use : before the line number and remove <A HREF="motion.html#it">it</A> from <A HREF="options.html#'isfname'">'isfname'</A>.
Files:      src/testdir/test_gf.vim

Patch 8.0.0605
Problem:    The buffer that <A HREF="quickfix.html#quickfix">quickfix</A> caches for performance may become
            invalid. (Daniel Hahler)
Solution:   Reset qf_last_bufref in qf_init_ext(). (Daniel Hahler,
            closes #1728, closes #1676)
Files:      src/quickfix.c

Patch 8.0.0606
Problem:    Cannot set the context for a specified <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Use the <A HREF="eval.html#list">list</A> index instead of the current <A HREF="eval.html#list">list</A>. (Yegappan
            Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.0607
Problem:    When creating a bufref, then using <A HREF="windows.html#:bwipe">:bwipe</A> and <A HREF="windows.html#:new">:new</A> <A HREF="motion.html#it">it</A> might get
            the same memory and bufref_valid() returns true.
Solution:   Add br_fnum to check the buffer number didn't change.
Files:      src/structs.h, src/buffer.c, src/globals.h, src/if_py_both.h,
            src/quickfix.c

Patch 8.0.0608
Problem:    Cannot manipulate other than the current <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Pass the <A HREF="eval.html#list">list</A> index to <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.0609
Problem:    For some people the hint about quitting is not sufficient.
Solution:   Put <A HREF="intro.html#&lt;Enter&gt;">&lt;Enter&gt;</A> separately.  Also use &quot;:qa!&quot; to get out even when
            there are changes.
Files:      src/normal.c

Patch 8.0.0610
Problem:    The screen is redrawn when t_BG is set and used to detect the
            value for <A HREF="options.html#'background'">'background'</A>.
Solution:   Don't redraw when the value of <A HREF="options.html#'background'">'background'</A> didn't change.
Files:      src/term.c.

Patch 8.0.0611
Problem:    When <A HREF="term.html#t_u7">t_u7</A> is sent a few characters in the second screen line are
            overwritten and not redrawn later. (Rastislav Barlik)
Solution:   Move redrawing the screen to after overwriting the characters.
Files:      src/main.c, src/term.c.

Patch 8.0.0612
Problem:    Package directories are added to <A HREF="options.html#'runtimepath'">'runtimepath'</A> only after loading
            non-package plugins.
Solution:   Split off the code to add package directories to <A HREF="options.html#'runtimepath'">'runtimepath'</A>.
            (Ingo Karkat, closes #1680)
Files:      src/ex_cmds2.c, src/globals.h, src/main.c, src/proto/ex_cmds2.pro,
            src/testdir/test_startup.vim

Patch 8.0.0613
Problem:    The conf <A HREF="filetype.html#filetype">filetype</A> detection is done before <A HREF="filetype.html#ftdetect">ftdetect</A> scripts from
            <A HREF="repeat.html#packages">packages</A> that are added later.
Solution:   Add the FALLBACK argument to <A HREF="options.html#:setfiletype">:setfiletype</A>. (closes #1679,
            closes #1693)
Files:      src/ex_docmd.c, runtime/filetype.vim, src/Makefile,
            src/testdir/test_filetype.vim, src/testdir/test_alot.vim

Patch 8.0.0614
Problem:    <A HREF="eval.html#float2nr()">float2nr()</A> is not exactly right.
Solution:   Make <A HREF="eval.html#float2nr()">float2nr()</A> more accurate.  Turn test65 into a new style test.
            (Hirohito Higashi, closes #1688)
Files:      src/Makefile, src/evalfunc.c, src/testdir/Make_all.mak,
            src/testdir/Make_vms.mms, src/testdir/test65.in,
            src/testdir/test65.ok, src/testdir/test_float_func.vim,
            src/testdir/test_vimscript.vim, src/macros.h

Patch 8.0.0615
Problem:    Using <A HREF="motion.html#&#37;">&#37;</A> with <A HREF="print.html#:hardcopy">:hardcopy</A> wrongly escapes spaces. (Alexey Muranov)
Solution:   Expand <A HREF="motion.html#&#37;">&#37;</A> differently. (Christian Brabandt, closes #1682)
Files:      src/ex_docmd.c, src/testdir/test_hardcopy.vim


Patch 8.0.0616
Problem:    When setting the cterm background with &quot;<A HREF="syntax.html#:hi">:hi</A> Normal&quot; the value of
            <A HREF="options.html#'background'">'background'</A> may be set wrongly.
Solution:   Check that the color is <A HREF="various.html#less">less</A> than 16.  Don't set <A HREF="options.html#'background'">'background'</A> when
            <A HREF="motion.html#it">it</A> was set explicitly. (LemonBoy, closes #1710)
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.0.0617 (after 8.0.0615)
Problem:    Hardcopy test hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Check the postscript feature is supported.
Files:      src/testdir/test_hardcopy.vim

Patch 8.0.0618
Problem:    <A HREF="pattern.html#NFA">NFA</A> regex engine handles [0-z] incorrectly.
Solution:   Return at the right point. (James McCoy, closes #1703)
Files:      src/regexp_nfa.c, src/testdir/test36.in, src/testdir/test36.ok

Patch 8.0.0619
Problem:    In the <A HREF="gui.html#GUI">GUI</A>, when a <A HREF="eval.html#timer">timer</A> uses <A HREF="eval.html#feedkeys()">feedkeys()</A>, <A HREF="motion.html#it">it</A> still waits for an
            event. (Raymond Ko)
Solution:   Check tb_change_cnt in one more place.
Files:      src/gui.c

Patch 8.0.0620
Problem:    Since we only support <A HREF="gui_x11.html#GTK">GTK</A> versions that have <A HREF="motion.html#it">it</A>, the check for
            HAVE_GTK_MULTIHEAD is no longer needed.
Solution:   Remove HAVE_GTK_MULTIHEAD. (Kazunobu Kuriyama)
Files:      src/config.h.in, src/configure.ac, src/auto/configure,
            src/gui_beval.c, src/gui_gtk_x11.c, src/mbyte.c

Patch 8.0.0621
Problem:    The &quot;<A HREF="windows.html#:stag">:stag</A>&quot; command does not respect <A HREF="options.html#'switchbuf'">'switchbuf'</A>.
Solution:   Check <A HREF="options.html#'switchbuf'">'switchbuf'</A> for <A HREF="tagsrch.html#tag">tag</A> commands that may open a new <A HREF="windows.html#window">window</A>.
            (Ingo Karkat, closes #1681)  Define macros for the return values
            of getfile().
Files:      src/tag.c, src/testdir/test_tagjump.vim, src/vim.h, src/buffer.c,
            src/ex_cmds.c, src/search.c,

Patch 8.0.0622
Problem:    Using a text object to select quoted text fails when <A HREF="options.html#'selection'">'selection'</A>
            is set to &quot;<A HREF="motion.html#exclusive">exclusive</A>&quot;. (Guraga)
Solution:   Swap cursor and visual start position. (Christian Brabandt,
            closes #1687)
Files:      src/search.c, src/testdir/test_textobjects.vim

Patch 8.0.0623
Problem:    The message &quot;Invalid range&quot; is used for multiple <A HREF="message.html#errors">errors</A>.
Solution:   Add two more specific error <A HREF="message.html#messages">messages</A>. (Itchyny, Ken Hamada)
Files:      src/regexp.c, src/regexp_nfa.c, src/testdir/test_regexp_utf8.vim

Patch 8.0.0624 (after 8.0.0623)
Problem:    Warning for unused variable in tiny build. (Tony Mechelynck)
Solution:   Add an #ifdef.
Files:      src/regexp.c

Patch 8.0.0625
Problem:    <A HREF="eval.html#shellescape()">shellescape()</A> always escapes a newline, which does not work with
            some shells. (Harm te Hennepe)
Solution:   Only <A HREF="intro.html#escape">escape</A> a newline when the &quot;special&quot; argument is non-zero.
            (Christian Brabandt, closes #1590)
Files:      src/evalfunc.c, src/testdir/test_functions.vim

Patch 8.0.0626
Problem:    In the <A HREF="gui.html#GUI">GUI</A> the cursor may flicker.
Solution:   Check the cmd_silent flag before updating the cursor shape.
            (Hirohito Higashi, closes #1637)
Files:      src/getchar.c

Patch 8.0.0627
Problem:    When <A HREF="options.html#'wrapscan'">'wrapscan'</A> is off &quot;<A HREF="visual.html#gn">gn</A>&quot; does not select the whole <A HREF="pattern.html#pattern">pattern</A> when
            it's the last one in the text. (KeyboardFire)
Solution:   Check if the search fails. (Christian Brabandt, closes #1683)
Files:      src/search.c, src/testdir/test_gn.vim

Patch 8.0.0628 (after 8.0.0626
Problem:    Cursor disappears after silent <A HREF="map.html#mapping">mapping</A>. (Ramel Eshed)
Solution:   Do restore the cursor when <A HREF="motion.html#it">it</A> was changed, but don't change <A HREF="motion.html#it">it</A> in
            the first place for a silent <A HREF="map.html#mapping">mapping</A>.
Files:      src/getchar.c


Patch 8.0.0629 (after 8.0.0611)
Problem:    Checking for ambiguous width is not working. (Hirohito Higashi)
Solution:   Reset &quot;starting&quot; earlier.
Files:      src/main.c

Patch 8.0.0630
Problem:    The <A HREF="repeat.html#:global">:global</A> command does not work recursively, which makes <A HREF="motion.html#it">it</A>
            difficult to execute a command on a line where one <A HREF="pattern.html#pattern">pattern</A> matches
            and another does not match. (Miles Cranmer)
Solution:   Allow for recursion if <A HREF="motion.html#it">it</A> is for only one line. (closes #1760)
Files:      src/ex_cmds.c, src/testdir/test_global.vim, runtime/doc/repeat.txt

Patch 8.0.0631
Problem:    <A HREF="if_perl.html#Perl">Perl</A> 5.26 also needs S_TOPMARK and S_POPMARK defined.
Solution:   Define the <A HREF="eval.html#functions">functions</A> when needed. (Jesin, closes #1748)
Files:      src/if_perl.xs

Patch 8.0.0632
Problem:    The <A HREF="gui.html#quotestar">quotestar</A> test is still a bit flaky.
Solution:   Kill any existing server to make the retry work.  Wait for the
            <A HREF="sponsor.html#register">register</A> to be filled.
Files:      src/testdir/test_quotestar.vim

Patch 8.0.0633
Problem:    The <A HREF="remote.html#client-server">client-server</A> test is still a bit flaky.
Solution:   Wait a bit for the <A HREF="gui.html#GUI">GUI</A> to start.  Check that the version number
            can be obtained.
Files:      src/testdir/test_clientserver.vim

Patch 8.0.0634
Problem:    Cannot easily get to the last <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Add &quot;<A HREF="motion.html#$">$</A>&quot; <A HREF="motion.html#as">as</A> a value for the &quot;nr&quot; argument of <A HREF="eval.html#getqflist()">getqflist()</A> and
            <A HREF="eval.html#setqflist()">setqflist()</A>. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0635
Problem:    When <A HREF="options.html#'ignorecase'">'ignorecase'</A> is set <A HREF="usr_41.html#script">script</A> detection is inaccurate.
Solution:   Enforce matching <A HREF="change.html#case">case</A> for text. (closes #1753)
Files:      runtime/scripts.vim

Patch 8.0.0636
Problem:    When reading the <A HREF="undo.html#undo">undo</A> file fails may use uninitialized data.
Solution:   Always clear the buffer on failure.
Files:      src/undo.c

Patch 8.0.0637
Problem:    Crash when using some version of <A HREF="gui_x11.html#GTK">GTK</A> 3.
Solution:   Add #ifdefs around incrementing the menu index. (Kazunobu
            Kuriyama)
Files:      src/gui_gtk.c

Patch 8.0.0638
Problem:    Cannot build with new MSVC version VS2017.
Solution:   Change the compiler arguments. (Leonardo Valeri Manera,
	    closes #1731, closes #1747)
Files:      src/GvimExt/Makefile, src/Make_mvc.mak

Patch 8.0.0639
Problem:    The cursor position is set to the last position in a new commit
            message.
Solution:   Don't set the position if the <A HREF="filetype.html#filetype">filetype</A> matches &quot;commit&quot;.
            (Christian Brabandt)
Files:      runtime/defaults.vim

Patch 8.0.0640
Problem:    Mismatch between help and actual message for &quot;<A HREF="syntax.html#:syn">:syn</A> conceal&quot;.
Solution:   Change the message to match the help. (Ken Takata)
Files:      src/syntax.c

Patch 8.0.0641
Problem:    Cannot set a separate highlighting for the current line in the
            <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>.
Solution:   Add QuickFixLine. (anishsane, closes #1755)
Files:      src/option.c, src/quickfix.c, src/screen.c, src/syntax.c,
            src/vim.h, runtime/doc/options.txt, runtime/doc/quickfix.txt

Patch 8.0.0642
Problem:    <A HREF="eval.html#writefile()">writefile()</A> continues after detecting an error.
Solution:   Bail out <A HREF="motion.html#as">as</A> soon <A HREF="motion.html#as">as</A> an error is detected. (suggestions by Nikolai
            Pavlov, closes #1476)
Files:      src/evalfunc.c, src/testdir/test_writefile.vim

Patch 8.0.0643
Problem:    When <A HREF="options.html#'hlsearch'">'hlsearch'</A> is set and matching with the last search <A HREF="pattern.html#pattern">pattern</A>
            is very slow, Vim becomes unusable.  Cannot quit search by
            pressing <A HREF="pattern.html#CTRL-C">CTRL-C</A>.
Solution:   When the search times out set a flag and don't try again.  Check
            for timeout and <A HREF="pattern.html#CTRL-C">CTRL-C</A> in <A HREF="pattern.html#NFA">NFA</A> loop that adds states.
Files:      src/screen.c, src/ex_cmds.c, src/quickfix.c, src/regexp.c,
            src/proto/regexp.pro, src/regexp.h, src/search.c,
            src/proto/search.pro, src/syntax.c, src/regexp_nfa.c, src/spell.c,
            src/tag.c, src/gui.c, src/edit.c, src/evalfunc.c, src/ex_docmd.c,
            src/ex_getln.c, src/normal.c

Patch 8.0.0644
Problem:    There is no test for <A HREF="options.html#'hlsearch'">'hlsearch'</A> timing out.
Solution:   Add a test.
Files:      src/testdir/test_hlsearch.vim

Patch 8.0.0645
Problem:    The new <A HREF="pattern.html#regexp">regexp</A> engine does not give an error for using a back
            reference where <A HREF="motion.html#it">it</A> is not allowed. (Dominique Pelle)
Solution:   Check the back reference like the old engine. (closes #1774)
Files:      src/regexp.c, src/regexp_nfa.c, src/testdir/test_hlsearch.vim,
            src/testdir/test_statusline.vim,
            src/testdir/test_regexp_latin1.vim

Patch 8.0.0646
Problem:    The hlsearch test fails on fast systems.
Solution:   Make the search <A HREF="pattern.html#pattern">pattern</A> slower.  Fix that the old <A HREF="pattern.html#regexp">regexp</A> engine
            doesn't timeout properly.
Files:      src/regexp.c, src/testdir/test_hlsearch.vim

Patch 8.0.0647
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> highlighting can cause a freeze.
Solution:   Apply <A HREF="options.html#'redrawtime'">'redrawtime'</A> to <A HREF="syntax.html#syntax">syntax</A> highlighting, per <A HREF="windows.html#window">window</A>.
Files:      src/structs.h, src/screen.c, src/syntax.c, src/normal.c,
            src/regexp.c, src/proto/syntax.pro, src/testdir/test_syntax.vim,
            runtime/doc/options.txt

Patch 8.0.0648
Problem:    Possible use of NULL pointer if buflist_new() returns NULL.
            (Coverity)
Solution:   Check for NULL pointer in set_bufref().
Files:      src/buffer.c

Patch 8.0.0649
Problem:    When opening a help file the <A HREF="filetype.html#filetype">filetype</A> is set several times.
Solution:   When setting the <A HREF="filetype.html#filetype">filetype</A> to the same value from a <A HREF="options.html#modeline">modeline</A>, don't
            trigger <A HREF="autocmd.html#FileType">FileType</A> <A HREF="autocmd.html#autocommands">autocommands</A>.  Don't set the <A HREF="filetype.html#filetype">filetype</A> to &quot;help&quot;
            when it's already set correctly.
Files:      src/ex_cmds.c, src/option.c, runtime/filetype.vim

Patch 8.0.0650
Problem:    For extra help files the <A HREF="filetype.html#filetype">filetype</A> is set more than once.
Solution:   In *.txt files check that there is no help file modline.
Files:      runtime/filetype.vim

Patch 8.0.0651 (after 8.0.0649)
Problem:    Build failure without the auto command feature.
Solution:   Add #ifdef. (closes #1782)
Files:      src/ex_cmds.c

Patch 8.0.0652
Problem:    <A HREF="mbyte.html#Unicode">Unicode</A> information is outdated.
Solution:   Update to <A HREF="mbyte.html#Unicode">Unicode</A> 10. (Christian Brabandt)
Files:      runtime/tools/unicode.vim, src/mbyte.c

Patch 8.0.0653
Problem:    The default highlight for QuickFixLine does not work for several
            color schemes. (Manas Thakur)
Solution:   Make the default use the old color. (closes #1780)
Files:      src/syntax.c

Patch 8.0.0654
Problem:    Text found after <A HREF="eval.html#:endfunction">:endfunction</A> is silently ignored.
Solution:   Give a warning if <A HREF="options.html#'verbose'">'verbose'</A> is set.  When &#124; or \n are used,
            execute the text <A HREF="motion.html#as">as</A> a command.
Files:      src/testdir/test_vimscript.vim, src/userfunc.c,
            runtime/doc/eval.txt

Patch 8.0.0655
Problem:    Not <A HREF="starting.html#easy">easy</A> to make sure a function does not exist.
Solution:   Add ! <A HREF="motion.html#as">as</A> an optional argument to :delfunc.
Files:      src/userfunc.c, src/ex_cmds.h, src/testdir/test_vimscript.vim

Patch 8.0.0656
Problem:    Cannot use ! after some user commands.
Solution:   Properly check for existing command. (Hirohito Higashi)
Files:      src/ex_docmd.c, src/testdir/test_vimscript.vim

Patch 8.0.0657
Problem:    Cannot get and set <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> items.
Solution:   Add the &quot;items&quot; argument to <A HREF="eval.html#getqflist()">getqflist()</A> and <A HREF="eval.html#setqflist()">setqflist()</A>. (Yegappan
            Lakshmanan)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0658
Problem:    Spell test is old style.
Solution:   Turn the <A HREF="spell.html#spell">spell</A> test into a new style test (pschuh, closes #1778)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test58.in, src/testdir/test58.ok,
            src/testdir/test_spell.vim

Patch 8.0.0659
Problem:    No test for <A HREF="syntax.html#conceal">conceal</A> mode.
Solution:   Add a <A HREF="syntax.html#conceal">conceal</A> mode test. (Dominique Pelle, closes #1783)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_syntax.vim

Patch 8.0.0660
Problem:    Silent <A HREF="usr_90.html#install">install</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> does show a <A HREF="gui_w32.html#dialog">dialog</A>.
Solution:   Add /SD to the default choice. (allburov, closes #1772)
Files:      nsis/gvim.nsi

Patch 8.0.0661
Problem:    Recognizing urxvt mouse codes does not work well.
Solution:   Recognize &quot;Esc[*M&quot; and &quot;Esc[*m&quot;. (Maurice Bos, closes #1486)
Files:      src/keymap.h, src/misc2.c, src/os_unix.c, src/term.c

Patch 8.0.0662 (after 8.0.0659)
Problem:    Stray FIXME for fixed problem.
Solution:   Remove the comment. (Dominique Pelle)
Files:      src/testdir/test_syntax.vim

Patch 8.0.0663
Problem:    Giving an error message only when <A HREF="options.html#'verbose'">'verbose'</A> set is unexpected.
Solution:   Give a warning message instead.
Files:      src/message.c, src/proto/message.pro, src/userfunc.c,
            src/testdir/test_vimscript.vim, runtime/doc/eval.txt

Patch 8.0.0664 (after 8.0.0661)
Problem:    Mouse does not work in tmux. (lilydjwg)
Solution:   Add flag for SGR release being present.
Files:      src/term.c

Patch 8.0.0665 (after 8.0.0661)
Problem:    Warning for uninitialized variable. (Tony Mechelynck)
Solution:   Initialize <A HREF="motion.html#it">it</A>.
Files:      src/term.c

Patch 8.0.0666
Problem:    Dead for loop. (Coverity)
Solution:   Remove the for loop.
Files:      src/term.c

Patch 8.0.0667
Problem:    Memory access error when command follows <A HREF="eval.html#:endfunction">:endfunction</A>. (Nikolai
            Pavlov)
Solution:   Make memory handling in <A HREF="eval.html#:function">:function</A> straightforward. (closes #1793)
Files:      src/userfunc.c, src/testdir/test_vimscript.vim

Patch 8.0.0668 (after 8.0.0660)
Problem:    Nsis installer <A HREF="usr_41.html#script">script</A> does not work. (Christian Brabandt)
Solution:   Fix the <A HREF="syntax.html#syntax">syntax</A> of /SD.
Files:      nsis/gvim.nsi

Patch 8.0.0669
Problem:    In <A HREF="insert.html#Insert">Insert</A> mode, <A HREF="motion.html#CTRL-N">CTRL-N</A> at start of the buffer does not work
            correctly. (zuloloxi)
Solution:   Wrap around the start of the buffer. (Christian Brabandt)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.0670
Problem:    Can't use <A HREF="eval.html#input()">input()</A> in a <A HREF="eval.html#timer">timer</A> callback. (Cosmin Popescu)
Solution:   Reset vgetc_busy and set timer_busy. (Ozaki Kiichi, closes #1790,
            closes #1129)
Files:      src/evalfunc.c, src/ex_cmds2.c, src/globals.h,
            src/testdir/test_timers.vim

Patch 8.0.0671
Problem:    When a function invoked from a <A HREF="eval.html#timer">timer</A> calls <A HREF="eval.html#confirm()">confirm()</A> and the user
            types <A HREF="pattern.html#CTRL-C">CTRL-C</A> then Vim hangs.
Solution:   Reset typebuf_was_filled. (Ozaki Kiichi, closes #1791)
Files:      src/getchar.c

Patch 8.0.0672
Problem:    Third item of <A HREF="eval.html#synconcealed()">synconcealed()</A> changes too often. (Dominique Pelle)
Solution:   Reset the sequence number at the start of each line.
Files:      src/syntax.c, src/testdir/test_syntax.vim, runtime/doc/eval.txt

Patch 8.0.0673 (after 8.0.0673)
Problem:    Build failure without <A HREF="syntax.html#conceal">conceal</A> feature.
Solution:   Add #ifdef.
Files:      src/syntax.c

Patch 8.0.0674 (after 8.0.0670)
Problem:    Cannot build with <A HREF="eval.html#eval">eval</A> but without <A HREF="eval.html#timers">timers</A>.
Solution:   Add #ifdef (John Marriott)
Files:      src/evalfunc.c

Patch 8.0.0675
Problem:    <A HREF="options.html#'colorcolumn'">'colorcolumn'</A> has a higher priority than <A HREF="options.html#'hlsearch'">'hlsearch'</A>, <A HREF="motion.html#it">it</A> should be
            the other way around. (Nazri Ramliy)
Solution:   Change the priorities. (LemonBoy, closes #1794)
Files:      src/screen.c, src/testdir/test_listlbr_utf8.vim

Patch 8.0.0676
Problem:    Crash when closing the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> in a <A HREF="autocmd.html#FileType">FileType</A> <A HREF="autocmd.html#autocommand">autocommand</A>
            that triggers when the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> is opened.
Solution:   Save the new value before triggering the <A HREF="autocmd.html#OptionSet">OptionSet</A> <A HREF="autocmd.html#autocommand">autocommand</A>.
            Add the &quot;starting&quot; flag to <A HREF="eval.html#test_override()">test_override()</A> to make the text work.
Files:      src/evalfunc.c, src/option.c, runtime/doc/eval.txt

Patch 8.0.0677
Problem:    Setting <A HREF="options.html#'filetype'">'filetype'</A> internally may cause the current buffer and
            <A HREF="windows.html#window">window</A> to change unexpectedly.
Solution:   Set curbuf_lock. (closes #1734)
Files:      src/quickfix.c, src/ex_cmds.c, src/ex_getln.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0678
Problem:    When <A HREF="options.html#'equalalways'">'equalalways'</A> is set and closing a <A HREF="windows.html#window">window</A> in a separate
            frame, not all <A HREF="windows.html#window">window</A> sizes are adjusted. (Glacambre)
Solution:   Resize all <A HREF="windows.html#windows">windows</A> if the new current <A HREF="windows.html#window">window</A> is not in the same
            frame <A HREF="motion.html#as">as</A> the closed <A HREF="windows.html#window">window</A>. (closes #1707)
Files:      src/window.c, src/testdir/test_window_cmd.vim

Patch 8.0.0679 (after 8.0.0678)
Problem:    Using freed memory.
Solution:   Get the parent frame pointer earlier.
Files:      src/window.c

Patch 8.0.0680 (after 8.0.0612)
Problem:    Plugins in start <A HREF="repeat.html#packages">packages</A> are sourced <A HREF="if_cscop.html#twice">twice</A>. (mseplowitz)
Solution:   Use the unmodified runtime path when loading plugins (test by Ingo
            Karkat, closes #1801)
Files:      src/testdir/test_startup.vim, src/main.c, src/ex_cmds2.c,
            src/proto/ex_cmds2.pro

Patch 8.0.0681
Problem:    Unnamed <A HREF="sponsor.html#register">register</A> only contains the last deleted text when
            appending deleted text to a <A HREF="sponsor.html#register">register</A>. (Wolfgang Jeltsch)
Solution:   Only set y_previous when not using y_append. (Christian Brabandt)
Files:      src/ops.c, src/testdir/test_put.vim

Patch 8.0.0682
Problem:    No test for <A HREF="eval.html#synIDtrans()">synIDtrans()</A>.
Solution:   Add a test. (Dominique Pelle, closes #1796)
Files:      src/testdir/test_syntax.vim

Patch 8.0.0683
Problem:    When using a visual bell there is no delay, causing the flash to
            be very short, possibly unnoticeable.  Also, the flash and the
            beep can lockup the UI when repeated often.
Solution:   Do the delay in Vim or flush the output before the delay. Limit the
            bell to once per half a second. (Ozaki Kiichi, closes #1789)
Files:      src/misc1.c, src/proto/term.pro, src/term.c

Patch 8.0.0684
Problem:    Old style tests are not <A HREF="todo.html#nice">nice</A>.
Solution:   Turn two tests into new style. (pschuh, closes #1797)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test82.in, src/testdir/test82.ok,
            src/testdir/test90.in, src/testdir/test90.ok,
            src/testdir/test_sha256.vim, src/testdir/test_utf8_comparisons.vim

Patch 8.0.0685
Problem:    When making backups is disabled and conversion with iconv fails
            the written file is truncated. (Luo Chen)
Solution:   First try converting the file and write the file only when <A HREF="motion.html#it">it</A> did
            not fail. (partly by Christian Brabandt)
Files:      src/fileio.c, src/testdir/test_writefile.vim

Patch 8.0.0686
Problem:    When typing <A HREF="various.html#CTRL-L">CTRL-L</A> in a <A HREF="windows.html#window">window</A> that's not the first one, another
            redraw will happen later. (Christian Brabandt)
Solution:   Reset must_redraw after calling screenclear().
Files:      src/screen.c

Patch 8.0.0687
Problem:    Minor issues related to <A HREF="quickfix.html#quickfix">quickfix</A>.
Solution:   Set the proper return status for all cases in <A HREF="eval.html#setqflist()">setqflist()</A> and at
            test cases for this.  Move the &quot;adding&quot; flag outside of
            FEAT_WINDOWS. Minor update to the <A HREF="eval.html#setqflist()">setqflist()</A> help text. (Yegappan
            Lakshmanan)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0688
Problem:    Cannot resize the <A HREF="windows.html#window">window</A> in a <A HREF="autocmd.html#FileType">FileType</A> <A HREF="autocmd.html#autocommand">autocommand</A>. (Ingo Karkat)
Solution:   Add the CMDWIN flag to <A HREF="windows.html#:resize">:resize</A>. (test by Ingo Karkat,
            closes #1804)
Files:      src/ex_cmds.h, src/testdir/test_quickfix.vim

Patch 8.0.0689
Problem:    The ~ character is not escaped when adding to the search <A HREF="pattern.html#pattern">pattern</A>
            with <A HREF="various.html#CTRL-L">CTRL-L</A>. (Ramel Eshed)
Solution:   Escape the character. (Christian Brabandt)
Files:      src/ex_getln.c, src/testdir/test_search.vim

Patch 8.0.0690
Problem:    Compiler warning on non-Unix system.
Solution:   Add #ifdef. (John Marriott)
Files:      src/term.c

Patch 8.0.0691
Problem:    Compiler warning without the linebreak feature.
Solution:   Add #ifdef. (John Marriott)
Files:      src/edit.c

Patch 8.0.0692
Problem:    Using <A HREF="editing.html#CTRL-G">CTRL-G</A> with <A HREF="options.html#'incsearch'">'incsearch'</A> and ? goes in the wrong direction.
            (Ramel Eshed)
Solution:   Adjust search_start. (Christian Brabandt)
Files:      src/ex_getln.c, src/testdir/test_search.vim

Patch 8.0.0693
Problem:    No <A HREF="terminal.html#terminal">terminal</A> emulator support.  Cannot properly run commands in the
            <A HREF="gui.html#GUI">GUI</A>.  Cannot run a <A HREF="channel.html#job">job</A> interactively with an ssh connection.
Solution:   Very early implementation of the <A HREF="terminal.html#:terminal">:terminal</A> command.  Includes
            libvterm converted to ANSI C.  Many parts still missing.
Files:      src/feature.h, src/Makefile, src/configure.ac, src/auto/configure,
            src/config.mk.in, src/config.h.in, src/terminal.c, src/structs.h,
            src/ex_cmdidxs.h, src/ex_docmd.c,  src/option.c, src/option.h,
            src/evalfunc.c, src/proto/terminal.pro, src/proto.h,
            runtime/doc/terminal.txt, runtime/doc/Makefile, Filelist,
            src/libvterm/.bzrignore, src/libvterm/.gitignore,
            src/libvterm/LICENSE, src/libvterm/README, src/libvterm/Makefile,
            src/libvterm/tbl2inc_c.pl, src/libvterm/vterm.pc.in,
            src/libvterm/bin/unterm.c, src/libvterm/bin/vterm-ctrl.c,
            src/libvterm/bin/vterm-dump.c, src/libvterm/doc/URLs,
            src/libvterm/doc/seqs.txt, src/libvterm/include/vterm.h,
            src/libvterm/include/vterm_keycodes.h,
            src/libvterm/src/encoding.c,
            src/libvterm/src/encoding/DECdrawing.inc,
            src/libvterm/src/encoding/DECdrawing.tbl,
            src/libvterm/src/encoding/uk.inc,
            src/libvterm/src/encoding/uk.tbl, src/libvterm/src/keyboard.c,
            src/libvterm/src/mouse.c, src/libvterm/src/parser.c,
            src/libvterm/src/pen.c, src/libvterm/src/rect.h,
            src/libvterm/src/screen.c, src/libvterm/src/state.c,
            src/libvterm/src/unicode.c, src/libvterm/src/utf8.h,
            src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h,
            src/libvterm/t/02parser.test, src/libvterm/t/03encoding_utf8.test,
            src/libvterm/t/10state_putglyph.test,
            src/libvterm/t/11state_movecursor.test,
            src/libvterm/t/12state_scroll.test,
            src/libvterm/t/13state_edit.test,
            src/libvterm/t/14state_encoding.test,
            src/libvterm/t/15state_mode.test,
            src/libvterm/t/16state_resize.test,
            src/libvterm/t/17state_mouse.test,
            src/libvterm/t/18state_termprops.test,
            src/libvterm/t/20state_wrapping.test,
            src/libvterm/t/21state_tabstops.test,
            src/libvterm/t/22state_save.test,
            src/libvterm/t/25state_input.test,
            src/libvterm/t/26state_query.test,
            src/libvterm/t/27state_reset.test,
            src/libvterm/t/28state_dbl_wh.test,
            src/libvterm/t/29state_fallback.test, src/libvterm/t/30pen.test,
            src/libvterm/t/40screen_ascii.test,
            src/libvterm/t/41screen_unicode.test,
            src/libvterm/t/42screen_damage.test,
            src/libvterm/t/43screen_resize.test,
            src/libvterm/t/44screen_pen.test,
            src/libvterm/t/45screen_protect.test,
            src/libvterm/t/46screen_extent.test,
            src/libvterm/t/47screen_dbl_wh.test,
            src/libvterm/t/48screen_termprops.test,
            src/libvterm/t/90vttest_01-movement-1.test,
            src/libvterm/t/90vttest_01-movement-2.test,
            src/libvterm/t/90vttest_01-movement-3.test,
            src/libvterm/t/90vttest_01-movement-4.test,
            src/libvterm/t/90vttest_02-screen-1.test,
            src/libvterm/t/90vttest_02-screen-2.test,
            src/libvterm/t/90vttest_02-screen-3.test,
            src/libvterm/t/90vttest_02-screen-4.test,
            src/libvterm/t/92lp1640917.test, src/libvterm/t/harness.c,
            src/libvterm/t/run-test.pl

Patch 8.0.0694
Problem:    Building in shadow directory does not work.  Running Vim fails.
Solution:   Add the new libvterm directory.  Add missing change in command
            <A HREF="eval.html#list">list</A>.
Files:      src/Makefile, src/ex_cmds.h

Patch 8.0.0695
Problem:    Missing dependencies breaks parallel make.
Solution:   Add dependencies for terminal.o.
Files:      src/Makefile

Patch 8.0.0696
Problem:    The .inc files are missing in git. (Nazri Ramliy)
Solution:   Remove the .inc line from .gitignore.
Files:      src/libvterm/.gitignore

Patch 8.0.0697
Problem:    Recorded key sequences may become invalid.
Solution:   Add back KE_SNIFF removed in 7.4.1433. Use fixed numbers for the
            key_extra enum.
Files:      src/keymap.h

Patch 8.0.0698
Problem:    When a <A HREF="eval.html#timer">timer</A> uses &quot;:pyeval&quot; or another <A HREF="if_pyth.html#Python">Python</A> command and <A HREF="motion.html#it">it</A>
            happens to be triggered while <A HREF="starting.html#exiting">exiting</A> a Crash may happen.
            (Ricky Zhou)
Solution:   Avoid running a <A HREF="if_pyth.html#Python">Python</A> command after python_end() was called.
            Do not trigger <A HREF="eval.html#timers">timers</A> while <A HREF="starting.html#exiting">exiting</A>.  (closes #1824)
Files:      src/if_python.c, src/if_python3.c, src/ex_cmds2.c

Patch 8.0.0699
Problem:    Checksum tests are not actually run.
Solution:   Add the tests to the <A HREF="eval.html#list">list</A>. (Dominique Pelle, closes #1819)
Files:      src/testdir/test_alot.vim, src/testdir/test_alot_utf8.vim

Patch 8.0.0700
Problem:    Segfault with <A HREF="autocmd.html#QuitPre">QuitPre</A> <A HREF="autocmd.html#autocommand">autocommand</A> closes the <A HREF="windows.html#window">window</A>. (Marek)
Solution:   Check that the <A HREF="windows.html#window">window</A> pointer is still valid. (Christian Brabandt,
            closes #1817)
Files:      src/testdir/test_tabpage.vim, src/ex_docmd.c

Patch 8.0.0701
Problem:    System test failing when using <A HREF="options.html#X11">X11</A> forwarding.
Solution:   Set $XAUTHORITY before <A HREF="change.html#changing">changing</A> <A HREF="options.html#$HOME">$HOME</A>. (closes #1812)
            Also use a better check for the exit value.
Files:      src/testdir/setup.vim, src/testdir/test_system.vim

Patch 8.0.0702
Problem:    An error in a <A HREF="eval.html#timer">timer</A> can make Vim unusable.
Solution:   Don't set the error flag or exception from a <A HREF="eval.html#timer">timer</A>.  Stop a <A HREF="eval.html#timer">timer</A>
            if <A HREF="motion.html#it">it</A> causes an error 3 out of 3 times.  Discard an exception
            caused inside a <A HREF="eval.html#timer">timer</A>.
Files:      src/ex_cmds2.c, src/structs.h, src/testdir/test_timers.vim,
            runtime/doc/eval.txt

Patch 8.0.0703
Problem:    Illegal memory access with empty <A HREF="autocmd.html#:doau">:doau</A> command.
Solution:   Check the event for being out of range. (James McCoy)
Files:      src/testdir/test_autocmd.vim, src/fileio.c

Patch 8.0.0704
Problem:    Problems with <A HREF="autocmd.html#autocommands">autocommands</A> when opening help.
Solution:   Avoid using invalid &quot;varp&quot; value.  Allow using <A HREF="windows.html#:wincmd">:wincmd</A> if buffer
            is locked. (closes #1806, closes #1804)
Files:      src/option.c, src/ex_cmds.h

Patch 8.0.0705 (after 8.0.0702)
Problem:    Crash when there is an error in a <A HREF="eval.html#timer">timer</A> callback. (Aron Griffis,
            Ozaki Kiichi)
Solution:   Check did_throw before discarding an exception.  NULLify
            current_exception when no longer valid.
Files:      src/ex_eval.c, src/ex_cmds2.c

Patch 8.0.0706
Problem:    Crash when cancelling the cmdline <A HREF="windows.html#window">window</A> in <A HREF="intro.html#Ex">Ex</A> mode. (James McCoy)
Solution:   Do not set cmdbuff to NULL, make <A HREF="motion.html#it">it</A> empty.
Files:      src/ex_getln.c

Patch 8.0.0707
Problem:    Freeing wrong memory when manipulating <A HREF="windows.html#buffers">buffers</A> in <A HREF="autocmd.html#autocommands">autocommands</A>.
            (James McCoy)
Solution:   Also set the w_s pointer if w_buffer was NULL.
Files:      src/ex_cmds.c

Patch 8.0.0708
Problem:    Some tests are old style.
Solution:   Change a few tests from old style to new style. (pschuh,
            closes #1813)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_vms.mms, src/testdir/main.aap,
            src/testdir/test23.in, src/testdir/test23.ok,
            src/testdir/test24.in, src/testdir/test24.ok,
            src/testdir/test26.in, src/testdir/test26.ok,
            src/testdir/test67.in, src/testdir/test67.ok,
            src/testdir/test75.in, src/testdir/test75.ok,
            src/testdir/test97.in, src/testdir/test97.ok,
            src/testdir/test_comparators.in, src/testdir/test_comparators.ok,
            src/testdir/test_comparators.vim,
            src/testdir/test_escaped_glob.vim,
            src/testdir/test_exec_while_if.vim,
            src/testdir/test_exists_autocmd.vim, src/testdir/test_getcwd.in,
            src/testdir/test_getcwd.ok, src/testdir/test_getcwd.vim,
            src/testdir/test_maparg.vim, src/testdir/test_plus_arg_edit.vim,
            src/testdir/test_regex_char_classes.vim

Patch 8.0.0709
Problem:    Libvterm cannot use vsnprintf(), <A HREF="motion.html#it">it</A> does not exist in C90.
Solution:   Use vim_vsnprintf() instead.
Files:      src/message.c, src/Makefile, src/proto.h, src/evalfunc.c,
            src/netbeans.c, src/libvterm/src/vterm.c

Patch 8.0.0710
Problem:    A <A HREF="channel.html#job">job</A> that writes to a buffer clears command line completion.
            (Ramel Eshed)
Solution:   Do not redraw while showing the completion menu.
Files:      src/screen.c

Patch 8.0.0711 (after 8.0.0710)
Problem:    Cannot build without the wildmenu feature.
Solution:   Add #ifdef
Files:      src/screen.c

Patch 8.0.0712
Problem:    The <A HREF="terminal.html#terminal">terminal</A> implementation is incomplete.
Solution:   Add the 'termkey' option.
Files:      src/option.c, src/option.h, src/structs.h

Patch 8.0.0713 (after 8.0.0712)
Problem:    'termkey' option not fully implemented.
Solution:   Add initialisation.
Files:      src/option.c

Patch 8.0.0714
Problem:    When a <A HREF="eval.html#timer">timer</A> causes a command line redraw the &quot; that is displayed
            for <A HREF="undo.html#CTRL-R">CTRL-R</A> goes missing.
Solution:   Remember an extra character to display.
Files:      src/ex_getln.c

Patch 8.0.0715
Problem:    Writing to the wrong buffer if the buffer that a <A HREF="channel.html#channel">channel</A> writes to
            was closed.
Solution:   Do not write to a buffer that was unloaded.
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_write.py

Patch 8.0.0716
Problem:    Not <A HREF="starting.html#easy">easy</A> to start Vim cleanly without <A HREF="change.html#changing">changing</A> the <A HREF="starting.html#viminfo">viminfo</A> file.
            Not possible to know whether the <A HREF="starting.html#-i">-i</A> command line flag was used.
Solution:   Add the <A HREF="starting.html#--clean">--clean</A> command line argument.  Add the <A HREF="options.html#'viminfofile'">'viminfofile'</A>
            option.  Add &quot;<A HREF="starting.html#-u">-u</A> DEFAULTS&quot;.
Files:      src/main.c, runtime/doc/starting.txt, src/option.c, src/option.h,
            src/ex_cmds.c, src/globals.h, runtime/doc/options.txt

Patch 8.0.0717
Problem:    Terminal feature not included in <A HREF="various.html#:version">:version</A> output.
Solution:   Add <A HREF="various.html#+terminal">+terminal</A> or -terminal.
Files:      src/version.c, src/terminal.c

Patch 8.0.0718
Problem:    Output of <A HREF="channel.html#job">job</A> in <A HREF="terminal.html#terminal">terminal</A> is not displayed.
Solution:   Connect the <A HREF="channel.html#job">job</A> output to the <A HREF="terminal.html#terminal">terminal</A>.
Files:      src/channel.c, src/proto/channel.pro, src/terminal.c,
            src/proto/terminal.pro, src/channel.c, src/proto/channel.pro,
            src/evalfunc.c, src/screen.c, src/proto/screen.pro

Patch 8.0.0719
Problem:    Build failure without <A HREF="various.html#+terminal">+terminal</A> feature.
Solution:   Add #ifdefs.
Files:      src/screen.c, src/channel.c

Patch 8.0.0720
Problem:    Unfinished <A HREF="map.html#mapping">mapping</A> not displayed when running <A HREF="eval.html#timer">timer</A>.
Solution:   Also use the extra_char while waiting for a <A HREF="map.html#mapping">mapping</A> and <A HREF="digraph.html#digraph">digraph</A>.
            (closes #1844)
Files:      src/ex_getln.c

Patch 8.0.0721
Problem:    <A HREF="editing.html#:argedit">:argedit</A> can only have one argument.
Solution:   Allow for multiple arguments. (Christian Brabandt)
Files:      runtime/doc/editing.txt, src/ex_cmds.h, src/ex_cmds2.c,
            src/testdir/test_arglist.vim

Patch 8.0.0722
Problem:    Screen is messed by <A HREF="eval.html#timer">timer</A> up at <A HREF="eval.html#inputlist()">inputlist()</A> prompt.
Solution:   Set state to ASKMORE. (closes #1843)
Files:      src/misc1.c

Patch 8.0.0723 (after 8.0.0721)
Problem:    Arglist test fails if file name <A HREF="change.html#case">case</A> is ignored.
Solution:   Wipe existing <A HREF="windows.html#buffers">buffers</A>, check for fname_case property.
Files:      src/testdir/test_arglist.vim

Patch 8.0.0724
Problem:    The message for yanking doesn't indicate the <A HREF="sponsor.html#register">register</A>.
Solution:   Show the <A HREF="sponsor.html#register">register</A> name in the &quot;<A HREF="pattern.html#N">N</A> lines yanked&quot; message. (LemonBoy,
            closes #1803, closes #1809)
Files:      src/ops.c, src/Makefile, src/testdir/test_registers.vim,
            src/testdir/Make_all.mak

Patch 8.0.0725
Problem:    A <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> does not handle keyboard input.
Solution:   Add terminal_loop().  &quot;:term bash -i&quot; sort of works now.
Files:      src/main.c, src/terminal.c, src/proto/terminal.pro, src/normal.c

Patch 8.0.0726
Problem:    Translations cleanup <A HREF="usr_41.html#script">script</A> is too conservative.
Solution:   Also delete untranslated <A HREF="message.html#messages">messages</A>.
Files:      src/po/cleanup.vim

Patch 8.0.0727
Problem:    Message about what <A HREF="sponsor.html#register">register</A> to <A HREF="change.html#yank">yank</A> into is not translated.
            (LemonBoy)
Solution:   Add _().
Files:      src/ops.c

Patch 8.0.0728
Problem:    The <A HREF="terminal.html#terminal">terminal</A> structure is never freed.
Solution:   Free the structure and unreference what <A HREF="motion.html#it">it</A> contains.
Files:      src/terminal.c, src/buffer.c, src/proto/terminal.pro,
            src/channel.c, src/proto/channel.pro, src/evalfunc.c

Patch 8.0.0729
Problem:    The help for the <A HREF="terminal.html#terminal">terminal</A> configure option is wrong.
Solution:   Change &quot;Disable&quot; to &quot;Enable&quot;. (E Kawashima, closes #1849)
            Improve alignment.
Files:      src/configure.ac, src/auto/configure

Patch 8.0.0730
Problem:    Terminal feature only supports Unix-like systems.
Solution:   Prepare for adding an <A HREF="os_win32.html#MS-Windows">MS-Windows</A> implementation.
Files:      src/terminal.c

Patch 8.0.0731
Problem:    Cannot build the <A HREF="terminal.html#terminal">terminal</A> feature on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add the Makefile changes. (Yasuhiro Matsumoto, closes #1851)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.0.0732
Problem:    When updating a buffer for a callback the modeless selection is
            lost.
Solution:   Do not insert or delete screen lines when redrawing for a callback
            and there is a modeless selection.
Files:      src/screen.c

Patch 8.0.0733
Problem:    Can only add entries to one <A HREF="eval.html#list">list</A> in the <A HREF="quickfix.html#quickfix">quickfix</A> stack.
Solution:   Move state <A HREF="eval.html#variables">variables</A> from qf_list_T to qf_list_T. (Yegappan
            Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.0734
Problem:    The <A HREF="usr_41.html#script">script</A> to check translations can be improved.
Solution:   Restore the <A HREF="starting.html#view">view</A> when no <A HREF="message.html#errors">errors</A> are found.  Check for matching
            line break at the end of the message. (Christian Brabandt)
Files:      src/po/check.vim

Patch 8.0.0735
Problem:    There is no way to notice that the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> contents has
            changed.
Solution:   Increment <A HREF="eval.html#b:changedtick">b:changedtick</A> when updating the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>.
            (Yegappan Lakshmanan)
Files:      runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0736
Problem:    The <A HREF="autocmd.html#OptionSet">OptionSet</A> <A HREF="autocmd.html#autocommand">autocommand</A> event is not triggered when entering
            <A HREF="diff.html#diff">diff</A> mode.
Solution:   use set_option_value() instead of setting the option directly.
            Change the tests from old to new style. (Christian Brabandt)
Files:      src/diff.c, src/testdir/Make_all.mak, src/Makefile,
            src/testdir/test_autocmd.vim, src/testdir/test_autocmd_option.in,
            src/testdir/test_autocmd_option.ok

Patch 8.0.0737
Problem:    Crash when <A HREF="options.html#X11">X11</A> selection is very big.
Solution:   Use static items instead of allocating them.  Add callbacks.
            (Ozaki Kiichi)
Files:      src/testdir/shared.vim, src/testdir/test_quotestar.vim,
            src/ui.c

Patch 8.0.0738
Problem:    Cannot use the mouse to resize <A HREF="windows.html#window">window</A> while the focus is in a
            <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Recognize <A HREF="todo.html#nice">nice</A> mouse events in the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.  A few more
            fixes for the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Files:      src/terminal.c

Patch 8.0.0739
Problem:    Terminal resizing doesn't work well.
Solution:   Resize the <A HREF="terminal.html#terminal">terminal</A> to the Vim <A HREF="windows.html#window">window</A> and the other way around.
            Avoid <A HREF="map.html#mapping">mapping</A> typed keys.  Set the environment properly.
Files:      src/terminal.c, src/os_unix.c, src/structs.h

Patch 8.0.0740
Problem:    Cannot resize a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> by the command running in <A HREF="motion.html#it">it</A>.
Solution:   Add support for the <A HREF="windows.html#window">window</A> size <A HREF="intro.html#escape">escape</A> sequence.  Make BS work.
Files:      src/terminal.c, src/libvterm/src/state.c

Patch 8.0.0741
Problem:    Cannot build with HPUX.
Solution:   Rename envbuf_TERM to envbuf_Term. (John Marriott)
Files:      src/os_unix.c

Patch 8.0.0742
Problem:    Terminal feature does not work on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use libvterm and libwinpty on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Yasuhiro Matsumoto)
Files:      src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/channel.c,
            src/proto/channel.pro, src/terminal.c

Patch 8.0.0743
Problem:    The 'termsize' option can be set to an invalid value.
Solution:   Check the 'termsize' option to be valid.
Files:      src/option.c, src/testdir/gen_opt_test.vim

Patch 8.0.0744
Problem:    A <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> uses pipes instead of a pty.
Solution:   Add pty support.
Files:      src/structs.h, src/os_unix.c, src/terminal.c, src/channel.c,
            src/proto/os_unix.pro, src/os_win32.c, src/proto/os_win32.pro

Patch 8.0.0745
Problem:    <A HREF="mbyte.html#multi-byte">multi-byte</A> characters in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> are not displayed
            properly.
Solution:   Set the unused screen characters. (Yasuhiro Matsumoto, closes
            #1857)
Files:      src/terminal.c

Patch 8.0.0746
Problem:    When :term fails the <A HREF="channel.html#job">job</A> is not properly cleaned up.
Solution:   Free the <A HREF="terminal.html#terminal">terminal</A>. Handle a <A HREF="channel.html#job">job</A> that failed to start. (closes
            #1858)
Files:      src/os_unix.c, src/channel.c, src/terminal.c

Patch 8.0.0747
Problem:    <A HREF="terminal.html#:terminal">:terminal</A> without an argument doesn't work.
Solution:   Use the <A HREF="options.html#'shell'">'shell'</A> option. (Yasuhiro Matsumoto, closes #1860)
Files:      src/terminal.c

Patch 8.0.0748
Problem:    When running Vim in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> <A HREF="motion.html#it">it</A> does not detect the right
            number of colors available.
Solution:   Detect the version <A HREF="eval.html#string">string</A> that libvterm returns.  Pass the number
            of colors in $COLORS.
Files:      src/term.c, src/os_unix.c

Patch 8.0.0749
Problem:    Some <A HREF="mbyte.html#unicode">unicode</A> <A HREF="digraph.html#digraphs">digraphs</A> are hard to remember.
Solution:   Add alternatives with a backtick. (Chris Harding, closes #1861)
Files:      src/digraph.c

Patch 8.0.0750
Problem:    OpenPTY missing in non-GUI build.
Solution:   Always include pty.c, add an #ifdef to skip over the contents.
Files:      src/pty.c, src/Makefile

Patch 8.0.0751 (after 8.0.0750)
Problem:    OpenPTY missing with some combination of features. (Kazunobu
            Kuriyama)
Solution:   Adjust #ifdef.  Also include pty.pro when needed.
Files:      src/pty.c, src/misc2.c, src/proto.h

Patch 8.0.0752
Problem:    Build fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Change #ifdef for set_color_count().
Files:      src/term.c

Patch 8.0.0753
Problem:    A <A HREF="channel.html#job">job</A> running in a <A HREF="terminal.html#terminal">terminal</A> does not get notified of changes in
            the <A HREF="terminal.html#terminal">terminal</A> size.
Solution:   Use ioctl() and SIGWINCH to report the <A HREF="terminal.html#terminal">terminal</A> size.
Files:      src/terminal.c, src/os_unix.c, src/proto/os_unix.pro

Patch 8.0.0754
Problem:    Terminal <A HREF="windows.html#window">window</A> does not support colors.
Solution:   Lookup the color attribute.
Files:      src/terminal.c, src/syntax.c, src/proto/syntax.pro

Patch 8.0.0755
Problem:    Terminal <A HREF="windows.html#window">window</A> does not have colors in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Lookup the <A HREF="gui.html#GUI">GUI</A> color.
Files:      src/terminal.c, src/syntax.c, src/proto/syntax.pro, src/term.c,
            src/proto/term.pro, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,
            src/gui_x11.c, src/proto/gui_x11.pro, src/gui_mac.c,
            src/proto/gui_mac.pro, src/gui_photon.c, src/proto/gui_photon.pro,
            src/gui_w32.c, src/proto/gui_w32.pro,

Patch 8.0.0756
Problem:    Cannot build libvterm with MSVC.
Solution:   Add an MSVC Makefile to libvterm. (Yasuhiro Matsumoto, closes
            #1865)
Files:      src/INSTALLpc.txt, src/Make_mvc.mak, src/libvterm/Makefile.msc

Patch 8.0.0757
Problem:    Libvterm MSVC Makefile not included in the <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add the file to the <A HREF="eval.html#list">list</A>.
Files:      Filelist

Patch 8.0.0758
Problem:    Possible crash when using a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Check for NULL pointers. (Yasuhiro Matsumoto, closes #1864)
Files:      src/terminal.c

Patch 8.0.0759
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="terminal.html#terminal">terminal</A> does not adjust size to the Vim <A HREF="windows.html#window">window</A> size.
Solution:   Add a call to winpty_set_size(). (Yasuhiro Matsumoto, closes #1863)
Files:      src/terminal.c

Patch 8.0.0760
Problem:    Terminal <A HREF="windows.html#window">window</A> colors wrong with <A HREF="options.html#'termguicolors'">'termguicolors'</A>.
Solution:   Add <A HREF="options.html#'termguicolors'">'termguicolors'</A> support.
Files:      src/terminal.c, src/syntax.c, src/proto/syntax.pro

Patch 8.0.0761
Problem:    Options of a buffer for a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> are not set properly.
Solution:   Add &quot;<A HREF="terminal.html#terminal">terminal</A>&quot; value for <A HREF="options.html#'buftype'">'buftype'</A>.  Make <A HREF="options.html#'buftype'">'buftype'</A> and
            <A HREF="options.html#'bufhidden'">'bufhidden'</A> not depend on the <A HREF="quickfix.html#quickfix">quickfix</A> feature.
            Also set the buffer name and show &quot;running&quot; or &quot;finished&quot; in the
            <A HREF="windows.html#window">window</A> title.
Files:      src/option.c, src/terminal.c, src/proto/terminal.pro,
            runtime/doc/options.txt, src/quickfix.c, src/proto/quickfix.pro,
            src/structs.h, src/buffer.c, src/ex_docmd.c, src/fileio.c,
            src/channel.c

Patch 8.0.0762
Problem:    ml_get error with <A HREF="windows.html#:psearch">:psearch</A> in buffer without a name. (Dominique
            Pelle)
Solution:   Use the buffer number instead of the file name.  Check the cursor
            position.
Files:      src/search.c, src/testdir/test_preview.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.0763
Problem:    Libvterm can be improved.
Solution:   Various small improvements, more comments.
Files:      src/libvterm/README, src/libvterm/include/vterm.h,
            src/libvterm/include/vterm_keycodes.h,
            src/libvterm/src/keyboard.c, src/libvterm/src/parser.c,
            src/libvterm/src/screen.c, src/libvterm/src/state.c

Patch 8.0.0764
Problem:    'termkey' does not work yet.
Solution:   Implement 'termkey'.
Files:      src/terminal.c, src/option.c, src/proto/option.pro

Patch 8.0.0765
Problem:    Build fails with tiny features.
Solution:   Adjust #ifdef. (John Marriott)
Files:      src/option.c, src/option.h

Patch 8.0.0766
Problem:    Option test fails with <A HREF="various.html#+terminal">+terminal</A> feature.
Solution:   Fix using the right option when checking the value.
Files:      src/option.c

Patch 8.0.0767
Problem:    Build failure with <A HREF="gui_x11.html#Athena">Athena</A> and <A HREF="gui_x11.html#Motif">Motif</A>.
Solution:   Move local variable declarations. (Kazunobu Kuriyama)
Files:      src/gui_x11.c

Patch 8.0.0768
Problem:    Terminal <A HREF="windows.html#window">window</A> status shows &quot;[Scratch]&quot;.
Solution:   Show &quot;[Terminal]&quot; when no title was set. (Yasuhiro Matsumoto)
            Store the <A HREF="terminal.html#terminal">terminal</A> title that vterm sends and use <A HREF="motion.html#it">it</A>.  Update the
            special buffer name.  (closes #1869)
Files:      src/terminal.c, src/proto/terminal.pro, src/buffer.c

Patch 8.0.0769
Problem:    Build problems with <A HREF="terminal.html#terminal">terminal</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> using MSVC.
Solution:   Remove stdbool.h dependency. Only use ScreenLinesUC when <A HREF="motion.html#it">it</A> was
            allocated. Fix typos. (Ken Takata)
Files:      src/libvterm/bin/vterm-ctrl.c, runtime/doc/terminal.txt,
            src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/libvterm/Makefile.msc, src/terminal.c

Patch 8.0.0770
Problem:    Compiler warning for missing field initializer.
Solution:   Add two more values. (Yegappan Lakshmanan)
Files:      src/libvterm/src/encoding.c

Patch 8.0.0771
Problem:    Cursor in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> not always updated in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Call gui_update_cursor(). (Yasuhiro Matsumoto, closes #1868)
Files:      src/terminal.c

Patch 8.0.0772
Problem:    Other stdbool.h dependencies in libvterm.
Solution:   Remove the dependency and use TRUE/FALSE/int. (Ken Takata)
Files:      src/libvterm/include/vterm.h, src/libvterm/src/mouse.c,
            src/libvterm/src/pen.c, src/libvterm/t/harness.c,
            src/libvterm/bin/unterm.c

Patch 8.0.0773
Problem:    Mixing 32 and 64 bit libvterm builds fails.
Solution:   Use OUTDIR. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/libvterm/Makefile.msc

Patch 8.0.0774
Problem:    Build failure without the <A HREF="mbyte.html#multi-byte">multi-byte</A> feature on HPUX.
Solution:   Move #ifdefs. (John Marriott)
Files:      src/term.c

Patch 8.0.0775
Problem:    In a <A HREF="terminal.html#terminal">terminal</A> the cursor is updated too often.
Solution:   Only flush when needed. (Yasuhiro Matsumoto).  Remember whether the
            cursor is visible. (closes #1873)
Files:      src/terminal.c

Patch 8.0.0776
Problem:    Function prototypes missing without the <A HREF="quickfix.html#quickfix">quickfix</A> feature. (Tony
            Mechelynck)
Solution:   Move non-quickfix <A HREF="eval.html#functions">functions</A> to buffer.c.
Files:      src/buffer.c, src/proto/buffer.pro, src/quickfix.c,
            src/proto/quickfix.pro

Patch 8.0.0777
Problem:    Compiler warnings with 64 bit compiler.
Solution:   Add type casts. (Mike Williams)
Files:      src/libvterm/src/pen.c, src/libvterm/src/state.c, src/terminal.c

Patch 8.0.0778
Problem:    In a <A HREF="terminal.html#terminal">terminal</A> the cursor may be hidden and screen updating lags
            behind. (Nazri Ramliy)
Solution:   Switch the cursor on and flush output when needed. (Ozaki Kiichi)
Files:      src/terminal.c

Patch 8.0.0779
Problem:    :term without an argument uses empty buffer name but runs the
            shell.
Solution:   Change the command to the shell earlier.
Files:      src/terminal.c

Patch 8.0.0780
Problem:    Build failure on Travis.
Solution:   Set <A HREF="intro.html#distribution">distribution</A> explicitly. Use <A HREF="if_lua.html#Lua">Lua</A> and <A HREF="if_ruby.html#Ruby">Ruby</A> dev. (Ken Takata,
            closes #1884)
Files:      .travis.yml

Patch 8.0.0781
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Memory leak when using <A HREF="terminal.html#:terminal">:terminal</A>.
Solution:   Handle failures properly. (Ken Takata)
Files:      src/terminal.c

Patch 8.0.0782
Problem:    Using freed memory in <A HREF="quickfix.html#quickfix">quickfix</A> code. (Dominique Pelle)
Solution:   Handle a help <A HREF="windows.html#window">window</A> differently. (Yegappan Lakshmanan)
Files:      src/buffer.c, src/proto/buffer.pro, src/quickfix.c,
            src/testdir/test_quickfix.vim, src/ex_cmds.c, src/window.c

Patch 8.0.0783
Problem:    <A HREF="eval.html#Job">Job</A> of <A HREF="terminal.html#terminal">terminal</A> may be freed too early.
Solution:   Increment <A HREF="channel.html#job">job</A> refcount. (Yasuhiro Matsumoto)
Files:      src/terminal.c

Patch 8.0.0784
Problem:    <A HREF="eval.html#Job">Job</A> of <A HREF="terminal.html#terminal">terminal</A> may be garbage collected.
Solution:   Set copyID on <A HREF="channel.html#job">job</A> in <A HREF="terminal.html#terminal">terminal</A>. (Ozaki Kiichi)
Files:      src/terminal.c, src/eval.c, src/proto/terminal.pro

Patch 8.0.0785
Problem:    Wildcards are not expanded for <A HREF="terminal.html#:terminal">:terminal</A>.
Solution:   Add FILES to the command flags. (Yasuhiro Matsumoto, closes #1883)
            Also complete commands.
Files:      src/ex_cmds.h, src/ex_docmd.c

Patch 8.0.0786
Problem:    Build failures on Travis.
Solution:   Go back to precise temporarily.  Disable coverage with clang.
Files:      .travis.yml

Patch 8.0.0787
Problem:    Cannot send <A HREF="index.html#CTRL-W">CTRL-W</A> command to <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A>.
Solution:   Make <A HREF="index.html#CTRL-W">CTRL-W</A> . a prefix for sending a key to the <A HREF="channel.html#job">job</A>.
Files:      src/terminal.c, runtime/doc/terminal.txt, src/option.c

Patch 8.0.0788
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot build with <A HREF="terminal.html#terminal">terminal</A> feature.
Solution:   Move set_ref_in_term(). (Ozaki Kiichi)
Files:      src/terminal.c

Patch 8.0.0789
Problem:    When splitting a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> where the <A HREF="terminal.html#terminal">terminal</A> follows the
            size of the <A HREF="windows.html#window">window</A> doesn't work.
Solution:   Use the size of the smallest <A HREF="windows.html#window">window</A>. (Yasuhiro Matsumoto, closes
            #1885)
Files:      src/terminal.c

Patch 8.0.0790
Problem:    MSVC compiler warning for strncpy in libvterm.
Solution:   Add a define to stop the warnings. (Mike Williams)
Files:      src/Make_mvc.mak

Patch 8.0.0791
Problem:    Terminal colors depend on the system.
Solution:   Use the highlight color lookup tables.
Files:      src/syntax.c, src/proto/syntax.pro, src/terminal.c

Patch 8.0.0792
Problem:    Spell test leaves files behind.
Solution:   Delete the files.
Files:      src/testdir/test_spell.vim

Patch 8.0.0793
Problem:    Using wrong <A HREF="terminal.html#terminal">terminal</A> name for <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   When <A HREF="options.html#'term'">'term'</A> starts with &quot;xterm&quot; use <A HREF="motion.html#it">it</A> for $TERM in a <A HREF="terminal.html#terminal">terminal</A>
            <A HREF="windows.html#window">window</A>.
Files:      src/os_unix.c

Patch 8.0.0794
Problem:    The <A HREF="usr_41.html#script">script</A> to check translations fails if there is more than one
            NL in one line.
Solution:   Count the number of NL characters.  Make <A HREF="eval.html#count()">count()</A> accept a <A HREF="eval.html#string">string</A>.
Files:      src/po/check.vim, src/evalfunc.c, runtime/doc/eval.txt,
            src/testdir/test_functions.vim

Patch 8.0.0795
Problem:    Terminal feature does not build with older MSVC.
Solution:   Do not use stdint.h.
Files:      src/libvterm/include/vterm.h

Patch 8.0.0796
Problem:    No coverage on Travis with clang.
Solution:   Use a specific coveralls version. (Ozaki Kiichi, closes #1888)
Files:      .travis.yml

Patch 8.0.0797
Problem:    Finished <A HREF="channel.html#job">job</A> in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> is not handled.
Solution:   Add the scrollback buffer.  Use <A HREF="motion.html#it">it</A> to fill the buffer when the <A HREF="channel.html#job">job</A>
            has ended.
Files:      src/terminal.c, src/screen.c, src/proto/terminal.pro,
            src/channel.c, src/os_unix.c, src/buffer.c

Patch 8.0.0798
Problem:    No highlighting in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> with a finished <A HREF="channel.html#job">job</A>.
Solution:   Highlight the text.
Files:      src/terminal.c, src/proto/terminal.pro, src/screen.c, src/undo.c

Patch 8.0.0799
Problem:    Missing semicolon.
Solution:   Add <A HREF="motion.html#it">it</A>.
Files:      src/terminal.c

Patch 8.0.0800
Problem:    Terminal <A HREF="windows.html#window">window</A> scrollback contents is wrong.
Solution:   Fix handling of <A HREF="mbyte.html#multi-byte">multi-byte</A> characters (Yasuhiro Matsumoto) Handle
            empty lines correctly. (closes #1891)
Files:      src/terminal.c

Patch 8.0.0801
Problem:    The <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> title sometimes still says &quot;running&quot; even
            though the <A HREF="channel.html#job">job</A> has finished.
Solution:   Also consider the <A HREF="channel.html#job">job</A> finished when the <A HREF="channel.html#channel">channel</A> has been closed.
Files:      src/terminal.c

Patch 8.0.0802
Problem:    After a <A HREF="channel.html#job">job</A> exits the last line in the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> does not
            get color attributes.
Solution:   Fix off-by-one error.
Files:      src/terminal.c

Patch 8.0.0803
Problem:    Terminal <A HREF="windows.html#window">window</A> <A HREF="eval.html#functions">functions</A> not yet implemented.
Solution:   Implement several <A HREF="eval.html#functions">functions</A>. Add a first test. (Yasuhiro
            Matsumoto, closes #1871)
Files:      runtime/doc/eval.txt, src/Makefile, src/evalfunc.c,
            src/proto/evalfunc.pro, src/proto/terminal.pro, src/terminal.c,
            src/testdir/Make_all.mak, src/testdir/test_terminal.vim

Patch 8.0.0804
Problem:    Running tests fails when stdin is /dev/null. (James McCoy)
Solution:   Do not bail out from getting input if the <A HREF="starting.html#--not-a-term">--not-a-term</A> argument
            was given. (closes #1460)
Files:      src/eval.c, src/evalfunc.c

Patch 8.0.0805
Problem:    <A HREF="gui.html#GUI">GUI</A> test fails with gnome2.
Solution:   Set <A HREF="options.html#$HOME">$HOME</A> to an existing directory.
Files:      src/testdir/setup.vim, src/testdir/runtest.vim

Patch 8.0.0806
Problem:    Tests may try to create XfakeHOME <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Avoid loading setup.vim <A HREF="if_cscop.html#twice">twice</A>.
Files:      src/testdir/setup.vim

Patch 8.0.0807
Problem:    Terminal <A HREF="windows.html#window">window</A> can't handle mouse buttons. (Hirohito Higashi)
Solution:   Implement mouse buttons and many other keys.  Ignore the ones that
            are not implemented.
Files:      src/terminal.c

Patch 8.0.0808
Problem:    Cannot build with <A HREF="terminal.html#terminal">terminal</A> feature and DEBUG defined. (Christian
            Brabandt)
Solution:   Use DEBUG_LOG3().
Files:      src/libvterm/src/pen.c

Patch 8.0.0809
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: tests hang.
Solution:   Delete the XfakeHOME directory.
Files:      src/testdir/Make_dos.mak, src/testdir/Make_ming.mak

Patch 8.0.0810
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: tests still hang.
Solution:   Only create the XfakeHOME directory if <A HREF="motion.html#it">it</A> does not exist yet.
Files:      src/testdir/setup.vim

Patch 8.0.0811
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: test_expand_dllpath fails.
Solution:   Change backslashes to forward slashes
Files:      src/testdir/test_expand_dllpath.vim

Patch 8.0.0812
Problem:    Terminal <A HREF="windows.html#window">window</A> colors <A HREF="intro.html#shift">shift</A> when <A HREF="options.html#'number'">'number'</A> is set. (Nazri Ramliy)
Solution:   Use vcol instead of col.
Files:      src/screen.c

Patch 8.0.0813
Problem:    Cannot use Vim commands in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> while the <A HREF="channel.html#job">job</A> is
            running.
Solution:   Implement Terminal <A HREF="intro.html#Normal">Normal</A> mode.
Files:      src/terminal.c, src/proto/terminal.pro, src/main.c, src/screen.c,
            src/normal.c, src/option.c, runtime/doc/terminal.txt

Patch 8.0.0814 (after 8.0.0757)
Problem:    File in Filelist does not exist.
Solution:   Remove the line.
Files:      Filelist

Patch 8.0.0815
Problem:    Terminal <A HREF="windows.html#window">window</A> not correctly updated when <A HREF="options.html#'statusline'">'statusline'</A> invokes
            &quot;<A HREF="various.html#:sleep">:sleep</A>&quot;. (NIkolay Pavlov)
Solution:   Clear got_int.  Repeat redrawing when needed.
Files:      src/terminal.c

Patch 8.0.0816
Problem:    Crash when using invalid buffer number.
Solution:   Check for NULL buffer. (Yasuhiro Matsumoto, closes #1899)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.0817
Problem:    Cannot get the line of a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> at the cursor.
Solution:   Make the row argument optional. (Yasuhiro Matsumoto, closes #1898)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/terminal.c

Patch 8.0.0818
Problem:    Cannot get the cursor position of a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add <A HREF="eval.html#term_getcursor()">term_getcursor()</A>.
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/terminal.c,
            src/proto/terminal.pro

Patch 8.0.0819
Problem:    After <A HREF="change.html#changing">changing</A> current <A HREF="windows.html#window">window</A> the cursor position in the <A HREF="terminal.html#terminal">terminal</A>
            <A HREF="windows.html#window">window</A> is not updated.
Solution:   Set w_wrow, w_wcol and w_valid.
Files:      src/terminal.c

Patch 8.0.0820
Problem:    <A HREF="gui.html#GUI">GUI</A>: cursor in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> lags behind.
Solution:   call gui_update_cursor() under different conditions. (Ozaki
            Kiichi, closes #1893)
Files:      src/terminal.c

Patch 8.0.0821
Problem:    Cannot get the title and status of a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Implement <A HREF="eval.html#term_gettitle()">term_gettitle()</A> and <A HREF="eval.html#term_getstatus()">term_getstatus()</A>.
Files:      src/evalfunc.c, src/terminal.c, src/proto/terminal.pro,
            runtime/doc/eval.txt

Patch 8.0.0822
Problem:    Test_with_partial_callback is a tiny bit flaky.
Solution:   Add <A HREF="motion.html#it">it</A> to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.0823
Problem:    Cannot paste text into a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Make <A HREF="index.html#CTRL-W">CTRL-W</A> &quot; work.
Files:      src/terminal.c

Patch 8.0.0824
Problem:    In Terminal mode the cursor and screen gets redrawn when the <A HREF="channel.html#job">job</A>
            produces output.
Solution:   Check for tl_terminal_mode. (partly by Yasuhiro Matsumoto, closes
            #1904)
Files:      src/terminal.c

Patch 8.0.0825
Problem:    Not <A HREF="starting.html#easy">easy</A> to see that a <A HREF="windows.html#window">window</A> is a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add StatusLineTerm highlighting.
Files:      src/option.c, src/vim.h, src/screen.c, src/syntax.c

Patch 8.0.0826
Problem:    Cannot use text <A HREF="index.html#objects">objects</A> in Terminal mode.
Solution:   Check for pending <A HREF="motion.html#operator">operator</A> and <A HREF="visual.html#Visual">Visual</A> mode first. (Yasuhiro
            Matsumoto, closes #1906)
Files:      src/normal.c

Patch 8.0.0827
Problem:    Coverity: could leak pty file descriptor, theoretically.
Solution:   If <A HREF="channel.html#channel">channel</A> is NULL, free the file descriptors.
Files:      src/os_unix.c

Patch 8.0.0828
Problem:    Coverity: may dereference NULL pointer.
Solution:   Bail out if calloc_state() returns NULL.
Files:      src/regexp_nfa.c

Patch 8.0.0829
Problem:    A <A HREF="channel.html#job">job</A> running in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> cannot easily communicate with
            the Vim <A HREF="motion.html#it">it</A> is running in.
Solution:   Pass <A HREF="eval.html#v:servername">v:servername</A> in an environment variable. (closes #1908)
Files:      src/os_unix.c

Patch 8.0.0830
Problem:    Translating <A HREF="message.html#messages">messages</A> is not ideal.
Solution:   Add a remark about obsolete <A HREF="message.html#messages">messages</A>.  Use msgfmt in the check
            <A HREF="usr_41.html#script">script</A>. (Christian Brabandt)
Files:      src/po/README.txt, src/po/check.vim

Patch 8.0.0831 (after 8.0.0791)
Problem:    With 8 colors the <A HREF="syntax.html#bold">bold</A> attribute is not set properly.
Solution:   Move setting HL_TABLE() out of lookup_color. (closes #1901)
Files:      src/syntax.c, src/proto/syntax.pro, src/terminal.c

Patch 8.0.0832
Problem:    Terminal function arguments are not consistent.
Solution:   Use one-based instead of zero-based rows and cols.  Use &quot;<A HREF="repeat.html#.">.</A>&quot; for
            the current row.
Files:      src/terminal.c, runtime/doc/eval.txt

Patch 8.0.0833
Problem:    Terminal test fails.
Solution:   Update the row argument to one based.
Files:      src/testdir/test_terminal.vim

Patch 8.0.0834
Problem:    Can't build without the <A HREF="remote.html#client-server">client-server</A> feature.
Solution:   Add #ifdef.
Files:      src/os_unix.c

Patch 8.0.0835
Problem:    Translations check with msgfmt does not work.
Solution:   Add a space before the file name.
Files:      src/po/check.vim

Patch 8.0.0836
Problem:    When a <A HREF="terminal.html#terminal">terminal</A> buffer is changed <A HREF="motion.html#it">it</A> can still be accidentally
            abandoned.
Solution:   When making a change reset the <A HREF="options.html#'buftype'">'buftype'</A> option.
Files:      src/terminal.c, src/testdir/test_terminal.vim, src/option.c

Patch 8.0.0837
Problem:    Signs can be drawn on top of console <A HREF="message.html#messages">messages</A>.
Solution:   don't redraw at a prompt or when scrolled up. (Christian Brabandt,
            closes #1907)
Files:      src/screen.c

Patch 8.0.0838
Problem:    Buffer hangs around when <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> is closed.
Solution:   When the <A HREF="channel.html#job">job</A> has ended wipe out a <A HREF="terminal.html#terminal">terminal</A> buffer when the <A HREF="windows.html#window">window</A>
            is closed.
Files:      src/buffer.c, src/terminal.c, src/proto/terminal.pro,
            src/testdir/test_terminal.vim

Patch 8.0.0839
Problem:    Cannot kill a <A HREF="channel.html#job">job</A> in a <A HREF="terminal.html#terminal">terminal</A> with <A HREF="pattern.html#CTRL-C">CTRL-C</A>.
Solution:   Set the controlling tty and send SIGINT. (closes #1910)
Files:      src/os_unix.c, src/terminal.c, src/proto/os_unix.pro

Patch 8.0.0840
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: fopen() and open() prototypes <A HREF="diff.html#do">do</A> not match the ones in
            the system header file.  Can't build without FEAT_MBYTE.
Solution:   Add &quot;const&quot;.  Move <A HREF="map.html#macro">macro</A> to after including protoo.h.
Files:      src/os_win32.c, src/proto/os_win32.pro, src/macros.h, src/vim.h

Patch 8.0.0841
Problem:    <A HREF="eval.html#term_getline()">term_getline()</A> may cause a crash.
Solution:   Check that the row is valid. (Hirohito Higashi)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.0842
Problem:    Using slave pty after closing <A HREF="motion.html#it">it</A>.
Solution:   Do the ioctl() before dup'ing <A HREF="motion.html#it">it</A>.
Files:      src/os_unix.c

Patch 8.0.0843
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: compiler warning for signed/unsigned.
Solution:   Add type cast. (Yasuhiro Matsumoto, closes #1912)
Files:      src/terminal.c

Patch 8.0.0844
Problem:    Wrong function prototype because of missing static.
Solution:   Add &quot;static&quot;.
Files:      src/os_win32.c, src/proto/os_win32.pro

Patch 8.0.0845
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: missing semicolon in <A HREF="terminal.html#terminal">terminal</A> code.
Solution:   Add <A HREF="motion.html#it">it</A>. (Naruhiko Nishino, closes #1923)
Files:      src/terminal.c

Patch 8.0.0846
Problem:    Cannot get the name of the pty of a <A HREF="channel.html#job">job</A>.
Solution:   Add the &quot;tty&quot; entry to the <A HREF="channel.html#job">job</A> info. (Ozaki Kiichi, closes #1920)
            Add the <A HREF="eval.html#term_gettty()">term_gettty()</A> function.
Files:      runtime/doc/eval.txt, src/channel.c, src/os_unix.c, src/structs.h,
            src/terminal.c, src/proto/terminal.pro, src/evalfunc.c,
            src/testdir/test_terminal.vim

Patch 8.0.0847
Problem:    <A HREF="editing.html#:argadd">:argadd</A> without argument can't handle space in file name. (Harm te
            Hennepe)
Solution:   Escape the space. (Yasuhiro Matsumoto, closes #1917)
Files:      src/ex_cmds2.c, src/proto/ex_cmds2.pro,
            src/testdir/test_arglist.vim

Patch 8.0.0848
Problem:    Using multiple ch_log <A HREF="eval.html#functions">functions</A> is clumsy.
Solution:   Use variable arguments. (Ozaki Kiichi, closes #1919)
Files:      src/channel.c, src/message.c, src/proto/channel.pro,
            src/terminal.c

Patch 8.0.0849
Problem:    Crash when <A HREF="channel.html#job">job</A> exit callback wipes the <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Check for b_term to be NULL.  (Yasuhiro Matsumoto, closes #1922)
            Implement <A HREF="options.html#options">options</A> for <A HREF="eval.html#term_start()">term_start()</A> to be able to test.
            Make <A HREF="eval.html#term_wait()">term_wait()</A> more reliable.
Files:      src/terminal.c, src/testdir/test_terminal.vim, src/channel.c

Patch 8.0.0850
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Depending on the console encoding, an error message
            that is given during <A HREF="starting.html#startup">startup</A> may be broken.
Solution:   Convert the message to the console codepage. (Yasuhiro Matsumoto,
            closes #1927)
Files:      src/message.c

Patch 8.0.0851
Problem:    <A HREF="options.html#'smartindent'">'smartindent'</A> is used even when <A HREF="options.html#'indentexpr'">'indentexpr'</A> is set.
Solution:   Ignore <A HREF="options.html#'smartindent'">'smartindent'</A> when <A HREF="options.html#'indentexpr'">'indentexpr'</A> is set. (Hirohito Higashi)
Files:      src/misc1.c, src/testdir/test_smartindent.vim

Patch 8.0.0852 (after 8.0.0850)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: possible crash when giving a message on <A HREF="starting.html#startup">startup</A>.
Solution:   Initialize length. (Yasuhiro Matsumoto, closes #1931)
Files:      src/message.c

Patch 8.0.0853
Problem:    Crash when running <A HREF="terminal.html#terminal">terminal</A> with unknown command.
Solution:   Check &quot;term&quot; not to be NULL. (Yasuhiro Matsumoto, closes #1932)
Files:      src/terminal.c

Patch 8.0.0854
Problem:    No redraw after <A HREF="terminal.html#terminal">terminal</A> was closed.
Solution:   Set typebuf_was_filled. (Yasuhiro Matsumoto, closes #1925, closes
            #1924)  Add function to check for <A HREF="message.html#messages">messages</A> even when input is
            available.
Files:      src/terminal.c, src/os_unix.c, src/proto/os_unix.pro,
            src/os_win32.c, src/proto/os_win32.pro, src/os_mswin.c

Patch 8.0.0855
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: can't get tty name of <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Use the winpty process number. (Yasuhiro Matsumoto, closes #1929)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.0856
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A> doesn't take <A HREF="options.html#options">options</A>.
Solution:   Call job_set_options(). (Yasuhiro Matsumoto)
Files:      src/terminal.c

Patch 8.0.0857
Problem:    Terminal test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Sleep a fraction of a second.
Files:      src/testdir/test_terminal.vim

Patch 8.0.0858
Problem:    Can exit while a <A HREF="terminal.html#terminal">terminal</A> is still running a <A HREF="channel.html#job">job</A>.
Solution:   Consider a buffer with a running <A HREF="channel.html#job">job</A> like a changed file.
Files:      src/undo.c, src/terminal.c, src/option.h, src/buffer.c,
            src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/normal.c,
            src/window.c, src/testdir/test_terminal.vim

Patch 8.0.0859
Problem:    NULL pointer access when term_free_vterm called <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Return when tl_vterm is NULL. (Yasuhiro Matsumoto, closes #1934)
Files:      src/terminal.c

Patch 8.0.0860
Problem:    There may be side effects when a <A HREF="channel.html#channel">channel</A> appends to a buffer that
            is not the current buffer.
Solution:   Properly switch to another buffer before appending. (Yasuhiro
            Matsumoto, closes #1926, closes #1937)
Files:      src/channel.c, src/buffer.c, src/proto/buffer.pro,
            src/if_py_both.h

Patch 8.0.0861
Problem:    Still many old style tests.
Solution:   Convert several tests to new style. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/main.aap, src/testdir/test104.in,
            src/testdir/test104.ok, src/testdir/test22.in,
            src/testdir/test22.ok, src/testdir/test77.in,
            src/testdir/test77.ok, src/testdir/test84.in,
            src/testdir/test84.ok, src/testdir/test9.in, src/testdir/test9.ok,
            src/testdir/test98.in, src/testdir/test98.ok,
            src/testdir/test_autocmd.vim, src/testdir/test_curswant.vim,
            src/testdir/test_file_size.vim, src/testdir/test_let.vim,
            src/testdir/test_lineending.vim, src/testdir/test_scrollbind.vim,
            src/Makefile

Patch 8.0.0862 (after 8.0.0862)
Problem:    File size test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set fileformat after opening new buffer.  Strip CR.
Files:      src/testdir/test_file_size.vim

Patch 8.0.0863
Problem:    A remote command starting with CTRL-\ <A HREF="motion.html#CTRL-N">CTRL-N</A> does not work in the
            <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (Christian <A HREF="change.html#J">J</A>. Robinson)
Solution:   Use CTRL-\ <A HREF="motion.html#CTRL-N">CTRL-N</A> <A HREF="motion.html#as">as</A> a prefix or a <A HREF="intro.html#Normal">Normal</A> mode command.
Files:      src/terminal.c, runtime/doc/terminal.txt

Patch 8.0.0864
Problem:    Cannot specify the name of a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add the &quot;term_name&quot; option. (Yasuhiro Matsumoto, closes #1936)
Files:      src/channel.c, src/structs.h, src/terminal.c, runtime/doc/eval.txt

Patch 8.0.0865
Problem:    Cannot build with <A HREF="channel.html#channel">channel</A> but without <A HREF="terminal.html#terminal">terminal</A> feature.
Solution:   Add #ifdef
Files:      src/channel.c

Patch 8.0.0866
Problem:    Solaris also doesn't have MIN and MAX.
Solution:   Define MIN and MAX whenever they are not defined. (Ozaki Kiichi,
            closes #1939)
Files:      src/terminal.c

Patch 8.0.0867
Problem:    When using a <A HREF="channel.html#job">job</A> or <A HREF="channel.html#channel">channel</A> value <A HREF="motion.html#as">as</A> a <A HREF="eval.html#dict">dict</A> value, when turning <A HREF="motion.html#it">it</A>
            into a <A HREF="eval.html#string">string</A> the <A HREF="quotes.html#quotes">quotes</A> are missing.
Solution:   Add <A HREF="quotes.html#quotes">quotes</A> to the <A HREF="channel.html#job">job</A> and <A HREF="channel.html#channel">channel</A> values. (Yasuhiro Matsumoto,
            closes #1930)
Files:      src/list.c, src/eval.c, src/testdir/test_terminal.vim

Patch 8.0.0868
Problem:    Cannot specify the <A HREF="terminal.html#terminal">terminal</A> size on the command line.
Solution:   Use the address range for the <A HREF="terminal.html#terminal">terminal</A> size. (Yasuhiro Matsumoto,
            closes #1941)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.0869
Problem:    <A HREF="eval.html#Job">Job</A> output is sometimes not displayed in a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Flush output before closing the <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c, src/terminal.c

Patch 8.0.0870
Problem:    Mouse <A HREF="intro.html#escape">escape</A> codes sent to <A HREF="terminal.html#terminal">terminal</A> unintentionally.
Solution:   Fix libvterm to send mouse codes only when enabled.
Files:      src/terminal.c, src/libvterm/src/mouse.c

Patch 8.0.0871
Problem:    The status line for a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> always has &quot;[+]&quot;.
Solution:   Do make the status line include &quot;[+]&quot; for a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Files:      src/screen.c

Patch 8.0.0872
Problem:    Using mouse scroll while a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> has focus and the mouse
            pointer is on another <A HREF="windows.html#window">window</A> does not work.  Same for focus in a
            non-terminal <A HREF="windows.html#window">window</A> and the mouse pointer is over a <A HREF="terminal.html#terminal">terminal</A>
            <A HREF="windows.html#window">window</A>.
Solution:   Send the scroll action to the right <A HREF="windows.html#window">window</A>.
Files:      src/terminal.c, src/normal.c, src/proto/terminal.pro

Patch 8.0.0873
Problem:    In a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> cannot use CTRL-\ <A HREF="motion.html#CTRL-N">CTRL-N</A> to start <A HREF="visual.html#Visual">Visual</A>
            mode.
Solution:   After CTRL-\ <A HREF="motion.html#CTRL-N">CTRL-N</A> enter <A HREF="terminal.html#Terminal-Normal">Terminal-Normal</A> mode for one command.
Files:      src/main.c, src/terminal.c, src/proto/terminal.pro

Patch 8.0.0874 (after 8.0.0873)
Problem:    Can't build with <A HREF="terminal.html#terminal">terminal</A> feature.
Solution:   Include change to term_use_loop(). (Dominique Pelle)
Files:      src/normal.c

Patch 8.0.0875
Problem:    Crash with weird command sequence. (Dominique Pelle)
Solution:   Use vim_snprintf() instead of STRCPY(). 
Files:      src/misc1.c

Patch 8.0.0876
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Backslashes and <A HREF="editing.html#wildcards">wildcards</A> in backticks don't work.
Solution:   Do not handle backslashes inside backticks in the wrong place.
            (Yasuhiro Matsumoto, closes #1942)
Files:      src/os_mswin.c, src/os_win32.c

Patch 8.0.0877
Problem:    Using CTRL-\ <A HREF="motion.html#CTRL-N">CTRL-N</A> in <A HREF="terminal.html#terminal">terminal</A> is inconsistent.
Solution:   Stay in <A HREF="intro.html#Normal">Normal</A> mode.
Files:      src/terminal.c, src/proto/terminal.pro, src/main.c, src/normal.c,
            src/option.c

Patch 8.0.0878
Problem:    No completion for <A HREF="map.html#:mapclear">:mapclear</A>.
Solution:   Add completion (Nobuhiro Takasaki et al. closes #1943)
Files:      runtime/doc/eval.txt, runtime/doc/map.txt, src/ex_docmd.c,
            src/ex_getln.c, src/proto/ex_docmd.pro,
            src/testdir/test_cmdline.vim, src/vim.h

Patch 8.0.0879
Problem:    Crash when shifting with huge number.
Solution:   Check for overflow. (Dominique Pelle, closes #1945)
Files:      src/ops.c, src/testdir/test_visual.vim

Patch 8.0.0880
Problem:    Travis uses an old Ubuntu version.
Solution:   Switch from precise to trusty. (Ken Takata, closes #1897)
Files:      .travis.yml, Filelist, src/testdir/if_ver-1.vim,
            src/testdir/if_ver-2.vim, src/testdir/lsan-suppress.txt

Patch 8.0.0881
Problem:    win32.mak no longer included in Windows SDK.
Solution:   Do not include win32.mak. (Ken Takata)
Files:      src/GvimExt/Makefile, src/Make_mvc.mak

Patch 8.0.0882
Problem:    <A HREF="eval.html#term_scrape()">term_scrape()</A> and <A HREF="eval.html#term_getline()">term_getline()</A> require two arguments but <A HREF="motion.html#it">it</A> is
            not enforced.
Solution:   Correct minimal number of arguments. (Hirohito Higashi)  Update
            documentation. (Ken Takata)
Files:      src/evalfunc.c, runtime/doc/eval.txt

Patch 8.0.0883
Problem:    Invalid memory access with nonsensical <A HREF="usr_41.html#script">script</A>.
Solution:   Check &quot;dstlen&quot; being positive. (Dominique Pelle)
Files:      src/misc1.c

Patch 8.0.0884
Problem:    Can't specify the wait time for <A HREF="eval.html#term_wait()">term_wait()</A>.
Solution:   Add an optional second argument.
Files:      src/evalfunc.c, src/terminal.c, runtime/doc/eval.txt

Patch 8.0.0885
Problem:    Terminal <A HREF="windows.html#window">window</A> scrollback is stored inefficiently.
Solution:   Store the text in the Vim buffer.
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.0886
Problem:    Crash when using &quot;:term ls&quot;.
Solution:   Fix line number computation.  Add a test for this.
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.0887
Problem:    Can create a logfile in the <A HREF="eval.html#sandbox">sandbox</A>.
Solution:   Disable <A HREF="eval.html#ch_logfile()">ch_logfile()</A> in the <A HREF="eval.html#sandbox">sandbox</A>. (Yasuhiro Matsumoto)
Files:      src/evalfunc.c

Patch 8.0.0888
Problem:    Compiler warnings with 64 bit build.
Solution:   Add type cast of change the type. (Mike Williams)
Files:      src/message.c, src/os_mswin.c, src/os_win32.c

Patch 8.0.0889
Problem:    Gcc gives warnings for uninitialized <A HREF="eval.html#variables">variables</A>. (Tony Mechelynck)
Solution:   Initialize <A HREF="eval.html#variables">variables</A> even though they are not used.
Files:      src/terminal.c

Patch 8.0.0890
Problem:    Still many old style tests.
Solution:   Convert several tests to new style. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test103.in, src/testdir/test103.ok,
            src/testdir/test107.in, src/testdir/test107.ok,
            src/testdir/test51.in, src/testdir/test51.ok,
            src/testdir/test91.in, src/testdir/test91.ok,
            src/testdir/test_getvar.vim, src/testdir/test_highlight.vim,
            src/testdir/test_visual.vim, src/testdir/test_window_cmd.vim,
            src/Makefile

Patch 8.0.0891
Problem:    Uninitialized memory use with empty line in <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Initialize growarray earlier. (Yasuhiro Matsumoto, closes #1949)
Files:      src/terminal.c

Patch 8.0.0892
Problem:    When opening a <A HREF="terminal.html#terminal">terminal</A> the pty size doesn't always match.
Solution:   Update the pty size after opening the <A HREF="terminal.html#terminal">terminal</A>. (Ken Takata)
Files:      src/terminal.c

Patch 8.0.0893
Problem:    Cannot get the scroll <A HREF="intro.html#count">count</A> of a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add <A HREF="eval.html#term_getscrolled()">term_getscrolled()</A>.
Files:      src/terminal.c, src/proto/terminal.pro, src/evalfunc.c,
            runtime/doc/eval.txt, src/testdir/test_terminal.vim

Patch 8.0.0894
Problem:    There is no test for runtime <A HREF="filetype.html#filetype">filetype</A> detection.
Solution:   Test a <A HREF="eval.html#list">list</A> of <A HREF="filetype.html#filetypes">filetypes</A> from patterns.
Files:      src/testdir/test_filetype.vim, runtime/filetype.vim

Patch 8.0.0895 (after 8.0.0894)
Problem:    Filetype test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Fix file names.
Files:      src/testdir/test_filetype.vim

Patch 8.0.0896
Problem:    Cannot automatically close a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> when the <A HREF="channel.html#job">job</A> ends.
Solution:   Add the ++close argument to :term.  Add the term_finish option to
            <A HREF="eval.html#term_start()">term_start()</A>. (Yasuhiro Matsumoto, closes #1950)  Also add
            ++open.
Files:      runtime/doc/eval.txt, runtime/doc/terminal.txt, src/channel.c,
            src/structs.h, src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.0897 (after 8.0.0896)
Problem:    Wrong error message for invalid term_finish value
Solution:   Pass the right argument to emsg().
Files:      src/channel.c

Patch 8.0.0898
Problem:    Can't use the alternate screen in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Initialize the alternate screen. (Yasuhiro Matsumoto, closes
            #1957)  Add <A HREF="eval.html#term_getaltscreen()">term_getaltscreen()</A>.
Files:      src/libvterm/include/vterm.h, src/terminal.c,
            src/proto/terminal.pro, src/evalfunc.c, runtime/doc/eval.txt

Patch 8.0.0899
Problem:    Function name mch_stop_job() is confusing.
Solution:   Rename to mch_signal_job().
Files:      src/channel.c, src/os_unix.c, src/proto/os_unix.pro,
            src/os_win32.c, src/proto/os_win32.pro, src/terminal.c

Patch 8.0.0900
Problem:    <A HREF="tabpage.html#:tab">:tab</A> <A HREF="options.html#options">options</A> doesn't open a new <A HREF="intro.html#tab">tab</A> page. (Aviany)
Solution:   Support the <A HREF="tabpage.html#:tab">:tab</A> modifier. (closes #1960)
Files:      src/ex_cmds2.c, runtime/optwin.vim

Patch 8.0.0901
Problem:    Asan suppress file missing from <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add the file.
Files:      Filelist

Patch 8.0.0902
Problem:    Cannot specify directory or environment for a <A HREF="channel.html#job">job</A>.
Solution:   Add the &quot;cwd&quot; and &quot;env&quot; arguments to <A HREF="channel.html#job">job</A> <A HREF="options.html#options">options</A>. (Yasuhiro
            Matsumoto, closes #1160)
Files:      runtime/doc/channel.txt, src/channel.c, src/terminal.c,
            src/os_unix.c, src/os_win32.c, src/structs.h,
            src/testdir/test_channel.vim, src/testdir/test_terminal.vim

Patch 8.0.0903 (after 8.0.0902)
Problem:    Early return from test function.
Solution:   Remove the return.
Files:      src/testdir/test_terminal.vim

Patch 8.0.0904
Problem:    Cannot set a location <A HREF="eval.html#list">list</A> from text.
Solution:   Add the &quot;text&quot; argument to <A HREF="eval.html#setqflist()">setqflist()</A>. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0905
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: broken <A HREF="mbyte.html#multi-byte">multi-byte</A> characters in the console.
Solution:   Restore all regions of the console buffer. (Ken Takata)
Files:      src/os_win32.c

Patch 8.0.0906
Problem:    Don't recognize Couchbase files.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> detection. (Eugene Ciurana, closes #1951)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.0.0907
Problem:    With cp932 font names might be misinterpreted.
Solution:   Do not see &quot;<A HREF="motion.html#_">_</A>&quot; <A HREF="motion.html#as">as</A> a space when <A HREF="motion.html#it">it</A> is the second byte of a double
            byte character. (Ken Takata)
Files:      src/os_win32.c

Patch 8.0.0908
Problem:    Cannot set <A HREF="terminal.html#terminal">terminal</A> size with <A HREF="options.html#options">options</A>.
Solution:   Add &quot;term_rows&quot;, &quot;term_cols&quot; and &quot;vertical&quot;.
Files:      src/terminal.c, runtime/doc/eval.txt, src/channel.c,
            src/proto/channel.pro, src/structs.h, src/evalfunc.c,
            src/testdir/test_terminal.vim

Patch 8.0.0909
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails.
Solution:   Allow for &quot;cwd&quot; and &quot;env&quot; arguments.
Files:      src/channel.c

Patch 8.0.0910
Problem:    Cannot create a <A HREF="terminal.html#terminal">terminal</A> in the current <A HREF="windows.html#window">window</A>.
Solution:   Add option &quot;curwin&quot; and ++curwin.
Files:      src/terminal.c, runtime/doc/eval.txt, src/channel.c,
            src/structs.h, src/ex_cmds.h, src/testdir/test_terminal.vim

Patch 8.0.0911
Problem:    Terminal test takes too long.
Solution:   Instead of &quot;sleep 1&quot; use a <A HREF="if_pyth.html#Python">Python</A> program to briefly sleep.
Files:      src/testdir/test_terminal.vim, src/testdir/test_short_sleep.py

Patch 8.0.0912
Problem:    Cannot run a <A HREF="channel.html#job">job</A> in a hidden <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add option &quot;hidden&quot; and ++hidden.
Files:      src/terminal.c, src/structs.h, src/channel.c, src/fileio.c,
            runtime/doc/terminal.txt, src/testdir/test_terminal.vim

Patch 8.0.0913
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="pattern.html#CTRL-C">CTRL-C</A> kills shell in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> instead of the
            command running in the shell.
Solution:   Make <A HREF="pattern.html#CTRL-C">CTRL-C</A> only send a CTRL_C_EVENT and have CTRL-BREAK kill the
            <A HREF="channel.html#job">job</A>. (partly by Yasuhiro Matsumoto, closes #1962)
Files:      src/os_win32.c, src/gui_w32.c, src/terminal.c, src/globals.h

Patch 8.0.0914
Problem:    Highlight attributes are always combined.
Solution:   Add the '<A HREF="syntax.html#nocombine">nocombine</A>' value to replace attributes instead of
            combining them. (scauligi, closes #1963)
Files:      runtime/doc/syntax.txt, src/syntax.c, src/vim.h

Patch 8.0.0915
Problem:    Wrong initialisation of global.
Solution:   Use INIT().
Files:      src/globals.h

Patch 8.0.0916
Problem:    Cannot specify properties of <A HREF="windows.html#window">window</A> for when opening a <A HREF="windows.html#window">window</A> for
            a finished <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A>.
Solution:   Add &quot;term_opencmd&quot;.
Files:      src/channel.c, src/structs.h, src/terminal.c,
            runtime/doc/eval.txt, src/testdir/test_terminal.vim

Patch 8.0.0917
Problem:    MS-Windows:CTRL-C handling in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> is wrong
Solution:   Pass <A HREF="pattern.html#CTRL-C">CTRL-C</A> <A HREF="motion.html#as">as</A> a key. Turn CTRL-BREAK into a key stroke. (Yasuhiro
            Matsumoto, closes #1965)
Files:      src/os_win32.c, src/terminal.c

Patch 8.0.0918
Problem:    Cannot get <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> cursor shape or attributes.
Solution:   Support cursor shape, attributes and color.
Files:      src/terminal.c, runtime/doc/eval.txt,
            src/libvterm/include/vterm.h, src/libvterm/src/state.c,
            src/libvterm/src/vterm.c, src/feature.h, src/ui.c,
            src/proto/ui.pro, src/term.c, src/proto/term.pro,
            src/option.c, src/term.h

Patch 8.0.0919
Problem:    Cursor color isn't set on <A HREF="starting.html#startup">startup</A>.
Solution:   Initialize showing_mode to invalid value.
Files:      src/term.c

Patch 8.0.0920
Problem:    The cursor shape is wrong after switch back from an alternate
            screen in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (Marius Gedminas)
Solution:   Change bitfield to unsigned.  Set flag that cursor shape was set.
Files:      src/terminal.c, src/libvterm/src/vterm_internal.h

Patch 8.0.0921
Problem:    Terminal <A HREF="windows.html#window">window</A> cursor shape not supported in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Use the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> cursor shape in the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/terminal.c, src/proto/terminal.pro, src/gui.c, src/syntax.c,
            src/proto/syntax.pro

Patch 8.0.0922
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> <A HREF="eval.html#list">list</A> always added after current one.
Solution:   Make <A HREF="motion.html#it">it</A> possible to add a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> after the last one.
            (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.0923
Problem:    Crash in <A HREF="gui.html#GUI">GUI</A> when <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A> exits. (Kazunobu Kuriyama)
Solution:   reset in_terminal_loop when a <A HREF="terminal.html#terminal">terminal</A> is freed.
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.0924
Problem:    Terminal <A HREF="windows.html#window">window</A> not updated after using <A HREF="eval.html#term_sendkeys()">term_sendkeys()</A>.
Solution:   Call redraw_after_callback().
Files:      src/terminal.c

Patch 8.0.0925
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: <A HREF="channel.html#channel">channel</A> I/O not handled right away.
Solution:   Don't call process_message() unless a message is available.
            (Yasuhiro Matsumoto, closes #1969)
Files:      src/gui_w32.c

Patch 8.0.0926
Problem:    When <A HREF="channel.html#job">job</A> in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> ends topline may be wrong.
Solution:   When the <A HREF="channel.html#job">job</A> ends adjust topline so that the active part of the
            <A HREF="terminal.html#terminal">terminal</A> is displayed.
Files:      src/terminal.c

Patch 8.0.0927
Problem:    If a <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A> sends a blank title &quot;running&quot; is not shown.
Solution:   When the title is blank make <A HREF="motion.html#it">it</A> empty.
Files:      src/terminal.c

Patch 8.0.0928
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: passing <A HREF="editing.html#arglist">arglist</A> to <A HREF="channel.html#job">job</A> has escaping problems.
Solution:   Improve escaping. (Yasuhiro Matsumoto, closes #1954)
Files:      src/testdir/test_channel.vim, src/testdir/test_terminal.vim,
            src/channel.c, src/proto/channel.pro, src/terminal.c

Patch 8.0.0929
Problem:    :term without argument does not work.
Solution:   Use shell for empty command. (Yasuhiro Matsumoto, closes #1970)
Files:      src/terminal.c

Patch 8.0.0930
Problem:    Terminal <A HREF="windows.html#buffers">buffers</A> are stored in the <A HREF="starting.html#viminfo">viminfo</A> file while they can't
            be useful.
Solution:   Skip <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#buffers">buffers</A> for file marks and buffer <A HREF="eval.html#list">list</A>
Files:      src/buffer.c, src/mark.c

Patch 8.0.0931
Problem:    <A HREF="eval.html#getwininfo()">getwininfo()</A> does not indicate a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add &quot;<A HREF="terminal.html#terminal">terminal</A>&quot; to the dictionary.
Files:      runtime/doc/eval.txt, src/evalfunc.c

Patch 8.0.0932
Problem:    Terminal may not use right characters for BS and Enter.
Solution:   Get the characters from the tty.
Files:      src/os_unix.c, src/proto/os_unix.pro, src/terminal.c

Patch 8.0.0933
Problem:    Terminal test tries to start <A HREF="gui.html#GUI">GUI</A> when it's not possible.
Solution:   Check if the <A HREF="gui.html#GUI">GUI</A> can run. (James McCoy, closes #1971)
Files:      src/testdir/shared.vim, src/testdir/test_terminal.vim,
            src/testdir/test_gui.vim, src/testdir/test_gui_init.vim

Patch 8.0.0934 (after 8.0.0932)
Problem:    Change to struts.h missing in patch.
Solution:   Include adding ttyinfo_T.
Files:      src/structs.h

Patch 8.0.0935
Problem:    Cannot recognize a <A HREF="terminal.html#terminal">terminal</A> buffer in <A HREF="windows.html#:ls">:ls</A> output.
Solution:   Use <A HREF="change.html#R">R</A> for a running <A HREF="channel.html#job">job</A> and <A HREF="motion.html#F">F</A> for a finished <A HREF="channel.html#job">job</A>.
Files:      src/buffer.c

Patch 8.0.0936
Problem:    Mode() returns wrong value for a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Return '<A HREF="motion.html#t">t</A>' when typed keys go to a <A HREF="channel.html#job">job</A>.
Files:      src/evalfunc.c, src/testdir/test_terminal.vim

Patch 8.0.0937
Problem:    <A HREF="autocmd.html#User">User</A> highlight groups are not adjusted for StatusLineTerm.
Solution:   Combine attributes like for StatusLineNC.
Files:      src/syntax.c, src/globals.h, src/screen.c

Patch 8.0.0938
Problem:    Scrolling in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> is inefficient.
Solution:   Use win_del_lines().
Files:      src/terminal.c

Patch 8.0.0939
Problem:    Test_terminal_env is flaky. (James McCoy)
Solution:   Use WaitFor() instead of <A HREF="eval.html#term_wait()">term_wait()</A>.
Files:      src/testdir/test_terminal.vim

Patch 8.0.0940
Problem:    Test_terminal_scrape_multibyte is flaky. (James McCoy)
Solution:   Use WaitFor() instead of <A HREF="eval.html#term_wait()">term_wait()</A>.
Files:      src/testdir/test_terminal.vim

Patch 8.0.0941
Problem:    Existing color schemes don't work well with StatusLineTerm.
Solution:   Don't use &quot;reverse&quot;, use fg and bg colors.  Also add
            StatusLineTermNC.
Files:      src/syntax.c, src/vim.h, src/screen.c, src/globals.h, src/option.c

Patch 8.0.0942
Problem:    Using freed memory with &quot;<A HREF="terminal.html#:terminal">:terminal</A>&quot; if an <A HREF="autocmd.html#autocommand">autocommand</A> changes
            <A HREF="options.html#'shell'">'shell'</A> when splitting the <A HREF="windows.html#window">window</A>. (Marius Gedminas)
Solution:   Make a copy of <A HREF="options.html#'shell'">'shell'</A>. (closes #1974)
Files:      src/terminal.c

Patch 8.0.0943
Problem:    Test_terminal_scrape_multibyte fails if the codepage is not <A HREF="mbyte.html#utf-8">utf-8</A>.
Solution:   Start &quot;cmd&quot; with the <A HREF="mbyte.html#utf-8">utf-8</A> codepage. (micbou, closes #1975)
Files:      src/testdir/test_terminal.vim

Patch 8.0.0944
Problem:    Test_profile is a little bit flaky.
Solution:   Accept a match when <A HREF="eval.html#self">self</A> and total time are the same. (James
            McCoy, closes #1972)
Files:      src/testdir/test_profile.vim

Patch 8.0.0945
Problem:    64-bit compiler warnings.
Solution:   Use &quot;size_t&quot; instead of &quot;int&quot;. (Mike Williams)
Files:      src/os_win32.c

Patch 8.0.0946
Problem:    Using PATH_MAX does not work well on some systems.
Solution:   use MAXPATHL instead. (James McCoy, closes #1973)
Files:      src/main.c

Patch 8.0.0947
Problem:    When in <A HREF="insert.html#Insert">Insert</A> mode and using <A HREF="motion.html#CTRL-O">CTRL-O</A> <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="index.html#CTRL-W">CTRL-W</A> to move to a
            <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>, get in a weird <A HREF="insert.html#Insert">Insert</A> mode.
Solution:   Don't go to <A HREF="insert.html#Insert">Insert</A> mode in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (closes #1977)
Files:      src/normal.c

Patch 8.0.0948
Problem:    Crash if <A HREF="eval.html#timer">timer</A> closes <A HREF="windows.html#window">window</A> while dragging status line.
Solution:   Check if the <A HREF="windows.html#window">window</A> still exists. (Yasuhiro Matsumoto, closes
            #1979)
Files:      src/edit.c, src/evalfunc.c, src/gui.c, src/normal.c, src/ui.c

Patch 8.0.0949
Problem:    winpty.dll name is fixed.
Solution:   Add the <A HREF="options.html#'winptydll'">'winptydll'</A> option. Make the default name depend on
            whether <A HREF="motion.html#it">it</A> is a 32-bit or 64-bit build. (idea by Yasuhiro
            Matsumoto, closes #1978)
Files:      src/option.c, src/option.h, src/terminal.c,
            runtime/doc/options.txt

Patch 8.0.0950
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: wrong #ifdef, compiler warnings for signed/unsigned.
Solution:   Change variable type. Change TERMINAL to FEAT_TERMINAL.
Files:      src/os_win32.c, src/option.h

Patch 8.0.0951
Problem:    Another wrong #ifdef.
Solution:   Change TERMINAL to FEAT_TERMINAL. (closes #1981)
Files:      src/option.c

Patch 8.0.0952
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: has('terminal') does not check existence of dll file.
Solution:   Check if the winpty dll file can be loaded. (Ken Takata)
Files:      src/evalfunc.c, src/proto/terminal.pro, src/terminal.c

Patch 8.0.0953
Problem:    Get &quot;no write since last change&quot; error in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Use another message when closing a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. Make &quot;:quit!&quot;
            also end the <A HREF="channel.html#job">job</A>.
Files:      src/globals.h, src/buffer.c, src/proto/buffer.pro, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/quickfix.c, src/terminal.c

Patch 8.0.0954
Problem:    /proc/self/exe might be a relative path.
Solution:   Make the path a full path. (James McCoy, closes #1983)
Files:      src/main.c

Patch 8.0.0955
Problem:    Test_existent_file() fails on some file systems.
Solution:   Run the test again with a sleep when the test fails without a
            sleep. (James McCoy, closes #1984)
Files:      src/testdir/test_stat.vim

Patch 8.0.0956
Problem:    Scrolling in a <A HREF="terminal.html#terminal">terminal</A> hwindow <A HREF="motion.html#as">as</A> flicker when the <A HREF="intro.html#Normal">Normal</A>
            background differs from the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> background.
Solution:   Set the attribute to clear with.
Files:      src/terminal.c, src/screen.c, src/proto/screen.pro, src/message.c,
            src/move.c

Patch 8.0.0957
Problem:    When <A HREF="eval.html#term_sendkeys()">term_sendkeys()</A> sends many keys <A HREF="motion.html#it">it</A> may get stuck in <A HREF="editing.html#writing">writing</A>
            to the <A HREF="channel.html#job">job</A>.
Solution:   Make the write non-blocking, buffer keys to be sent.
Files:      src/terminal.c, src/channel.c, src/proto/channel.pro,
            src/structs.h src/testdir/test_terminal.vim

Patch 8.0.0958
Problem:    The <A HREF="terminal.html#terminal">terminal</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> when compiled with the
            <A HREF="terminal.html#terminal">terminal</A> feature but the winpty DLL is missing.
Solution:   Check if the <A HREF="terminal.html#terminal">terminal</A> feature works. (Ken Takata)
Files:      src/testdir/test_terminal.vim

Patch 8.0.0959
Problem:    Build failure on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use ioctlsocket() instead of fcntl().
Files:      src/channel.c

Patch 8.0.0960
Problem:    <A HREF="eval.html#Job">Job</A> in <A HREF="terminal.html#terminal">terminal</A> does not get <A HREF="pattern.html#CTRL-C">CTRL-C</A>, we send a SIGINT instead.
Solution:   Don't call may_send_sigint() on <A HREF="pattern.html#CTRL-C">CTRL-C</A>.  Make <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="pattern.html#CTRL-C">CTRL-C</A> end
            the <A HREF="channel.html#job">job</A>.
Files:      src/terminal.c, runtime/doc/terminal.txt

Patch 8.0.0961
Problem:    The <A HREF="usr_41.html#script">script</A> to build the installer does not include winpty.
Solution:   Add winpty32.dll and winpty-agent.exe like diff.exe
Files:      nsis/gvim.nsi

Patch 8.0.0962
Problem:    Crash with virtualedit and joining lines. (Joshua <A HREF="motion.html#T">T</A> Corbin, Neovim
            #6726)
Solution:   When using a <A HREF="motion.html#mark">mark</A> check that coladd is valid.
Files:      src/normal.c, src/misc2.c, src/Makefile,
            src/testdir/test_virtualedit.vim, src/testdir/test_alot.vim

Patch 8.0.0963
Problem:    Terminal test fails on MacOS. (chdiza)
Solution:   Wait for the shell to echo the characters. (closes #1991)
Files:      src/testdir/test_terminal.vim

Patch 8.0.0964
Problem:    <A HREF="eval.html#Channel">Channel</A> write buffer does not work with poll().
Solution:   Use the same mechanism <A HREF="motion.html#as">as</A> with select().
Files:      src/channel.c

Patch 8.0.0965
Problem:    The cursor shape is not reset after <A HREF="motion.html#it">it</A> was changed in a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Request the original cursor shape and restore <A HREF="motion.html#it">it</A>.  Add <A HREF="term.html#t_RS">t_RS</A>.
            Do not add <A HREF="term.html#t_SH">t_SH</A> for now, <A HREF="motion.html#it">it</A> does not work properly.
Files:      src/term.c, src/term.h, src/option.c, src/terminal.c

Patch 8.0.0966 (after 8.0.0965)
Problem:    Build failure without <A HREF="terminal.html#terminal">terminal</A> feature.
Solution:   Move #endif.
Files:      src/term.c

Patch 8.0.0967
Problem:    Using a <A HREF="terminal.html#terminal">terminal</A> may cause the cursor to blink.
Solution:   Do not set <A HREF="term.html#t_vs">t_vs</A>, since we cannot restore the old blink state.
Files:      src/term.c

Patch 8.0.0968
Problem:    Crash when switching <A HREF="terminal.html#terminal">terminal</A> modes. (Nikolai Pavlov)
Solution:   Check that there are scrollback lines.
Files:      src/terminal.c

Patch 8.0.0969
Problem:    Coverity warning for unused return value.
Solution:   Add (void) to avoid the warning.
Files:      src/channel.c

Patch 8.0.0970
Problem:    if there is no StatusLine highlighting and there is StatusLineNC
            or StatusLineTermNC highlighting then an invalid highlight id is
            passed to combine_stl_hlt(). (Coverity)
Solution:   Check id_S to be -1 instead of zero.
Files:      src/syntax.c

Patch 8.0.0971
Problem:    <A HREF="options.html#'winptydll'">'winptydll'</A> missing from <A HREF="options.html#:options">:options</A>.
Solution:   Add the entry.
Files:      runtime/optwin.vim

Patch 8.0.0972
Problem:    Compiler warnings for unused <A HREF="eval.html#variables">variables</A>. (Tony Mechelynck)
Solution:   Add #ifdefs.
Files:      src/term.c

Patch 8.0.0973
Problem:    initial info about blinking cursor is wrong
Solution:   Invert the blink flag.  Add <A HREF="term.html#t_VS">t_VS</A> to stop a blinking cursor.
Files:      src/term.c, src/proto/term.pro, src/term.h, src/option.c,
            src/terminal.c

Patch 8.0.0974
Problem:    Resetting a <A HREF="eval.html#string">string</A> option does not trigger <A HREF="autocmd.html#OptionSet">OptionSet</A>. (Rick Howe)
Solution:   Set the origval.
Files:      src/option.c, src/testdir/test_autocmd.vim

Patch 8.0.0975
Problem:    Using freed memory when setting <A HREF="options.html#'backspace'">'backspace'</A>.
Solution:   When <A HREF="change.html#changing">changing</A> oldval also change origval.
Files:      src/option.c

Patch 8.0.0976
Problem:    Cannot send lines to a <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A>.
Solution:   Make [range]terminal send selected lines to the <A HREF="channel.html#job">job</A>.
            Use ++rows and ++cols for the <A HREF="terminal.html#terminal">terminal</A> size.
Files:      src/ex_cmds.h, src/terminal.c, src/os_unix.c,
            src/testdir/test_terminal.vim

Patch 8.0.0977
Problem:    Cannot send lines to a <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set jv_in_buf.  Command doesn't get EOF yet though.
Files:      src/terminal.c

Patch 8.0.0978
Problem:    Writing to <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A> is not tested.
Solution:   Add a test.
Files:      src/testdir/test_terminal.vim

Patch 8.0.0979
Problem:    Terminal noblock test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Christian Brabandt)
Solution:   Ignore empty line below &quot;done&quot;.
Files:      src/testdir/test_terminal.vim

Patch 8.0.0980
Problem:    Coverity warning for failing to open /dev/null.
Solution:   When /dev/null can't be opened exit the child.
Files:      src/os_unix.c

Patch 8.0.0981
Problem:    Cursor in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> blinks by default, while in a real xterm
            <A HREF="motion.html#it">it</A> does not blink, unless the -bc argument is used.
Solution:   Do not use a blinking cursor by default.
Files:      src/terminal.c

Patch 8.0.0982
Problem:    When <A HREF="options.html#'encoding'">'encoding'</A> is set to a <A HREF="mbyte.html#multi-byte">multi-byte</A> encoding other than <A HREF="mbyte.html#utf-8">utf-8</A>
            the characters from their <A HREF="terminal.html#terminal">terminal</A> are messed up.
Solution:   Convert displayed text from <A HREF="mbyte.html#utf-8">utf-8</A> to <A HREF="options.html#'encoding'">'encoding'</A> for <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
            (Yasuhiro Matsumoto, close #2000)
Files:      src/terminal.c

Patch 8.0.0983
Problem:    Unnecessary check for NULL pointer.
Solution:   Remove the NULL check in dialog_changed(), <A HREF="motion.html#it">it</A> already happens in
            dialog_msg(). (Ken Takata)
Files:      src/ex_cmds2.c

Patch 8.0.0984
Problem:    Terminal blinking cursor not correct in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Set blinkoff correctly.  Also make the cursor blink on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>
            by default. (Ken Takata)
Files:      src/terminal.c

Patch 8.0.0985
Problem:    Libvterm has its own idea of character width.
Solution:   Use the Vim <A HREF="eval.html#functions">functions</A> for character width and composing to avoid a
            mismatch. (idea by Yasuhiro Matsumoto)
Files:      src/Makefile, src/libvterm/src/unicode.c, src/mbyte.c,
            src/proto/mbyte.pro, src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.0.0986
Problem:    Terminal feature always requires <A HREF="mbyte.html#multi-byte">multi-byte</A> feature.
Solution:   Remove #ifdef FEAT_MBYTE, disable <A HREF="terminal.html#terminal">terminal</A> without <A HREF="mbyte.html#multi-byte">multi-byte</A>.
Files:      src/terminal.c, src/feature.h

Patch 8.0.0987
Problem:    <A HREF="terminal.html#terminal">terminal</A>: second byte of double-byte char wrong
Solution:   Set the second byte to NUL only for <A HREF="mbyte.html#utf-8">utf-8</A> and non-multibyte.
Files:      src/terminal.c

Patch 8.0.0988
Problem:    Warning from Covscan about using NULL pointer.
Solution:   Add extra check for NULL. (zdohnal)
Files:      src/fileio.c, src/undo.c

Patch 8.0.0989
Problem:    ActiveTcl dll name has changed in 8.6.6.
Solution:   Adjust the makefile. (Ken Takata)
Files:      src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.0.0990
Problem:    When <A HREF="options.html#'encoding'">'encoding'</A> is a double-byte encoding, pasting a <A HREF="sponsor.html#register">register</A> into
            a <A HREF="terminal.html#terminal">terminal</A> ends up with the wrong characters.
Solution:   Convert from <A HREF="options.html#'encoding'">'encoding'</A> to <A HREF="mbyte.html#utf-8">utf-8</A>. (Yasuhiro Matsumoto, closes
            #2007)
Files:      src/terminal.c

Patch 8.0.0991
Problem:    Using wrong character conversion for DBCS.
Solution:   Use utf_char2bytes instead of mb_char2bytes. (Yasuhiro Matsumoto,
            closes #2012)
Files:      src/terminal.c

Patch 8.0.0992
Problem:    Terminal title is wrong when <A HREF="options.html#'encoding'">'encoding'</A> is DBCS.
Solution:   Convert the title from DBCS to <A HREF="mbyte.html#utf-8">utf-8</A>. (Yasuhiro Matsumoto, closes
            #2009)
Files:      src/terminal.c

Patch 8.0.0993
Problem:    Sometimes an xterm sends an extra <A HREF="change.html#CTRL-X">CTRL-X</A> after the response for
            the background color.  Related to <A HREF="term.html#t_RS">t_RS</A>.
Solution:   Check for the <A HREF="change.html#CTRL-X">CTRL-X</A> after the terminating 0x7.
Files:      src/term.c

Patch 8.0.0994
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cursor in <A HREF="terminal.html#terminal">terminal</A> blinks even though the blinking
            cursor was disabled on the system.
Solution:   Use GetCaretBlinkTime(). (Ken Takata)
Files:      src/terminal.c

Patch 8.0.0995
Problem:    Terminal tests fail on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Add workaround: sleep a moment in between sending keys.
Files:      src/testdir/test_terminal.vim

Patch 8.0.0996
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: <A HREF="term.html#t_RS">t_RS</A> is echoed on the screen in Terminal.app.  Even though
            $TERM is set to &quot;xterm-256colors&quot; <A HREF="motion.html#it">it</A> cannot handle this xterm
            <A HREF="intro.html#escape">escape</A> sequence.
Solution:   Recognize Terminal.app from the termresponse and skip sending <A HREF="term.html#t_RS">t_RS</A>
            if <A HREF="motion.html#it">it</A> looks like Terminal.app.
Files:      src/term.c

Patch 8.0.0997 (after 8.0.0996)
Problem:    Libvterm and Terminal.app not recognized from termresponse.
Solution:   Adjust <A HREF="eval.html#string">string</A> compare.
Files:      src/term.c

Patch 8.0.0998
Problem:    Strange error when using <A HREF="various.html#K">K</A> while only spaces are selected.
            (Christian <A HREF="change.html#J">J</A>. Robinson)
Solution:   Check for blank argument.
Files:      src/normal.c, src/testdir/test_help.vim

Patch 8.0.0999
Problem:    Indenting raw C++ strings is wrong.
Solution:   Add special handling of raw strings. (Christian Brabandt)
Files:      src/misc1.c, src/testdir/test_cindent.vim

Patch 8.0.1000
Problem:    Cannot open a <A HREF="terminal.html#terminal">terminal</A> without running a <A HREF="channel.html#job">job</A> in <A HREF="motion.html#it">it</A>.
Solution:   Make &quot;<A HREF="terminal.html#:terminal">:terminal</A> NONE&quot; open a <A HREF="terminal.html#terminal">terminal</A> with a pty.
Files:      src/terminal.c, src/os_unix.c, src/proto/os_unix.pro,
            src/channel.c, src/proto/channel.pro, src/structs.h,
            src/testdir/test_terminal.c, src/misc2.c, src/gui_gtk_x11.c

Patch 8.0.1001
Problem:    Setting <A HREF="options.html#'encoding'">'encoding'</A> makes <A HREF="options.html#'printheader'">'printheader'</A> invalid.
Solution:   Do not translate the default value of <A HREF="options.html#'printheader'">'printheader'</A>. (Yasuhiro
            Matsumoto, closes #2026)
Files:      src/option.c

Patch 8.0.1002
Problem:    Unnecessarily updating screen after <A HREF="eval.html#timer">timer</A> callback.
Solution:   Check if calling the <A HREF="eval.html#timer">timer</A> sets must_redraw.
Files:      src/ex_cmds2.c, src/channel.c, src/screen.c, src/proto/screen.pro,
            src/terminal.c

Patch 8.0.1003
Problem:    64 bit compiler warning
Solution:   Add type cast. (Mike Williams)
Files:      src/channel.c

Patch 8.0.1004
Problem:    Matchstrpos() without a match returns too many items.
Solution:   Also remove the second item when the position is beyond the end of
            the <A HREF="eval.html#string">string</A>. (Hirohito Higashi)  Use an enum for the type.
Files:      src/evalfunc.c, src/testdir/test_match.vim

Patch 8.0.1005
Problem:    Terminal without <A HREF="channel.html#job">job</A> updates slowly in <A HREF="gui.html#GUI">GUI</A>.
Solution:   Poll for input when a <A HREF="channel.html#channel">channel</A> has the keep_open flag.
Files:      src/channel.c, src/proto/channel.pro, src/gui_gtk_x11.c

Patch 8.0.1006
Problem:    Cannot parse text with <A HREF="options.html#'errorformat'">'errorformat'</A> without <A HREF="change.html#changing">changing</A> a <A HREF="quickfix.html#quickfix">quickfix</A>
            <A HREF="eval.html#list">list</A>.
Solution:   Add the &quot;text&quot; argument to <A HREF="eval.html#getqflist()">getqflist()</A>. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/proto/quickfix.pro,
            src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1007
Problem:    No test for <A HREF="filetype.html#filetype">filetype</A> detection for scripts.
Solution:   Add a first test file <A HREF="usr_41.html#script">script</A> <A HREF="filetype.html#filetype">filetype</A> detection.
Files:      src/testdir/test_filetype.vim, runtime/scripts.vim

Patch 8.0.1008
Problem:    Slow updating of <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> in <A HREF="gui_x11.html#Motif">Motif</A>.
Solution:   Add a timeout to the wait-for-character loop.
Files:      src/gui_x11.c

Patch 8.0.1009
Problem:    Xterm cursor blinking status may be inverted.
Solution:   Use another request to get the blink status and compare with the
            cursor style report
Files:      src/term.c, src/proto/term.pro, src/term.h, src/option.c,
            src/terminal.c

Patch 8.0.1010 (after 8.0.1009)
Problem:    Build failure without termresponse feature.
Solution:   Add #ifdef.
Files:      src/term.c

Patch 8.0.1011
Problem:    Terminal test fails with <A HREF="gui_x11.html#Athena">Athena</A> and <A HREF="gui_x11.html#Motif">Motif</A>.
Solution:   Ignore the error for the input context. (Kazunobu Kuriyama)
Files:      src/testdir/test_terminal.vim

Patch 8.0.1012
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Problem with <A HREF="options.html#$HOME">$HOME</A> when <A HREF="motion.html#it">it</A> was set internally.
Solution:   Only use the <A HREF="options.html#$HOME">$HOME</A> default internally. (Yasuhiro Matsumoto, closes
            #2013)
Files:      src/misc1.c, src/testdir/Make_all.mak, src/Makefile,
            src/testdir/test_windows_home.vim

Patch 8.0.1013
Problem:    A <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> with a running <A HREF="channel.html#job">job</A> behaves different from a
            <A HREF="windows.html#window">window</A> containing a changed buffer.
Solution:   Do not set <A HREF="options.html#'bufhidden'">'bufhidden'</A> to &quot;hide&quot;.  Fix that a buffer where a
            <A HREF="terminal.html#terminal">terminal</A> used to run is listed <A HREF="motion.html#as">as</A> &quot;[Scratch]&quot;.
Files:      src/terminal.c, runtime/doc/terminal.txt, src/buffer.c

Patch 8.0.1014
Problem:    Old compiler doesn't know uint32_t. Warning for using NULL instead
            of NUL.
Solution:   Use UINT32_T.  Use NUL instead of NULL.
Files:      src/mbyte.c, src/proto/mbyte.pro, src/misc1.c

Patch 8.0.1015 (after 8.0.1013)
Problem:    Missing update to <A HREF="terminal.html#terminal">terminal</A> test.
Solution:   Add the changes to the test.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1016
Problem:    <A HREF="gui_x11.html#Gnome">Gnome</A> <A HREF="terminal.html#terminal">terminal</A> echoes <A HREF="term.html#t_RC">t_RC</A>.
Solution:   Detect <A HREF="gui_x11.html#Gnome">Gnome</A> <A HREF="terminal.html#terminal">terminal</A> by the version <A HREF="eval.html#string">string</A>.  Add <A HREF="eval.html#v:">v:</A> <A HREF="eval.html#variables">variables</A> for
            all the term responses.
Files:      src/term.c, src/eval.c, src/vim.h, runtime/doc/eval.txt

Patch 8.0.1017
Problem:    Test for <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="options.html#$HOME">$HOME</A> always passes.
Solution:   Rename the test function.  Make the test pass.
Files:      src/testdir/test_windows_home.vim

Patch 8.0.1018
Problem:    Warnings from 64-bit compiler. (Christian Brabandt)
Solution:   Add type casts.
Files:      src/terminal.c

Patch 8.0.1019
Problem:    Pasting in virtual edit happens in the wrong place.
Solution:   Do not adjust coladd when after the end of the line (closes #2015)
Files:      src/testdir/test_virtualedit.vim, src/misc2.c

Patch 8.0.1020
Problem:    When a <A HREF="eval.html#timer">timer</A> calls getchar(1) input is overwritten.
Solution:   Increment tb_change_cnt in inchar(). (closes #1940)
Files:      src/getchar.c

Patch 8.0.1021
Problem:    Older <A HREF="gui_x11.html#Gnome">Gnome</A> <A HREF="terminal.html#terminal">terminal</A> still echoes <A HREF="term.html#t_RC">t_RC</A>. (Franois Ingelrest)
Solution:   Check for version <A HREF="change.html#&gt;">&gt;</A> 3000 instead of 4000.
Files:      src/term.c

Patch 8.0.1022
Problem:    Test 80 is old style.
Solution:   Turn <A HREF="motion.html#it">it</A> into a new style test. (Yegappan Lakshmanan)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test80.in, src/testdir/test80.ok,
            src/testdir/test_substitute.vim

Patch 8.0.1023
Problem:    It is not <A HREF="starting.html#easy">easy</A> to identify a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Add the &quot;id&quot; field. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1024
Problem:    Manual <A HREF="fold.html#folds">folds</A> are lost when a session file has the same buffer in
            two <A HREF="windows.html#windows">windows</A>. (Jeansen)
Solution:   Use &quot;<A HREF="editing.html#:edit">:edit</A>&quot; only once. (Christian Brabandt, closes #1958)
Files:      src/ex_docmd.c, src/testdir/test_mksession.vim

Patch 8.0.1025
Problem:    Stray copy command in test.
Solution:   Remove the copy command.
Files:      src/testdir/test_mksession.vim

Patch 8.0.1026
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> on-the-spot input has problems. (Gerd Wachsmuth)
Solution:   Support over-the-spot. (Yukihiro Nakadaira, Ken Takata, closes
            #1215)
Files:      runtime/doc/mbyte.txt, runtime/doc/options.txt, src/edit.c,
            src/ex_getln.c, src/mbyte.c, src/misc1.c, src/option.c,
            src/option.h, src/screen.c, src/undo.c,
            src/testdir/gen_opt_test.vim

Patch 8.0.1027
Problem:    More terminals can't handle requesting cursor mode.
Solution:   Recognize Putty. (Hirohito Higashi)  Also include Xfce in the
            version check. (Dominique Pelle)  Recognize Konsole.
Files:      src/term.c

Patch 8.0.1028
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="starting.html#viminfo">viminfo</A> uses $VIM/_viminfo if <A HREF="options.html#$HOME">$HOME</A> not set. (Yongwei
            Wu)
Solution:   Use vim_getenv() but check it's returning the default &quot;C:/&quot;.
Files:      src/ex_cmds.c

Patch 8.0.1029
Problem:    Return value of <A HREF="eval.html#getqflist()">getqflist()</A> is inconsistent.  (Lcd47)
Solution:   Always return an &quot;items&quot; entry.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1030
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: wrong size computation in is_cygpty().
Solution:   Compute the size properly. (Ken Takata)
Files:      src/iscygpty.c, src/iscygpty.h

Patch 8.0.1031
Problem:    &quot;text&quot; argument for <A HREF="eval.html#getqflist()">getqflist()</A> is confusing. (Lcd47)
Solution:   Use &quot;lines&quot; instead. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1032
Problem:    &quot;make tags&quot; doesn't work well on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add or fix <A HREF="tagsrch.html#tags">tags</A> target. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.0.1033
Problem:    Detecting background color does not work in screen, even when <A HREF="motion.html#it">it</A>
            is working like an xterm.
Solution:   Make &quot;screen.xterm&quot; use <A HREF="term.html#termcap">termcap</A> entries like an xterm. (Lubomir
            Rintel, closes #2048)  When termresponse version is huge also
            recognize <A HREF="motion.html#as">as</A> not being an xterm.
Files:      src/os_unix.c, src/term.c

Patch 8.0.1034
Problem:    Sending buffer lines to <A HREF="terminal.html#terminal">terminal</A> doesn't work on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Send <A HREF="scroll.html#CTRL-D">CTRL-D</A> to <A HREF="motion.html#mark">mark</A> the end of the text. (Yasuhiro Matsumoto,
            closes #2043) Add the &quot;eof_chars&quot; option.
Files:      src/channel.c, src/proto/terminal.pro, src/terminal.c,
            src/testdir/test_terminal.vim, src/structs.h

Patch 8.0.1035
Problem:    Sending buffer lines to <A HREF="terminal.html#terminal">terminal</A> doesn't work on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use CR instead of NL after every line.  Make the EOF text work
            properly.  Add the ++eof argument to <A HREF="terminal.html#:terminal">:terminal</A>.
Files:      src/structs.h, src/channel.c, src/terminal.c,
            runtime/doc/terminal.txt, runtime/doc/eval.txt

Patch 8.0.1036
Problem:    ++eof argument for <A HREF="terminal.html#terminal">terminal</A> only available on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Also support ++eof on <A HREF="os_unix.html#Unix">Unix</A>.  Add a test.
Files:      src/channel.c, src/terminal.c, src/structs.h,
            src/testdir/test_terminal.vim

Patch 8.0.1037
Problem:    &quot;icase&quot; of <A HREF="options.html#'diffopt'">'diffopt'</A> is not used for highlighting differences.
Solution:   Also use &quot;icase&quot;. (Rick Howe)
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 8.0.1038
Problem:    Strike-through text not supported.
Solution:   Add support for the &quot;<A HREF="syntax.html#strikethrough">strikethrough</A>&quot; attribute. (Christian
            Brabandt, Ken Takata)
Files:      runtime/doc/eval.txt, runtime/doc/options.txt,
            runtime/doc/syntax.txt, runtime/doc/term.txt, src/evalfunc.c,
            src/gui.c, src/gui.h, src/gui_gtk_x11.c, src/gui_mac.c,
            src/gui_w32.c, src/gui_x11.c, src/option.c, src/screen.c,
            src/syntax.c, src/term.c, src/term.h, src/terminal.c, src/vim.h

Patch 8.0.1039
Problem:    Cannot change a line in a buffer other than the current one.
Solution:   Add <A HREF="eval.html#setbufline()">setbufline()</A>. (Yasuhiro Matsumoto, Ozaki Kiichi, closes #1953)
Files:      src/evalfunc.c, runtime/doc/eval.txt, src/Makefile,
            src/testdir/test_bufline.vim, src/testdir/test_alot.vim


Patch 8.0.1040
Problem:    Cannot use another error format in <A HREF="eval.html#getqflist()">getqflist()</A>.
Solution:   Add the &quot;efm&quot; argument to <A HREF="eval.html#getqflist()">getqflist()</A>. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1041
Problem:    Bogus characters appear when indenting kicks in while doing a
            <A HREF="visual.html#visual-block">visual-block</A> append.
Solution:   Recompute when indenting is done. (Christian Brabandt)
Files:      runtime/doc/visual.txt, src/charset.c, src/edit.c, src/misc1.c,
            src/ops.c, src/proto/charset.pro, src/proto/misc1.pro,
            src/screen.c, src/spell.c, src/testdir/test_cindent.vim

Patch 8.0.1042 (after 8.0.1038)
Problem:    Without the <A HREF="syntax.html#syntax">syntax</A> feature highlighting doesn't work.
Solution:   Always use unsigned short to store attributes.
Files:      src/vim.h

Patch 8.0.1043
Problem:    Warning for uninitialized variable. (John Marriott)
Solution:   Move code to check indent inside &quot;if&quot;.
Files:      src/ops.c

Patch 8.0.1044
Problem:    Warning for uninitialized variable. (John Marriott)
Solution:   Initialize ind_pre.
Files:      src/ops.c

Patch 8.0.1045
Problem:    Running tests may pollute shell <A HREF="cmdline.html#history">history</A>. (Manuel Ortega)
Solution:   Make $HISTFILE empty.
Files:      src/testdir/setup.vim

Patch 8.0.1046
Problem:    Code duplication in <A HREF="diff.html#diff">diff</A> mode.
Solution:   Use diff_equal_char() also in diff_cmp(). (Rick Howe)
Files:      src/diff.c

Patch 8.0.1047
Problem:    Buffer overflow in <A HREF="if_ruby.html#Ruby">Ruby</A>.
Solution:   Allocate one more byte. (Dominique Pelle)
Files:      src/if_ruby.c

Patch 8.0.1048
Problem:    No test for what 8.0.1020 fixes.
Solution:   Add <A HREF="eval.html#test_feedinput()">test_feedinput()</A>.  Add a test. (Ozaki Kiichi, closes #2046)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_timers.vim,
            src/ui.c

Patch 8.0.1049
Problem:    Shell on <A HREF="os_mac.html#Mac">Mac</A> can't handle long text, making <A HREF="terminal.html#terminal">terminal</A> test fail.
Solution:   Only write 1000 characters instead of 5000.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1050
Problem:    Terminal <A HREF="windows.html#window">window</A> feature not included by default.
Solution:   Include the <A HREF="terminal.html#terminal">terminal</A> feature for the &quot;huge&quot; build.
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1051
Problem:    Cannot run <A HREF="terminal.html#terminal">terminal</A> with spaces in argument.
Solution:   Accept <A HREF="intro.html#backslash">backslash</A> to <A HREF="intro.html#escape">escape</A> space and other characters. (closes
            #1999)
Files:      src/os_unix.c, src/testdir/test_terminal.vim

Patch 8.0.1052
Problem:    <A HREF="eval.html#term_start()">term_start()</A> does not allow in_io, out_io and err_io <A HREF="options.html#options">options</A>.
Solution:   Add JO_OUT_IO to get_job_options().
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1053
Problem:    <A HREF="eval.html#setline()">setline()</A> does not work on <A HREF="starting.html#startup">startup</A>. (Manuel Ortega)
Solution:   Do not check for ml_mfp to be set for the current buffer.
            (Christian Brabandt)
Files:      src/testdir/shared.vim, src/testdir/test_alot.vim,
            src/testdir/test_bufline.vim, src/testdir/test_timers.vim,
            src/evalfunc.c

Patch 8.0.1054
Problem:    Terminal test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Disable the redirection test for now.  Improve scrape test to make
            <A HREF="motion.html#it">it</A> <A HREF="various.html#less">less</A> flaky.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1055
Problem:    Bufline test hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Avoid message for <A HREF="editing.html#writing">writing</A> file.  Source shared.vim when running
            test individually.
Files:      src/testdir/test_bufline.vim, src/testdir/test_timers.vim

Patch 8.0.1056
Problem:    Cannot build with the <A HREF="diff.html#diff">diff</A> feature but without the <A HREF="mbyte.html#multi-byte">multi-byte</A>
            feature.
Solution:   Remove #ifdefs. (John Marriott)
Files:      src/diff.c

Patch 8.0.1057
Problem:    Terminal scrape test waits too long, <A HREF="motion.html#it">it</A> checks for one instead of
            three.
Solution:   Check there are three characters. (micbou)
Files:      src/testdir/test_terminal.vim

Patch 8.0.1058
Problem:    Terminal redirection test is flaky.
Solution:   Wait for <A HREF="channel.html#job">job</A> to finish.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1059
Problem:    older <A HREF="gui_x11.html#Gnome">Gnome</A> <A HREF="terminal.html#terminal">terminal</A> returns smaller version number. (antarestrue)
Solution:   Lower version limit from 2800 to 2500. (#2032)
Files:      src/term.c

Patch 8.0.1060
Problem:    When imstyle is zero, <A HREF="map.html#mapping">mapping</A> <A HREF="motion.html#&lt;Left&gt;">&lt;Left&gt;</A> breaks preediting.
Solution:   Pass though preediting key-events. (Yasuhiro Matsumoto, closes
            #2064, closes #2063)
Files:      src/getchar.c, src/mbyte.c

Patch 8.0.1061
Problem:    Coverity: no check for NULL command.
Solution:   Check for NULL <A HREF="eval.html#list">list</A> item.
Files:      src/terminal.c

Patch 8.0.1062
Problem:    Coverity warnings in libvterm.
Solution:   Add (void) to avoid warning for not checking return value.
            Add &quot;break&quot; before &quot;<A HREF="change.html#case">case</A>&quot;.
Files:      src/libvterm/src/screen.c, src/libvterm/src/state.c

Patch 8.0.1063
Problem:    Coverity warns for NULL check and using variable pointer <A HREF="motion.html#as">as</A> an
            array.
Solution:   Remove the NULL check.  Make &quot;argvar&quot; an array.
Files:      src/terminal.c

Patch 8.0.1064
Problem:    Coverity warns for leaking resource.
Solution:   Free pty_master_fd on failure.
Files:      src/os_unix.c

Patch 8.0.1065
Problem:    Not all <A HREF="map.html#macro">macro</A> examples are included in the self-installing
            executable. (lkintact)
Solution:   Add the directories to the NSIS <A HREF="usr_41.html#script">script</A>. (closes #2065)
Files:      nsis/gvim.nsi

Patch 8.0.1066
Problem:    Some terminals can't handle requesting cursor mode. (Steven
            Hartland)
Solution:   Recognize vandyke SecureCRT. (closes #2008)
Files:      src/term.c

Patch 8.0.1067
Problem:    Using try/catch in <A HREF="eval.html#timer">timer</A> does not prevent <A HREF="motion.html#it">it</A> from being stopped.
Solution:   Reset the exception context and use did_emsg instead of
            called_emsg.
Files:      src/ex_cmds2.c, src/testdir/test_timers.vim, src/globals.h,
            src/message.c

Patch 8.0.1068 (after 8.0.1066)
Problem:    Vandyke SecureCRT <A HREF="terminal.html#terminal">terminal</A> can't handle cursor mode request.
            (Steven Hartland)
Solution:   Fix pointer computation. (closes #2008)
Files:      src/term.c

Patch 8.0.1069
Problem:    Still get <A HREF="change.html#CTRL-X">CTRL-X</A> sometimes for <A HREF="term.html#t_RS">t_RS</A> request.
Solution:   Also skip 0x18 after a key code response.
Files:      src/term.c

Patch 8.0.1070
Problem:    Terminal test is flaky on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Add Test_terminal_noblock() to <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.1071
Problem:    $TERM names starting with &quot;putty&quot; and &quot;cygwin&quot; are likely to have
            a dark background, but are not recognized.
Solution:   Only check the first few characters of $TERM to match &quot;putty&quot; or
            &quot;cygwin&quot;. (Christian Brabandt)
Files:      src/option.c

Patch 8.0.1072
Problem:    The <A HREF="syntax.html#:highlight">:highlight</A> command causes a redraw even when nothing changed.
Solution:   Only set &quot;need_highlight_changed&quot; when an attribute changed.
Files:      src/syntax.c

Patch 8.0.1073
Problem:    May get an endless loop if <A HREF="options.html#'statusline'">'statusline'</A> changes a highlight.
Solution:   Do not let evaluating <A HREF="options.html#'statusline'">'statusline'</A> trigger a redraw.
Files:      src/buffer.c

Patch 8.0.1074
Problem:    &quot;:term NONE&quot; does not work on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work.  Split &quot;pty&quot; into &quot;pty_in&quot; and &quot;pty_out&quot;. (Yasuhiro
            Matsumoto, closes #2058, closes #2045)
Files:      runtime/doc/eval.txt,
            runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            src/channel.c, src/evalfunc.c, src/os_unix.c, src/structs.h,
            src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1075
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: mouse does not work in <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Force the winpty mouse on. (Yasuhiro Matsumoto, closes #2072)
Files:      src/terminal.c

Patch 8.0.1076
Problem:    <A HREF="eval.html#term_start()">term_start()</A> does not take callbacks. When using two terminals
            without a <A HREF="channel.html#job">job</A> only one is read from.  A <A HREF="terminal.html#terminal">terminal</A> without a <A HREF="windows.html#window">window</A>
            returns the wrong pty.
Solution:   Support &quot;callback&quot;, &quot;<A HREF="channel.html#out_cb">out_cb</A>&quot; and &quot;<A HREF="channel.html#err_cb">err_cb</A>&quot;.  Fix <A HREF="terminal.html#terminal">terminal</A> without a
            <A HREF="windows.html#window">window</A>. Fix reading from multiple channels.
Files:      src/terminal.c, src/proto/terminal.pro, src/channel.c, 

Patch 8.0.1077
Problem:    No debugger making use of the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add the term debugger <A HREF="usr_05.html#plugin">plugin</A>.  So far only displays the current
            line when stopped.
Files:      Filelist, runtime/pack/dist/opt/termdebug/plugin/termdebug.vim

Patch 8.0.1078
Problem:    Using freed memory with &quot;<A HREF="syntax.html#:hi">:hi</A> Normal&quot;.
Solution:   Get &quot;item&quot; again after updating the table.
Files:      src/syntax.c

Patch 8.0.1079
Problem:    Memory leak when <A HREF="eval.html#remote_foreground()">remote_foreground()</A> fails.
Solution:   Free the error message.
Files:      src/evalfunc.c, src/if_xcmdsrv.c

Patch 8.0.1080
Problem:    Memory leak for eof_chars <A HREF="terminal.html#terminal">terminal</A> option and buffer name.
Solution:   Free <A HREF="channel.html#job">job</A> <A HREF="options.html#options">options</A>. Free the buffer name
Files:      src/terminal.c

Patch 8.0.1081
Problem:    Memory leak for the <A HREF="channel.html#channel">channel</A> write queue.
Solution:   Free the write queue when clearing a <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c

Patch 8.0.1082
Problem:    Tests fail when run under <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Increase waiting times.
Files:      src/testdir/test_clientserver.vim, src/testdir/test_terminal.vim

Patch 8.0.1083
Problem:    Leaking memory in input part of <A HREF="channel.html#channel">channel</A>.
Solution:   Clear the input part of <A HREF="channel.html#channel">channel</A>.  Free the entry. Move failing
            command test to a separate file to avoid bogus leak reports
            clouding tests that should not leak.
Files:      src/channel.c, src/testdir/test_terminal.vim, src/Makefile,
            src/testdir/test_terminal_fail.vim, src/testdir/Make_all.mak

Patch 8.0.1084
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> build has compiler warnings. (Christian Brabandt)
Solution:   Get screen size with a different function. (Ken Takata, Yasuhiro
            Matsumoto)
Files:      src/mbyte.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,
            src/gui_beval.c

Patch 8.0.1085
Problem:    The <A HREF="terminal.html#terminal">terminal</A> debugger can't set breakpoints.
Solution:   Add <A HREF="terminal.html#:Break">:Break</A> and :Delete commands.  Also commands for stepping
            through code.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/terminal.txt

Patch 8.0.1086 (after 8.0.1084)
Problem:    Can't build with <A HREF="gui_x11.html#GTK">GTK</A> 3.
Solution:   Rename function argument. (Kazunobu Kuriyama)
Files:      src/gui_gtk_x11.c

Patch 8.0.1087
Problem:    Test_terminal_cwd is flaky. <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="eval.html#term_start()">term_start()</A> &quot;cwd&quot;
            argument does not work.
Solution:   Wait for the condition to be true instead of using a sleep.
            Pass the directory to winpty.
Files:      src/testdir/test_terminal.vim, src/terminal.c

Patch 8.0.1088
Problem:    Occasional memory use after free.
Solution:   Use the highlight table directly, don't keep a pointer.
Files:      src/syntax.c

Patch 8.0.1089
Problem:    Cannot get range <A HREF="intro.html#count">count</A> in user command.
Solution:   Add <A HREF="map.html#&lt;range&gt;">&lt;range&gt;</A> argument.
Files:      src/ex_docmd.c, runtime/doc/map.txt

Patch 8.0.1090
Problem:    cannot get the text under the cursor like <A HREF="eval.html#v:beval_text">v:beval_text</A>
Solution:   Add <A HREF="cmdline.html#&lt;cexpr&gt;">&lt;cexpr&gt;</A>.
Files:      src/ex_docmd.c, src/testdir/test_normal.vim,
            runtime/doc/cmdline.txt

Patch 8.0.1091 (after 8.0.1090)
Problem:    Test for <A HREF="cmdline.html#&lt;cexpr&gt;">&lt;cexpr&gt;</A> fails without <A HREF="various.html#+balloon_eval">+balloon_eval</A> feature.
Solution:   Remove #ifdefs.
Files:      src/normal.c

Patch 8.0.1092
Problem:    Terminal debugger can't evaluate expressions.
Solution:   Add <A HREF="terminal.html#:Evaluate">:Evaluate</A> and <A HREF="various.html#K">K</A>.  Various other improvements.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/terminal.txt

Patch 8.0.1093
Problem:    Various small <A HREF="quickfix.html#quickfix">quickfix</A> issues.
Solution:   Remove &quot;<A HREF="cmdline.html#:">:</A>&quot; prefix from title set by a user. Add the qf_id2nr().
            function. Add a couple more tests.  Update documentation.
            (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/evalfunc.c,
            src/proto/quickfix.pro, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1094
Problem:    Using ssh from Terminal.app runs into xterm incompatibility.
Solution:   Also detect Terminal.app on non-Mac systems.
Files:      src/term.c

Patch 8.0.1095
Problem:    Terminal <A HREF="mbyte.html#multibyte">multibyte</A> scrape test is flaky.
Solution:   Add another condition to wait for.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1096
Problem:    Terminal <A HREF="windows.html#window">window</A> in <A HREF="intro.html#Normal">Normal</A> mode has wrong background.
Solution:   Store the default background and use <A HREF="motion.html#it">it</A> for clearing until the
            end of the line.  Not for below the last line, since there is no
            text there.
Files:      src/screen.c, src/terminal.c

Patch 8.0.1097 (after 8.0.1096)
Problem:    Background color wrong if <A HREF="channel.html#job">job</A> changes background color.
Solution:   Get the background color from vterm.
Files:      src/terminal.c, src/screen.c

Patch 8.0.1098
Problem:    Build failure if libvterm installed on the system. (Oleh
            Hushchenkov)
Solution:   Change the CCCTERM argument order. (Ken Takata, closes #2080)
Files:      src/Makefile

Patch 8.0.1099
Problem:    Warnings for GDK calls.
Solution:   Use other calls for <A HREF="gui_x11.html#GTK">GTK</A> 3 and fix a few problems. (Kazunobu
            Kuriyama)
Files:      src/mbyte.c

Patch 8.0.1100
Problem:    Stuck in redraw loop when <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> is set.
Solution:   Don't loop on update_screen() when not redrawing. (Yasuhiro
            Matsumoto, closes #2082)
Files:      src/terminal.c, src/screen.c, src/proto/screen.pro

Patch 8.0.1101
Problem:    <A HREF="eval.html#Channel">Channel</A> write fails if <A HREF="editing.html#writing">writing</A> to log fails.
Solution:   Ignore return value of fwrite(). (Ozaki Kiichi, closes #2081)
Files:      src/channel.c

Patch 8.0.1102
Problem:    Terminal <A HREF="windows.html#window">window</A> does not use <A HREF="intro.html#Normal">Normal</A> colors.
Solution:   For the <A HREF="gui.html#GUI">GUI</A> and when <A HREF="options.html#'termguicolors'">'termguicolors'</A> is enabled, use the actual
            foreground and background colors for the <A HREF="terminal.html#terminal">terminal</A>.  (Yasuhiro
            Matsumoto, closes #2067)
            Use the &quot;Terminal&quot; highlight group if defined.
Files:      src/terminal.c, src/syntax.c, src/proto/syntax.pro

Patch 8.0.1103 (after 8.0.1102)
Problem:    Converting cterm color fails for grey ramp.
Solution:   Use index instead of number.
Files:      src/terminal.c

Patch 8.0.1104
Problem:    The qf_jump() function is too long.
Solution:   Split of parts to separate <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.1105
Problem:    <A HREF="eval.html#match()">match()</A> and <A HREF="eval.html#matchend()">matchend()</A> are not tested.
Solution:   Add tests. (Ozaki Kiichi, closes #2088)
Files:      src/testdir/test_functions.vim, src/testdir/test_match.vim

Patch 8.0.1106
Problem:    Terminal colors on an <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console are not matching the
            normal colors.
Solution:   Use the normal colors for the <A HREF="terminal.html#terminal">terminal</A>. (Yasuhiro Matsumoto,
            closes #2087)
Files:      src/terminal.c

Patch 8.0.1107
Problem:    Terminal debugger jumps to non-existing file.
Solution:   Check that the file exists.  Add an option to make the Vim width
            wide. Fix removing highlight groups.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/terminal.txt

Patch 8.0.1108
Problem:    Cannot specify mappings for the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add the <A HREF="map.html#:tmap">:tmap</A> command and associated code.  (Jacob Askeland,
            closes #2073)
Files:      runtime/doc/map.txt, runtime/doc/terminal.txt, src/ex_cmdidxs.h,
            src/ex_cmds.h, src/ex_docmd.c, src/getchar.c, src/gui.c,
            src/terminal.c, src/testdir/test_terminal.vim, src/vim.h,
            src/proto/terminal.pro, src/main.c, src/evalfunc.c

Patch 8.0.1109
Problem:    Timer causes error on exit from <A HREF="intro.html#Ex">Ex</A> mode. (xtal8)
Solution:   save and restore the ex_pressedreturn flag. (Christian Brabandt,
            closes #2079)
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/ex_cmds2.c,
            src/testdir/test_timers.vim

Patch 8.0.1110
Problem:    FORTIFY_SOURCE from <A HREF="if_perl.html#Perl">Perl</A> causes problems. (Scott Baker)
Solution:   Filter out the flag. (Christian Brabandt, closes #2068)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1111
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> error in configure when using <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Add missing <A HREF="change.html#quote">quote</A>
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1112
Problem:    Can't get size or current index from <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Add &quot;idx&quot; and &quot;size&quot; <A HREF="options.html#options">options</A>. (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1113
Problem:    Can go to <A HREF="insert.html#Insert">Insert</A> mode from <A HREF="terminal.html#Terminal-Normal">Terminal-Normal</A> mode.
Solution:   Prevent <A HREF="insert.html#:startinsert">:startinsert</A> and &quot;VA&quot; to enter <A HREF="insert.html#Insert">Insert</A> mode. (Yasuhiro
            Matsumoto, closes #2092)
Files:      src/normal.c

Patch 8.0.1114
Problem:    Default for <A HREF="options.html#'iminsert'">'iminsert'</A> is annoying.
Solution:   Make the default always zero. (Yasuhiro Matsumoto, closes #2071)
Files:      src/option.c, runtime/doc/options.txt

Patch 8.0.1115
Problem:    Crash when using <A HREF="eval.html#foldtextresult()">foldtextresult()</A> recursively.
Solution:   Avoid recursive calls. (Yasuhiro Matsumoto, closes #2098)
Files:      src/evalfunc.c, src/testdir/test_fold.vim

Patch 8.0.1116
Problem:    Terminal test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Wait for the text to appear. (micbou, closes #2097)
Files:      src/testdir/test_terminal.vim

Patch 8.0.1117
Problem:    Test_terminal_no_cmd hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with <A HREF="gui.html#GUI">GUI</A>. (Christian
            Brabandt)
Solution:   Run the command with &quot;start&quot; and wait for the text to appear.
            (micbou, closes #2096)
Files:      src/testdir/test_terminal.vim

Patch 8.0.1118
Problem:    FEAT_WINDOWS adds a lot of #ifdefs while <A HREF="motion.html#it">it</A> is nearly always
            enabled and only adds 7&#37; to the binary size of the tiny build.
Solution:   Graduate FEAT_WINDOWS.
Files:      src/feature.h, src/window.c, src/vim.h, src/structs.h,
            src/globals.h, src/gui.h, src/if_py_both.h, src/option.h,
            src/term.h, src/buffer.c, src/charset.c, src/digraph.c,
            src/edit.c, src/eval.c, src/evalfunc.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/fileio.c,
            src/fold.c, src/getchar.c, src/gui.c, src/gui_athena.c,
            src/gui_beval.c, src/gui_gtk.c, src/gui_motif.c, src/gui_w32.c,
            src/if_cscope.c, src/if_lua.c, src/if_mzsch.c, src/if_python.c,
            src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/main.c,
            src/mark.c, src/memline.c, src/misc1.c, src/misc2.c, src/move.c,
            src/netbeans.c, src/normal.c, src/option.c, src/popupmnu.c,
            src/quickfix.c, src/screen.c, src/search.c, src/spell.c,
            src/syntax.c, src/tag.c, src/term.c, src/ui.c, src/version.c,
            src/workshop.c, src/if_perl.xs, src/testdir/test_normal.vim

Patch 8.0.1119
Problem:    Quitting a split <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> kills the <A HREF="channel.html#job">job</A>. (Yasuhiro
            Matsumoto)
Solution:   Only stop <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A> if <A HREF="motion.html#it">it</A> is the last <A HREF="windows.html#window">window</A>.
Files:      src/buffer.c, src/testdir/test_terminal.vim

Patch 8.0.1120 (after 8.0.1108)
Problem:    <A HREF="gui.html#:tm">:tm</A> means <A HREF="map.html#:tmap">:tmap</A> instead of <A HREF="gui.html#:tmenu">:tmenu</A>. (Taro Muraoka)
Solution:   Move the new entry below the old entry. (closes #2102)
Files:      src/ex_cmds.h, runtime/doc/map.txt

Patch 8.0.1121
Problem:    Can uncheck executables in <A HREF="os_win32.html#MS-Windows">MS-Windows</A> installer.
Solution:   Make the choice read-only. (Ken Takata, closes #2106)
Files:      nsis/gvim.nsi

Patch 8.0.1122
Problem:    vimtutor.bat doesn't work well with vim.bat.
Solution:   Use &quot;call vim&quot;. (Ken Takata, closes #2105)
Files:      vimtutor.bat

Patch 8.0.1123
Problem:    Cannot define a toolbar for a <A HREF="windows.html#window">window</A>.
Solution:   Add a window-local toolbar.
Files:      src/syntax.c, src/proto/syntax.pro, src/structs.h, src/menu.c,
            src/proto/menu.pro, src/testdir/test_winbar.vim, src/Makefile,
            src/normal.c, src/testdir/Make_all.mak, src/if_perl.xs,
            src/eval.c, src/evalfunc.c, src/window.c, src/ui.c,
            src/terminal.c, src/screen.c,
            runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/gui.txt, runtime/doc/terminal.txt

Patch 8.0.1124
Problem:    Use of MZSCHEME_VER is unclear.
Solution:   Add a comment. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.0.1125
Problem:    Wrong <A HREF="windows.html#window">window</A> height when splitting <A HREF="windows.html#window">window</A> with <A HREF="windows.html#window">window</A> toolbar.
Solution:   Add or subtract the <A HREF="windows.html#window">window</A> toolbar height.
Files:      src/window.c

Patch 8.0.1126
Problem:    Endless resize when <A HREF="terminal.html#terminal">terminal</A> showing in two <A HREF="windows.html#buffers">buffers</A>. (Hirohito
            Higashi)
Solution:   Set a flag to prevent resizing the <A HREF="windows.html#window">window</A>.
Files:      src/terminal.c

Patch 8.0.1127
Problem:    Test_peek_and_get_char fails on 32 bit system. (Elimar
            Riesebieter)
Solution:   Avoid an integer overflow. (James McCoy, closes #2116)
Files:      src/ex_cmds2.c

Patch 8.0.1128
Problem:    Old xterm sends <A HREF="change.html#CTRL-X">CTRL-X</A> in response to <A HREF="term.html#t_RS">t_RS</A>.
Solution:   Only send <A HREF="term.html#t_RS">t_RS</A> for xterm 279 and later.  Remove the workaround to
            ignore <A HREF="change.html#CTRL-X">CTRL-X</A>.
Files:      src/term.c

Patch 8.0.1129
Problem:    Window toolbar missing a part of the patch.
Solution:   Add change in vim.h.
Files:      src/vim.h

Patch 8.0.1130
Problem:    The qf_jump() function is still too long.
Solution:   Split of parts to separate <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.1131
Problem:    It is not <A HREF="starting.html#easy">easy</A> to trigger an <A HREF="autocmd.html#autocommand">autocommand</A> for new <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
            (Marco Restelli)
Solution:   Trigger <A HREF="autocmd.html#BufWinEnter">BufWinEnter</A> after setting <A HREF="options.html#'buftype'">'buftype'</A>.
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1132
Problem:    #if condition is not portable.
Solution:   Add defined(). (Zuloloxi, closes #2136)
Files:      src/libvterm/src/vterm.c

Patch 8.0.1133
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> timeout not used correctly.
Solution:   Do not pass the timeout to syntax_start() but set <A HREF="motion.html#it">it</A> explicitly.
            (Yasuhiro Matsumoto, closes #2139)
Files:      src/proto/syntax.pro, src/screen.c, src/syntax.c

Patch 8.0.1134
Problem:    Superfluous call to syn_get_final_id().
Solution:   Remove <A HREF="motion.html#it">it</A>. (Ken Takata)
Files:      src/syntax.c

Patch 8.0.1135
Problem:    W_WINCOL() is always the same.
Solution:   Expand the <A HREF="map.html#macro">macro</A>.
Files:      src/edit.c, src/ex_docmd.c, src/gui_gtk.c, src/gui_w32.c,
            src/netbeans.c, src/popupmnu.c, src/screen.c, src/term.c,
            src/terminal.c, src/ui.c, src/window.c, src/if_py_both.h,
            src/structs.h, src/vim.h

Patch 8.0.1136
Problem:    W_WIDTH() is always the same.
Solution:   Expand the <A HREF="map.html#macro">macro</A>.
Files:      src/charset.c, src/edit.c, src/evalfunc.c, src/ex_cmds.c,
            src/ex_docmd.c, src/getchar.c, src/gui.c, src/gui_beval.c,
            src/gui_mac.c, src/if_lua.c, src/if_mzsch.c, src/if_py_both.h,
            src/if_ruby.c, src/misc1.c, src/misc2.c, src/move.c, src/normal.c,
            src/popupmnu.c, src/quickfix.c, src/screen.c, src/search.c,
            src/structs.h, src/ui.c, src/vim.h, src/window.c

Patch 8.0.1137 (after 8.0.1136)
Problem:    Cannot build with <A HREF="if_ruby.html#Ruby">Ruby</A>.
Solution:   Fix misplaced brace.
Files:      src/if_ruby.c

Patch 8.0.1138
Problem:    Click in <A HREF="windows.html#window">window</A> toolbar starts <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Add the MOUSE_WINBAR flag.
Files:      src/ui.c, src/vim.h, src/normal.c

Patch 8.0.1139
Problem:    Using <A HREF="windows.html#window">window</A> toolbar changes state.
Solution:   Always execute <A HREF="windows.html#window">window</A> toolbar actions in <A HREF="intro.html#Normal">Normal</A> mode.
Files:      runtime/doc/gui.txt, src/structs.h, src/ex_docmd.c,
            src/proto/ex_docmd.pro, src/menu.c

Patch 8.0.1140
Problem:    Still old style tests.
Solution:   Convert two tests to new style. (Yegappan Lakshmanan)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test56.in, src/testdir/test56.ok,
            src/testdir/test57.in, src/testdir/test57.ok,
            src/testdir/test_sort.vim, src/testdir/test_vimscript.vim

Patch 8.0.1141
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> build dependencies are incomplete.
Solution:   Fix the dependencies. (Ken Takata)
Files:      src/Make_cyg.mak, src/Make_cyg_ming.mak, src/Make_ming.mak,
            src/Make_mvc.mak

Patch 8.0.1142
Problem:    Window toolbar menu gets a tear-off item.
Solution:   Recognize the <A HREF="windows.html#window">window</A> toolbar.
Files:      src/menu.c

Patch 8.0.1143
Problem:    Macros always expand to the same thing.
Solution:   Remove W_VSEP_WIDTH() and W_STATUS_HEIGHT().
Files:      src/vim.h, src/structs.h, src/gui.c, src/ex_getln.c, src/screen.c

Patch 8.0.1144
Problem:    Using wrong #ifdef for computing length.
Solution:   use BACKSLASH_IN_FILENAME instead of COLON_IN_FILENAME. (Yasuhiro
            Matsumoto, closes #2153)
Files:      src/quickfix.c

Patch 8.0.1145
Problem:    Warning when compiling with <A HREF="if_perl.html#Perl">Perl</A>.
Solution:   Remove unused variable. (Ken Takata)
Files:      src/if_perl.xs

Patch 8.0.1146
Problem:    Redraw when highlight is set with same names. (Ozaki Kiichi)
Solution:   Only free and save a name when <A HREF="motion.html#it">it</A> changed. (closes #2120)
Files:      src/syntax.c

Patch 8.0.1147
Problem:    Fail to build with tiny features. (Tony Mechelynck)
Solution:   Move #ifdefs.
Files:      src/syntax.c

Patch 8.0.1148
Problem:    &quot;<A HREF="visual.html#gN">gN</A>&quot; doesn't work on last match with <A HREF="options.html#'wrapscan'">'wrapscan'</A> off. (fcpg)
Solution:   Adjust for searching backward. (Christian Brabandt)
Files:      src/search.c, src/testdir/test_gn.vim

Patch 8.0.1149
Problem:    libvterm colors differ from xterm.
Solution:   Use the xterm colors for libvterm.
Files:      src/terminal.c, src/libvterm/src/pen.c,
            src/testdir/xterm_ramp.vim, Filelist

Patch 8.0.1150
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: <A HREF="gui_w32.html#dialog">dialog</A> font size is incorrect.
Solution:   Pass flag to indicate <A HREF="options.html#'encoding'">'encoding'</A> or active codepage. (Yasuhiro
            Matsumoto, closes #2160)
Files:      src/gui_w32.c

Patch 8.0.1151
Problem:    &quot;vim <A HREF="starting.html#-c">-c</A> startinsert!&quot; doesn't append.
Solution:   Correct line number on <A HREF="starting.html#startup">startup</A>. (Christian Brabandt, closes #2117)
Files:      src/ex_docmd.c, src/testdir/test_startup.vim

Patch 8.0.1152
Problem:    Encoding of error message wrong in Cygwin <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Get <A HREF="mbyte.html#locale">locale</A> from environment <A HREF="eval.html#variables">variables</A>. (Ken Takata)
Files:      src/main.c, src/mbyte.c, src/proto/mbyte.pro

Patch 8.0.1153
Problem:    No tests for <A HREF="eval.html#diff_hlID()">diff_hlID()</A> and <A HREF="eval.html#diff_filler()">diff_filler()</A>.
Solution:   Add tests. (Dominique Pelle, closes #2156)
Files:      src/testdir/test_diffmode.vim

Patch 8.0.1154
Problem:    <A HREF="options.html#'indentkeys'">'indentkeys'</A> does not work properly. (Gary Johnson)
Solution:   Get the cursor line again. (Christian Brabandt, closes #2151)
Files:      src/edit.c, src/testdir/test_edit.vim

Patch 8.0.1155
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> command triggers a warning when RUBYOPT is set to &quot;<A HREF="starting.html#-w">-w</A>&quot;.
Solution:   use &quot;-e_=0&quot; instead of &quot;-e0&quot;. (Masataka Pocke Kuwabara, closes
            #2143)
Files:      src/if_ruby.c

Patch 8.0.1156
Problem:    Removing one <A HREF="starting.html#-W">-W</A> argument from <A HREF="if_perl.html#Perl">Perl</A> CFLAGS may cause trouble.
Solution:   Remove all <A HREF="starting.html#-W">-W</A> flags. (Christian Brabandt)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1157
Problem:    Compiler warning on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add type cast. (Yasuhiro Matsumoto)
Files:      src/main.c

Patch 8.0.1158
Problem:    Still old style tests.
Solution:   Convert several tests to new style. (Yegappan Lakshmanan)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/main.aap, src/testdir/test33.in,
            src/testdir/test33.ok, src/testdir/test41.in,
            src/testdir/test41.ok, src/testdir/test43.in,
            src/testdir/test43.ok, src/testdir/test53.in,
            src/testdir/test53.ok, src/testdir/test_file_size.vim,
            src/testdir/test_lispwords.vim, src/testdir/test_search.vim,
            src/testdir/test_textobjects.vim

Patch 8.0.1159
Problem:    Typo in #ifdef.
Solution:   Change &quot;PROT&quot; to &quot;PROTO&quot;. (Nobuhiro Takasaki, closes #2165)
Files:      src/syntax.c

Patch 8.0.1160
Problem:    Getting tab-local variable fails after closing <A HREF="windows.html#window">window</A>.
Solution:   set tp_firstwin and tp_lastwin. (Jason Franklin, closes #2170)
Files:      src/window.c, src/evalfunc.c, src/testdir/test_getvar.vim

Patch 8.0.1161
Problem:    Popup menu drawing problem when resizing <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Redraw after resizing also when a popup menu is visible. (Ozaki
            Kiichi, closes #2110)
Files:      src/popupmnu.c, src/term.c, src/testdir/shared.vim,
            src/testdir/test_popup.vim

Patch 8.0.1162
Problem:    Shared <A HREF="usr_41.html#script">script</A> for tests cannot be included <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Include <A HREF="motion.html#it">it</A> where needed, <A HREF="motion.html#it">it</A> will &quot;finish&quot; if loaded again.
Files:      src/testdir/test_alot.vim, src/testdir/test_bufline.vim,
            src/testdir/test_timers.vim

Patch 8.0.1163
Problem:    Popup test is flaky.
Solution:   Add a WaitFor() and fix another.
Files:      src/testdir/test_popup.vim

Patch 8.0.1164
Problem:    Changing StatusLine highlight while evaluating <A HREF="options.html#'statusline'">'statusline'</A> may
            not change the status line color.
Solution:   When <A HREF="change.html#changing">changing</A> highlighting while redrawing don't cause another
            redraw. (suggested by Ozaki Kiichi, closes #2171, closes #2120)
Files:      src/buffer.c, src/syntax.c

Patch 8.0.1165
Problem:    Popup test is still flaky.
Solution:   Add a <A HREF="eval.html#term_wait()">term_wait()</A> call. (Ozaki Kiichi)
Files:      src/testdir/test_popup.vim

Patch 8.0.1166
Problem:    <A HREF="terminal.html#:terminal">:terminal</A> doesn't work on <A HREF="os_mac.html#Mac">Mac</A> High Sierra.
Solution:   Change #ifdef for OpenPTY(). (Ozaki Kiichi, Kazunobu Kuriyama,
            closes #2162)
Files:      src/pty.c

Patch 8.0.1167
Problem:    <A HREF="gui_x11.html#Motif">Motif</A>: typing in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> is slow.
Solution:   Do not redraw the whole <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> but only what was changed.
Files:      src/terminal.c

Patch 8.0.1168
Problem:    wrong highlighting with combination of match and <A HREF="options.html#'cursorline'">'cursorline'</A>.
Solution:   Use &quot;line_attr&quot; when appropriate. (Ozaki Kiichi, closes #2111)
            But don't highlight more than one character.
Files:      src/screen.c, src/testdir/test_highlight.vim,
            src/testdir/view_util.vim

Patch 8.0.1169
Problem:    Highlighting one char too many with <A HREF="options.html#'list'">'list'</A> and <A HREF="options.html#'cul'">'cul'</A>.
Solution:   Check for <A HREF="options.html#'list'">'list'</A> being active. (Ozaki Kiichi, closes #2177)
Files:      src/screen.c, src/testdir/test_highlight.vim

Patch 8.0.1170
Problem:    Using termdebug results in 100&#37; CPU time. (tomleb)
Solution:   Use polling instead of select().
Files:      src/os_unix.c, src/channel.c, src/proto/channel.pro

Patch 8.0.1171
Problem:    Popup test is still a bit flaky.
Solution:   Change <A HREF="eval.html#term_wait()">term_wait()</A> calls. (Ozaki Kiichi)
Files:      src/testdir/test_popup.vim

Patch 8.0.1172
Problem:    When <A HREF="eval.html#E734">E734</A> is given option is still set.
Solution:   Assign NULL to &quot;<A HREF="change.html#s">s</A>&quot;. (Christian Brabandt)
Files:      src/eval.c, src/testdir/test_assign.vim

Patch 8.0.1173
Problem:    Terminal <A HREF="windows.html#window">window</A> is not redrawn after <A HREF="various.html#CTRL-L">CTRL-L</A>. (Marcin Szamotulski)
Solution:   Redraw the whole <A HREF="terminal.html#terminal">terminal</A> when w_redr_type is NOT_VALID.
Files:      src/terminal.c

Patch 8.0.1174
Problem:    <A HREF="os_mac.html#Mac">Mac</A> Terminal.app has wrong color for white.
Solution:   Use white from the color cube.
Files:      src/globals.h, src/term.c, src/syntax.c

Patch 8.0.1175 (after  8.0.1174)
Problem:    Build failure without <A HREF="various.html#+termresponse">+termresponse</A>.
Solution:   Add #ifdef.
Files:      src/syntax.c

Patch 8.0.1176
Problem:    Job_start() does not handle <A HREF="change.html#quote">quote</A> and <A HREF="intro.html#backslash">backslash</A> correctly.
Solution:   Remove <A HREF="quotes.html#quotes">quotes</A>, recognize and remove backslashes.
Files:      src/testdir/test_channel.vim, src/os_unix.c

Patch 8.0.1177
Problem:    In a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> the popup menu is not cleared. (Gerry
            Agbobada)
Solution:   Redraw when SOME_VALID is used instead of NOT_VALID. (closes
            #2194)
Files:      src/terminal.c

Patch 8.0.1178
Problem:    Using old compiler on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Switch default build on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> to use MSVC 2015. (Ken Takata)
Files:      src/msvc2015.bat, src/INSTALLpc.txt, src/GvimExt/Makefile,
            src/Make_mvc.mak, src/tee/Make_mvc.mak, src/xxd/Make_mvc.mak

Patch 8.0.1179
Problem:    Test_popup_and_window_resize() does not always pass.
Solution:   Do not use $VIMPROG, pass the Vim executable in the vimcmd file.
            (Ozaki Kiichi, closes #2186)
Files:      src/testdir/Makefile, src/testdir/shared.vim,
            src/testdir/test_popup.vim

Patch 8.0.1180
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> testclean target deletes the color <A HREF="usr_41.html#script">script</A>.
Solution:   Rename the <A HREF="usr_41.html#script">script</A> file.
Files:      src/testdir/xterm_ramp.vim, src/testdir/color_ramp.vim

Patch 8.0.1181
Problem:    Tests using Vim command fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do not add <A HREF="quotes.html#quotes">quotes</A> around the Vim command.
Files:      src/testdir/Make_dos.mak, src/testdir/Make_ming.mak

Patch 8.0.1182
Problem:    Cannot see or change <A HREF="if_mzsch.html#mzscheme">mzscheme</A> dll name.
Solution:   Add <A HREF="options.html#'mzschemedll'">'mzschemedll'</A> and <A HREF="options.html#'mzschemegcdll'">'mzschemegcdll'</A>.
Files:      src/if_mzsch.c, src/option.h, src/option.c,
            runtime/doc/if_mzsch.txt

Patch 8.0.1183
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> build instructions are outdated.
Solution:   Update instructions for MSVC 2015.  Update the build <A HREF="usr_41.html#script">script</A>.
Files:      Filelist, Makefile, src/INSTALLpc.txt, src/bigvim.bat

Patch 8.0.1184
Problem:    The <A HREF="motion.html#:marks">:marks</A> command is not tested.
Solution:   Add a test. (Dominique Pelle, closes #2197)
Files:      src/testdir/test_marks.vim

Patch 8.0.1185
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> library includes minor version number.
Solution:   Only use the API version number. (Ben Boeckel, closes #2199)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1186
Problem:    Still quite a few old style tests.
Solution:   Convert old to new style tests. (Yegappan Lakshmanan)
            Avoid ringing the bell while running tests.
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_vms.mms, src/testdir/main.aap,
            src/testdir/test31.in, src/testdir/test31.ok,
            src/testdir/test4.in, src/testdir/test4.ok, src/testdir/test5.in,
            src/testdir/test5.ok, src/testdir/test60.in,
            src/testdir/test60.ok, src/testdir/test60.vim,
            src/testdir/test7.in, src/testdir/test7.ok, src/testdir/test78.in,
            src/testdir/test78.ok, src/testdir/test_autocmd.vim,
            src/testdir/test_exists.vim, src/testdir/test_recover.vim,
            src/testdir/test_winbuf_close.vim, src/testdir/runtest.vim

Patch 8.0.1187
Problem:    Building with <A HREF="if_lua.html#lua">lua</A> fails for OSX on Travis.
Solution:   Separate brew-update and brew-install. (Ozaki Kiichi, closes #2203)
Files:      .travis.yml

Patch 8.0.1188
Problem:    Autocmd test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Give the buffer a name and find the buffer to be wiped out by
            name.
Files:      src/testdir/test_autocmd.vim

Patch 8.0.1189
Problem:    E172 is not actually useful, it's only on <A HREF="os_unix.html#Unix">Unix</A> anyway.
Solution:   Remove the check and the error.
Files:      src/ex_docmd.c, runtime/doc/message.txt

Patch 8.0.1190
Problem:    Vim becomes unusable after opening new <A HREF="windows.html#window">window</A> in <A HREF="autocmd.html#BufWritePre">BufWritePre</A>
            event.
Solution:   Call not_exiting(). (Martin Tournoij, closes #2205)
            Also for &quot;2q&quot; when a help <A HREF="windows.html#window">window</A> is open.  Add a test.
Files:      src/ex_docmd.c, src/testdir/test_writefile.vim

Patch 8.0.1191
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: missing 32 and 64 bit files in installer.
Solution:   Include both 32 and 64 bit GvimExt and related dll files. Remove
            old Windows code from the installer. (Ken Takata, closes #2144)
Files:      nsis/README.txt, nsis/gvim.nsi, src/GvimExt/gvimext.cpp,
            src/dosinst.c, src/dosinst.h, src/uninstal.c, Makefile

Patch 8.0.1192
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="terminal.html#terminal">terminal</A> feature not enabled by default.
Solution:   Enable <A HREF="motion.html#it">it</A>. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.0.1193
Problem:    Crash when wiping out a buffer after using <A HREF="eval.html#getbufinfo()">getbufinfo()</A>.
            (Yegappan Lakshmanan)
Solution:   Remove <A HREF="eval.html#b:changedtick">b:changedtick</A> from the buffer <A HREF="eval.html#variables">variables</A>.
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 8.0.1194
Problem:    Actual fg and bg colors of <A HREF="terminal.html#terminal">terminal</A> are unknown.
Solution:   Add <A HREF="term.html#t_RF">t_RF</A>.  Store response to <A HREF="term.html#t_RB">t_RB</A> and <A HREF="term.html#t_RF">t_RF</A>, use for <A HREF="terminal.html#terminal">terminal</A>.
Files:      src/term.c, src/term.h, src/proto/term.pro, src/terminal.c,
            src/vim.h, src/eval.c, runtime/doc/eval.txt

Patch 8.0.1195 (after 8.0.1194)
Problem:    Can't build on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Adjust #ifdef and add #ifdefs.
Files:      src/term.c, src/terminal.c

Patch 8.0.1196 (after 8.0.1194)
Problem:    Crash when <A HREF="term.html#t_RF">t_RF</A> is not set. (Brian Pina)
Solution:   Add <A HREF="term.html#t_RF">t_RF</A> to the <A HREF="eval.html#list">list</A> of <A HREF="terminal.html#terminal">terminal</A> <A HREF="options.html#options">options</A>. (Hirohito Higashi)
Files:      src/option.c

Patch 8.0.1197
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> build instructions are not up to date.
Solution:   Adjust the instructions.  Fix the nsis <A HREF="usr_41.html#script">script</A>.
Files:      Makefile, nsis/gvim.nsi

Patch 8.0.1198
Problem:    Older compilers don't know uint8_t.
Solution:   Use char_u instead.
Files:      src/term.c, src/proto/term.pro

Patch 8.0.1199
Problem:    When <A HREF="options.html#'clipboard'">'clipboard'</A> is &quot;autoselectplus&quot; the <A HREF="pattern.html#star">star</A> <A HREF="sponsor.html#register">register</A> is also
            set. (Gilles Moris)
Solution:   Don't set the <A HREF="pattern.html#star">star</A> <A HREF="sponsor.html#register">register</A> in this situation.
Files:      src/ops.c

Patch 8.0.1200
Problem:    Tests switch the bell off <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Don't set <A HREF="options.html#'belloff'">'belloff'</A> in individual tests. (Christian Brabandt)
Files:      src/testdir/test_alot.vim, src/testdir/test_alot_utf8.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_diffmode.vim, src/testdir/test_digraph.vim,
            src/testdir/test_edit.vim, src/testdir/test_file_size.vim,
            src/testdir/test_gn.vim, src/testdir/test_normal.vim,
            src/testdir/test_packadd.vim, src/testdir/test_popup.vim,
            src/testdir/test_recover.vim, src/testdir/test_search.vim,
            src/testdir/test_textobjects.vim, src/testdir/test_undo.vim,
            src/testdir/test_usercommands.vim, src/testdir/test_visual.vim

Patch 8.0.1201
Problem:    &quot;yL&quot; is affected by <A HREF="options.html#'scrolloff'">'scrolloff'</A>. (Eli the Bearded)
Solution:   Don't use <A HREF="options.html#'scrolloff'">'scrolloff'</A> when an <A HREF="motion.html#operator">operator</A> is pending.
Files:      src/normal.c, runtime/doc/motion.txt

Patch 8.0.1202
Problem:    <A HREF="editing.html#:wall">:wall</A> gives an error for a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (Marius Gedminas)
Solution:   Don't try <A HREF="editing.html#writing">writing</A> a buffer that can't be written. (Yasuhiro
            Matsumoto, closes #2190)
Files:      src/ex_cmds.c, src/testdir/test_terminal.vim

Patch 8.0.1203
Problem:    Terminal <A HREF="windows.html#window">window</A> mistreats composing characters.
Solution:   Count composing characters with the base character. (Ozaki Kiichi,
            closes #2195)
Files:      src/mbyte.c, src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1204
Problem:    A <A HREF="autocmd.html#QuitPre">QuitPre</A> <A HREF="autocmd.html#autocommand">autocommand</A> may get the wrong file name.
Solution:   Pass the buffer being closed to apply_autocmds(). (Rich Howe)
Files:      src/ex_docmd.c, src/testdir/test_autocmd.vim

Patch 8.0.1205
Problem:    Using &quot;1q&quot; <A HREF="motion.html#it">it</A> is possible to unload a changed buffer. (Rick Howe)
Solution:   Check the right <A HREF="windows.html#window">window</A> for changes.
Files:      src/testdir/test_edit.vim, src/ex_docmd.c

Patch 8.0.1206
Problem:    No autocmd for entering or leaving the command line.
Solution:   Add <A HREF="autocmd.html#CmdlineEnter">CmdlineEnter</A> and <A HREF="autocmd.html#CmdlineLeave">CmdlineLeave</A>.
Files:      runtime/doc/autocmd.txt, src/ex_getln.c, src/fileio.c, src/vim.h,
            src/testdir/test_autocmd.vim

Patch 8.0.1207
Problem:    Profiling skips the first and last <A HREF="usr_41.html#script">script</A> line.
Solution:   Check for BOM after setting <A HREF="usr_41.html#script">script</A> ID. (LemonBoy, closes #2103,
            closes #2112) Add a test. <A HREF="eval.html#List">List</A> the trailing <A HREF="usr_41.html#script">script</A> lines.
Files:      src/testdir/test_profile.vim, src/ex_cmds2.c

Patch 8.0.1208
Problem:    <A HREF="options.html#'statusline'">'statusline'</A> drops empty group with highlight change.
Solution:   Do not drop an empty group if <A HREF="motion.html#it">it</A> changes highlighting. (Marius
            Gedminas, closes #2228)
Files:      src/buffer.c, src/testdir/test_statusline.vim

Patch 8.0.1209
Problem:    Still too many old style tests.
Solution:   Convert a few more tests to new style. (Yegappan Lakshmanan,
            closes #2230)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Makefile, src/testdir/Make_vms.mms,
            src/testdir/main.aap, src/testdir/test34.in,
            src/testdir/test34.ok, src/testdir/test54.in,
            src/testdir/test54.ok, src/testdir/test8.in, src/testdir/test8.ok,
            src/testdir/test_autocmd.vim, src/testdir/test_autoformat_join.in,
            src/testdir/test_autoformat_join.ok, src/testdir/test_join.vim,
            src/testdir/test_user_func.vim

Patch 8.0.1210
Problem:    When typing a search <A HREF="pattern.html#pattern">pattern</A> <A HREF="editing.html#CTRL-G">CTRL-G</A> and <A HREF="tagsrch.html#CTRL-T">CTRL-T</A> are ignored when
            there is typeahead.
Solution:   Don't pass SEARCH_PEEK and don't call char_avail(). (haya14busa,
            closes #2233)
Files:      src/ex_getln.c, src/testdir/test_search.vim

Patch 8.0.1211
Problem:    Cannot reorder <A HREF="intro.html#tab">tab</A> pages with drag <A HREF="change.html#&amp;">&amp;</A> drop.
Solution:   Support drag <A HREF="change.html#&amp;">&amp;</A> drop for <A HREF="gui_x11.html#GTK">GTK</A> and <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ken Takata, Masamichi
            Abe)
Files:      src/gui_gtk_x11.c, src/gui_w32.c

Patch 8.0.1212
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: tear-off menu does not work on 64 bit. (shaggyaxe)
Solution:   Change how the menu handle is looked up. (Ken Takata, closes
            #1205)
Files:      src/gui_w32.c

Patch 8.0.1213
Problem:    Setting <A HREF="options.html#'mzschemedll'">'mzschemedll'</A> has no effect.
Solution:   Move loading <A HREF="starting.html#.vimrc">.vimrc</A> to before call to mzscheme_main().
Files:      src/main.c

Patch 8.0.1214
Problem:    Accessing freed memory when EXITFREE is set and there is more than
            one <A HREF="intro.html#tab">tab</A> and <A HREF="windows.html#window">window</A>. (Dominique Pelle)
Solution:   Free <A HREF="options.html#options">options</A> later.  Skip redraw when <A HREF="starting.html#exiting">exiting</A>.
Files:      src/screen.c, src/misc2.c

Patch 8.0.1215
Problem:    Newer gcc warns for implicit fallthrough.
Solution:   Consistently use a FALLTHROUGH comment. (Christian Brabandt)
Files:      src/buffer.c, src/edit.c, src/eval.c, src/ex_docmd.c,
            src/ex_getln.c, src/main.c, src/message.c, src/normal.c,
            src/regexp.c, src/regexp_nfa.c, src/spell.c, src/window.c,
            src/if_perl.xs

Patch 8.0.1216
Problem:    Tabline is not always updated for <A HREF="editing.html#:file">:file</A> command. (Norio Takagi)
Solution:   Set redraw_tabline. (Hirohito Higashi)
Files:      src/ex_cmds.c

Patch 8.0.1217
Problem:    Can't use remote <A HREF="eval.html#eval">eval</A> to inspect vars in debug mode.
Solution:   Don't <A HREF="editing.html#discard">discard</A> the call stack in debug mode. (closes #2237, #2247)
Files:      src/globals.h, src/ex_cmds2.c, src/main.c

Patch 8.0.1218
Problem:    Writing to freed memory in autocmd.
Solution:   Make a copy of the <A HREF="tagsrch.html#tag">tag</A> line. (Dominique Pelle, closes #2245)
Files:      src/tag.c, src/testdir/test_autocmd.vim

Patch 8.0.1219
Problem:    Terminal test is flaky.
Solution:   Add test function to <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.1220
Problem:    Skipping empty statusline groups is not correct.
Solution:   Also set group_end_userhl. (itchyny)
Files:      src/buffer.c, src/testdir/test_statusline.vim

Patch 8.0.1221
Problem:    Still too many old style tests.
Solution:   Convert a few more tests to new style. (Yegappan Lakshmanan,
            closes #2256)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,
            src/testdir/main.aap, src/testdir/test19.in,
            src/testdir/test19.ok, src/testdir/test20.in,
            src/testdir/test20.ok, src/testdir/test25.in,
            src/testdir/test25.ok, src/testdir/test28.in,
            src/testdir/test28.ok, src/testdir/test32.in,
            src/testdir/test32.ok, src/testdir/test38.in,
            src/testdir/test38.ok, src/testdir/test66.in,
            src/testdir/test66.ok, src/testdir/test79.in,
            src/testdir/test79.ok, src/testdir/test_ins_complete.vim,
            src/testdir/test_source_utf8.vim, src/testdir/test_substitute.vim,
            src/testdir/test_tab.vim, src/testdir/test_tagjump.vim,
            src/testdir/test_undo.vim, src/testdir/test_visual.vim,
            src/testdir/test79.ok, src/testdir/test79.in,
            src/testdir/test28.in

Patch 8.0.1222
Problem:    Test <A HREF="eval.html#functions">functions</A> interfere with each other.
Solution:   Cleanup <A HREF="intro.html#tab">tab</A> pages, <A HREF="windows.html#windows">windows</A> and <A HREF="windows.html#buffers">buffers</A>.  Reset option.
Files:      src/testdir/runtest.vim, src/testdir/test_filetype.vim,
            src/testdir/test_tabpage.vim, src/testdir/test_lispwords.vim

Patch 8.0.1223
Problem:    Crash when using autocomplete and <A HREF="intro.html#tab">tab</A> pages.
Solution:   Check if the current <A HREF="intro.html#tab">tab</A> changed. (Christian Brabandt, closes
            #2239)
Files:      src/popupmnu.c, src/testdir/test_popup.vim, src/misc1.c,

Patch 8.0.1224
Problem:    Still interference between test <A HREF="eval.html#functions">functions</A>.
Solution:   Clear <A HREF="autocmd.html#autocommands">autocommands</A>. Wipe all <A HREF="windows.html#buffers">buffers</A>.  Fix tests that depend on a
            specific start context.
Files:      src/testdir/runtest.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_arglist.vim, src/testdir/test_bufwintabinfo.vim,
            src/testdir/test_command_count.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_hardcopy.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_packadd.vim, src/testdir/test_signs.vim,
            src/testdir/test_autochdir.vim

Patch 8.0.1225
Problem:    No check for <A HREF="spell.html#spell">spell</A> region being zero. (geeknik)
Solution:   Check for zero. (closes #2252)
Files:      src/spellfile.c, src/testdir/test_spell.vim

Patch 8.0.1226
Problem:    Edit and popup tests failing.
Solution:   Make the tests pass.
Files:      src/testdir/test_edit.vim, src/testdir/test_popup.vim

Patch 8.0.1227
Problem:    Undefined left <A HREF="intro.html#shift">shift</A> in <A HREF="eval.html#readfile()">readfile()</A>. (Brian 'geeknik' Carpenter)
Solution:   Add cast to unsigned. (Dominique Pelle, closes #2253)
Files:      src/fileio.c

Patch 8.0.1228
Problem:    Invalid memory access in <A HREF="gui.html#GUI">GUI</A> test.
Solution:   Check that the row is not outside of the screen.
Files:      src/screen.c

Patch 8.0.1229
Problem:    Condition in vim_str2nr() is always true. (Nikolai Pavlov)
Solution:   Remove the condition. (Closes #2259)
Files:      src/charset.c

Patch 8.0.1230
Problem:    <A HREF="change.html#CTRL-A">CTRL-A</A> in <A HREF="visual.html#Visual">Visual</A> mode uses character after selection. (Nikolai
            Pavlov)
Solution:   Check the length before using a character.
Files:      src/charset.c

Patch 8.0.1231
Problem:    Expanding file name drops dash. (stucki)
Solution:   Use the right position. (Christian Brabandt, closes #2184)
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.0.1232
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> users are confused about default mappings.
Solution:   Don't map keys in the console where they don't work.  Add a choice
            in the installer to use <A HREF="os_win32.html#MS-Windows">MS-Windows</A> key bindings or not. (Christian
            Brabandt, Ken Takata, closes #2093)
Files:      Filelist, nsis/gvim.nsi, nsis/vimrc.ini, src/dosinst.c,
            runtime/mswin.vim

Patch 8.0.1233
Problem:    Typo in <A HREF="os_dos.html#dos">dos</A> installer.
Solution:   Remove comma.
Files:      src/dosinst.c

Patch 8.0.1234
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: composing characters are not shown properly.
Solution:   Pass base character and composing characters to the renderer at
            once. (Ken Takata, closes #2206)
Files:      src/gui.c, src/gui_w32.c

Patch 8.0.1235
Problem:    Cannot disable the <A HREF="terminal.html#terminal">terminal</A> feature in a huge build. (lindhobe)
Solution:   Adjust the autoconf check. (Kazunobu Kuriyama, closes #2242)
Files:      src/configure.ac, src/auto/configure, src/Makefile

Patch 8.0.1236
Problem:    <A HREF="os_mac.html#Mac">Mac</A> features are confusing.
Solution:   Make feature names more consistent, add &quot;osxdarwin&quot;. Rename
            feature flags, cleanup <A HREF="os_mac.html#Mac">Mac</A> code. (Kazunobu Kuriyama, closes #2178)
            Also includes a fix for when <A HREF="if_ruby.html#Ruby">Ruby</A> throws an exception inside
            <A HREF="if_ruby.html#:rubyfile">:rubyfile</A>. (ujihisa)
Files:      runtime/doc/eval.txt, runtime/doc/os_mac.txt, src/auto/configure,
            src/config.h.in, src/configure.ac, src/digraph.c, src/edit.c,
            src/evalfunc.c, src/feature.h, src/fileio.c, src/getchar.c,
            src/globals.h, src/gui.c, src/gui_mac.c, src/if_python.c,
            src/if_python3.c, src/if_ruby.c, src/keymap.h, src/macros.h,
            src/main.c, src/mbyte.c, src/message.c, src/misc1.c, src/misc2.c,
            src/option.c, src/os_mac.h, src/os_macosx.m, src/os_unix.c,
            src/proto.h, src/pty.c, src/structs.h, src/term.c, src/termlib.c,
            src/ui.c, src/undo.c, src/version.c, src/vim.h, src/window.c

Patch 8.0.1237
Problem:    &quot;<A HREF="options.html#:set">:set</A> scroll&amp;&quot; often gives an error.
Solution:   Don't use a fixed default value, use half the <A HREF="windows.html#window">window</A> height. Add a
            test. (Ozaki Kiichi, closes #2104)
Files:      src/Makefile, src/option.c, src/testdir/test_alot.vim,
            src/testdir/test_scroll_opt.vim

Patch 8.0.1238
Problem:    Incremental search only shows one match.
Solution:   When <A HREF="options.html#'incsearch'">'incsearch'</A> and <A HREF="options.html#'hlsearch'">'hlsearch'</A> are both set highlight all
            matches. (haya14busa, itchyny, closes #2198)
Files:      runtime/doc/options.txt, src/ex_getln.c, src/proto/search.pro,
            src/search.c, src/testdir/test_search.vim

Patch 8.0.1239
Problem:    Cannot use a <A HREF="eval.html#lambda">lambda</A> for the skip argument to <A HREF="eval.html#searchpair()">searchpair()</A>.
Solution:   Evaluate a partial, funcref and <A HREF="eval.html#lambda">lambda</A>. (LemonBoy, closes #1454,
            closes #2265)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/proto/evalfunc.pro,
            src/eval.c, src/proto/eval.pro, src/search.c,
            src/testdir/test_search.vim

Patch 8.0.1240
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="eval.html#term_start()">term_start()</A> does not support environment.
Solution:   Implement the environment argument. (Yasuhiro Matsumoto, closes
            #2264)
Files:      src/os_win32.c, src/proto/os_win32.pro, src/terminal.c,
            src/testdir/test_terminal.vim

Patch 8.0.1241
Problem:    Popup test is flaky. (James McCoy)
Solution:   Increase the wait time. (Dominique Pelle)
Files:      src/testdir/test_popup.vim

Patch 8.0.1242
Problem:    Function argument with only dash is seen <A HREF="motion.html#as">as</A> number zero. (Wang
            Shidong)
Solution:   See a dash <A HREF="motion.html#as">as</A> a <A HREF="eval.html#string">string</A>. (Christian Brabandt)
Files:      src/testdir/test_ins_complete.vim, src/Makefile, src/eval.c

Patch 8.0.1243
Problem:    No test for what 8.0.1227 fixes.
Solution:   Add a test that triggers the problem. (Christian Brabandt)
Files:      src/testdir/test_normal.vim, src/testdir/test_search.vim

Patch 8.0.1244
Problem:    Search test does not work correctly on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Put text in a file instead of sending <A HREF="motion.html#it">it</A> to the <A HREF="terminal.html#terminal">terminal</A>.
            (Christian Brabandt)
Files:      src/testdir/test_search.vim

Patch 8.0.1245
Problem:    When WaitFor() has a wrong <A HREF="eval.html#expression">expression</A> <A HREF="motion.html#it">it</A> just waits a second,
            which goes unnoticed. (James McCoy)
Solution:   When WaitFor() times out throw an exception.  Fix places where the
            <A HREF="eval.html#expression">expression</A> was wrong.
Files:      src/testdir/shared.vim, src/testdir/test_channel.vim,
            src/testdir/test_netbeans.vim, src/testdir/test_terminal.vim

Patch 8.0.1246
Problem:    Popup test has an arbitrary delay.
Solution:   Wait for the ruler to show. (James McCoy)
Files:      src/testdir/test_popup.vim

Patch 8.0.1247
Problem:    Not <A HREF="starting.html#easy">easy</A> to find Debian build info.
Solution:   Add a badge in the README file. (Dominique Pelle)
Files:      README.md

Patch 8.0.1248 (after 8.0.1247)
Problem:    Stray + in README file.
Solution:   Remove the +.  Add a line break.
Files:      README.md

Patch 8.0.1249
Problem:    No error when WaitFor() gets an invalid wrong <A HREF="eval.html#expression">expression</A>.
Solution:   Do not ignore <A HREF="message.html#errors">errors</A> in evaluation of the <A HREF="eval.html#expression">expression</A>.  Fix places
            where the <A HREF="eval.html#expression">expression</A> was wrong.
Files:      src/testdir/shared.vim, src/testdir/test_netbeans.vim

Patch 8.0.1250
Problem:    <A HREF="options.html#'hlsearch'">'hlsearch'</A> highlighting not removed after incsearch (lacygoill)
Solution:   Redraw all <A HREF="windows.html#windows">windows</A>. Start search at the end of the match.  Improve
            how <A HREF="editing.html#CTRL-G">CTRL-G</A> works with incremental search. Add tests. (Christian
            Brabandt, Hirohito Higashi, haya14busa, closes #2267)
Files:      runtime/doc/options.txt, src/ex_getln.c,
            src/testdir/test_search.vim

Patch 8.0.1251 (after 8.0.1249)
Problem:    Invalid <A HREF="eval.html#expression">expression</A> passed to WaitFor().
Solution:   Check if the variable exists.
Files:      src/testdir/test_clientserver.vim

Patch 8.0.1252
Problem:    Incomplete translations makefile for MinGW/Cygwin.
Solution:   Add missing source files.  Make <A HREF="motion.html#it">it</A> work with msys2's bash. (Ken
            Takata)
Files:      src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak

Patch 8.0.1253
Problem:    Still too many old style tests.
Solution:   Convert a few more tests to new style. (Yegappan Lakshmanan,
            closes #2272)
Files:      src/Makefile, src/testdir/Make_all.mak,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,
            src/testdir/main.aap, src/testdir/test12.in,
            src/testdir/test12.ok, src/testdir/test40.in,
            src/testdir/test40.ok, src/testdir/test45.in,
            src/testdir/test45.ok, src/testdir/test83.in,
            src/testdir/test83.ok, src/testdir/test_autocmd.vim,
            src/testdir/test_fold.vim, src/testdir/test_swap.vim,
            src/testdir/test_tagjump.vim

Patch 8.0.1254
Problem:    Undefined left <A HREF="intro.html#shift">shift</A> in gethexchrs(). (geeknik)
Solution:   Use unsigned long. (idea by Christian Brabandt, closes #2255)
Files:      src/regexp.c, src/regexp_nfa.c


Patch 8.0.1255 (after 8.0.1248)
Problem:    duplicate badge README file.
Solution:   Remove one. (Dominique Pelle)
Files:      README.md

Patch 8.0.1256
Problem:    Typo in configure variable vim_cv_tgent. (Matthieu Guillard)
Solution:   Rename the variable. (closes #2281)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1257 (after 8.0.1254)
Problem:    No test for fix of undefined behavior.
Solution:   Add a test. (closes #2255)
Files:      src/testdir/test_search.vim

Patch 8.0.1258
Problem:    <A HREF="options.html#'ttymouse'">'ttymouse'</A> is set to &quot;sgr&quot; even though it's not supported. (Gary
            Johnson)
Solution:   Adjust #ifdef
Files:      src/term.c

Patch 8.0.1259
Problem:    Search test can be flaky.
Solution:   Use WaitFor() instead of a delay.  Make <A HREF="motion.html#it">it</A> possible to pass a
            funcref to WaitFor() to avoid the need for global <A HREF="eval.html#variables">variables</A>.
            (James McCoy, closes #2282)
Files:      src/testdir/shared.vim, src/testdir/test_search.vim

Patch 8.0.1260 (after 8.0.1259)
Problem:    Using global <A HREF="eval.html#variables">variables</A> for WaitFor().
Solution:   Use a <A HREF="eval.html#lambda">lambda</A> function instead.  Don't check a condition if
            WaitFor() already checked <A HREF="motion.html#it">it</A>.
Files:      src/testdir/test_popup.vim, src/testdir/test_terminal.vim,
            src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_job_fails.vim, src/testdir/test_quotestar.vim

Patch 8.0.1261
Problem:    Program in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> gets NL instead of CR. (Lifepillar)
Solution:   Check the tty setup more often. (closes #1998)
Files:      src/terminal.c

Patch 8.0.1262
Problem:    Terminal redir test is flaky.
Solution:   Add <A HREF="motion.html#it">it</A> to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.1263
Problem:    Others can read the swap file if a user is careless with his
            primary group.
Solution:   If the group permission allows for reading but the world
            permissions doesn't, make sure the group is right.
Files:      src/fileio.c, src/testdir/test_swap.vim, src/Makefile

Patch 8.0.1264
Problem:    Terminal debugger gets stuck in small <A HREF="windows.html#window">window</A>.
Solution:   Add &quot;-quiet&quot; to the <A HREF="debug.html#gdb">gdb</A> command. (Christian Brabandt, closes #2154)
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim

Patch 8.0.1265 (after 8.0.1263)
Problem:    Swap test not skipped when there is one group.
Solution:   Convert <A HREF="eval.html#list">list</A> to <A HREF="eval.html#string">string</A> for the message.
Files:      src/testdir/test_swap.vim

Patch 8.0.1266 (after 8.0.1263)
Problem:    Test_swap_directory was accidentally commented out.
Solution:   Uncomment the test.
Files:      src/testdir/test_swap.vim

Patch 8.0.1267 (after 8.0.1263)
Problem:    Test_swap_group may leave file behind.
Solution:   Add a try/finally.
Files:      src/testdir/test_swap.vim, src/testdir/test_undo.vim

Patch 8.0.1268
Problem:    PC <A HREF="usr_90.html#install">install</A> instructions are incomplete.
Solution:   Update the instructions. (Ken Takata)
Files:      src/INSTALLpc.txt

Patch 8.0.1269
Problem:    Effect of <A HREF="autocmd.html#autocommands">autocommands</A> on marks is not tested.
Solution:   Add a couple of tests. (James McCoy, closes #2271)
Files:      src/testdir/test_autocmd.vim

Patch 8.0.1270
Problem:    Mismatching file name with Filelist.
Solution:   Rename color_ramp.vim to xterm_ramp.vim
Files:      src/testdir/color_ramp.vim, src/testdir/xterm_ramp.vim

Patch 8.0.1271
Problem:    Still too many old style tests.
Solution:   Convert a few more tests to new style. (Yegappan Lakshmanan,
            closes #2290)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/sautest/autoload/footest.vim, src/testdir/test55.in,
            src/testdir/test55.ok, src/testdir/test_changelist.in,
            src/testdir/test_changelist.ok, src/testdir/test_fold.vim,
            src/testdir/test_ins_complete.vim,
            src/testdir/test_insertcount.in, src/testdir/test_insertcount.ok,
            src/testdir/test_listdict.vim, src/testdir/test_normal.vim,
            src/testdir/test_search.vim, src/testdir/test_search_mbyte.in

Patch 8.0.1272
Problem:    Warnings for unused <A HREF="eval.html#variables">variables</A> in tiny build.
Solution:   Add #ifdef. (Dominique Pelle, closes #2288)
Files:      src/term.c

Patch 8.0.1273 (after 8.0.1271)
Problem:    Old test file remaining.
Solution:   Delete <A HREF="motion.html#it">it</A>.
Files:      src/testdir/test_search_mbyte.ok

Patch 8.0.1274
Problem:    <A HREF="eval.html#setbufline()">setbufline()</A> fails when using <A HREF="fold.html#folding">folding</A>.
Solution:   Set &quot;curwin&quot; if needed. (Ozaki Kiichi, closes #2293)
Files:      src/evalfunc.c, src/testdir/test_bufline.vim

Patch 8.0.1275
Problem:    <A HREF="autocmd.html#CmdlineLeave">CmdlineLeave</A> autocmd prevents fold from opening. (Waivek)
Solution:   Save and restore KeyTyped. (closes #2305)
Files:      src/fileio.c

Patch 8.0.1276
Problem:    Typed key is lost when the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> is closed in exit
            callback. (Gabriel Barta)
Solution:   When the current <A HREF="windows.html#window">window</A> changes bail out of the wait loop. (closes
            #2302)
Files:      src/misc2.c, src/terminal.c

Patch 8.0.1277
Problem:    Terminal <A HREF="windows.html#window">window</A> CR-NL conversions may cause problems.
Solution:   Avoid most conversions, only <A HREF="pi_netrw.html#fetch">fetch</A> the current backspace key value
            from the tty. (mostly by Ozaki Kiichi, closes #2278)
Files:      src/terminal.c

Patch 8.0.1278
Problem:    <A HREF="gui.html#GUI">GUI</A> <A HREF="windows.html#window">window</A> always resizes when adding/removing a scrollbar,
            toolbar, etc.
Solution:   Add the '<A HREF="motion.html#k">k</A>' flag in <A HREF="options.html#'guioptions'">'guioptions'</A> to keep the <A HREF="gui.html#GUI">GUI</A> <A HREF="windows.html#window">window</A> size and
            change the number of lines/columns instead. (Ychin, closes #703)
Files:      runtime/doc/options.txt, src/gui.c, src/gui_gtk_x11.c,
            src/gui_w32.c, src/option.h

Patch 8.0.1279
Problem:    Initializing <A HREF="gui.html#menus">menus</A> can be slow, especially when there are many
            keymaps, color schemes, etc.
Solution:   Do the globbing for runtime files lazily. (Ken Takata)
Files:      runtime/doc/gui.txt, runtime/menu.vim

Patch 8.0.1280
Problem:    <A HREF="if_pyth.html#Python">Python</A> None cannot be converted to a Vim type.
Solution:   Convert <A HREF="motion.html#it">it</A> to <A HREF="eval.html#v:none">v:none</A>. (Ken Takata)
Files:      src/if_py_both.h, src/testdir/test86.ok, src/testdir/test87.ok,
            runtime/doc/if_pyth.txt

Patch 8.0.1281
Problem:    Loading file type detection slows down <A HREF="starting.html#startup">startup</A>.
Solution:   Move <A HREF="eval.html#functions">functions</A> to an <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A>.
Files:      runtime/filetype.vim, runtime/autoload/filetype.vim,
            runtime/scripts.vim

Patch 8.0.1282 (after 8.0.1281)
Problem:    <A HREF="map.html#script-local">script-local</A> variable defined in the wrong <A HREF="usr_41.html#script">script</A>
Solution:   Move variable to autoload/filetype.vim.
Files:      runtime/filetype.vim, runtime/autoload/filetype.vim

Patch 8.0.1283
Problem:    Test 86 fails under ASAN.
Solution:   Fix that an item was added to a dictionary <A HREF="if_cscop.html#twice">twice</A>.
Files:      src/if_py_both.h

Patch 8.0.1284
Problem:    Loading file type detection slows down <A HREF="starting.html#startup">startup</A>.
Solution:   Store the last <A HREF="pattern.html#pattern">pattern</A> of an <A HREF="autocmd.html#autocommand">autocommand</A> event to make appending
            quicker.
Files:      src/fileio.c

Patch 8.0.1285
Problem:    Distributed <A HREF="eval.html#autoload">autoload</A> files may clash with user files. (Andy
            Wokula)
Solution:   Use the &quot;autoload/dist&quot; directory.
Files:      runtime/filetype.vim, runtime/autoload/filetype.vim,
            runtime/autoload/dist/ft.vim, runtime/scripts.vim, Filelist,
            src/Makefile, nsis/gvim.nsi

Patch 8.0.1286
Problem:    Occasional crash when using a <A HREF="channel.html#channel">channel</A>. (Marek)
Solution:   Decrement reference <A HREF="intro.html#count">count</A> later. (closes #2315)
Files:      src/channel.c

Patch 8.0.1287
Problem:    The temp file used when updating the <A HREF="starting.html#viminfo">viminfo</A> file may have the
            wrong permissions if setting the group fails.
Solution:   Check if the group matches and reduce permissions if not.
Files:      src/ex_cmds.c

Patch 8.0.1288
Problem:    <A HREF="gui.html#GUI">GUI</A>: cannot drag the statusline of a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Handle the TERMINAL state. (Hirohito Higashi)
Files:      src/gui.c

Patch 8.0.1289
Problem:    Mkview always includes the local directory.
Solution:   Add the &quot;curdir&quot; value in <A HREF="options.html#'viewoptions'">'viewoptions'</A>. (Eric Roberts, closes
            #2316)
Files:      runtime/doc/options.txt, runtime/doc/starting.txt, src/ex_docmd.c,
            src/option.c

Patch 8.0.1290
Problem:    seq_cur of <A HREF="eval.html#undotree()">undotree()</A> wrong after <A HREF="undo.html#undo">undo</A>.
Solution:   Get the actual sequence number instead of decrementing the current
            one. (Ozaki Kiichi, closes #2319)
Files:      src/undo.c, src/testdir/test_undo.vim

Patch 8.0.1291
Problem:    C indent wrong when &#42; immediately follows comment. (John Bowler)
Solution:   Do not see &quot;/*&quot; after &quot;*&quot; <A HREF="motion.html#as">as</A> a comment start. (closes #2321)
Files:      src/search.c, src/testdir/test3.in, src/testdir/test3.ok

Patch 8.0.1292
Problem:    Quick clicks in the <A HREF="gui.html#WinBar">WinBar</A> start <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Use a double click in the <A HREF="gui.html#WinBar">WinBar</A> like a normal click.
Files:      src/ui.c

Patch 8.0.1293
Problem:    Setting a breakpoint in the <A HREF="terminal.html#terminal">terminal</A> debugger sometimes fails.
Solution:   Interrupt the program if needed.  Set the interface to async.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/terminal.txt

Patch 8.0.1294
Problem:    <A HREF="gui.html#GUI">GUI</A>: get stuck when splitting a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Stop blinking when values become zero. (Hirohito Higashi)
Files:      src/gui.c

Patch 8.0.1295
Problem:    Cannot automatically get a server name in a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add the --enable-autoservername flag to configure. (Cimbali,
            closes #2317)
Files:      runtime/doc/eval.txt, runtime/doc/various.txt, src/config.h.in,
            src/configure.ac, src/auto/configure, src/evalfunc.c,
            src/feature.h, src/main.c, src/version.c, src/Makefile

Patch 8.0.1296 (after 8.0.1294)
Problem:    Checking the same condition <A HREF="if_cscop.html#twice">twice</A>. (John Marriott)
Solution:   Check blinkwait.
Files:      src/gui.c

Patch 8.0.1297
Problem:    <A HREF="various.html#+autoservername">+autoservername</A> does not show enabled on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Always define the flag on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ken Takata)
Files:      src/feature.h

Patch 8.0.1298
Problem:    Missing test file.
Solution:   Add samples/test000. (Christian Brabandt)
Files:      src/testdir/samples/test000, Filelist

Patch 8.0.1299
Problem:    Bracketed paste does not work well in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Send translated <A HREF="eval.html#string">string</A> to <A HREF="channel.html#job">job</A> right away. (Ozaki Kiichi, closes
            #2341)
Files:      src/terminal.c

Patch 8.0.1300
Problem:    File permissions may end up wrong when <A HREF="editing.html#writing">writing</A>.
Solution:   Use fchmod() instead of chmod() when possible.  Don't truncate
            until we know we can change the file.
Files:      src/os_unix.c, src/proto/os_unix.pro, src/configure.ac,
            src/auto/configure, src/config.h.in, src/fileio.c

Patch 8.0.1301
Problem:    Generated <A HREF="uganda.html#license">license</A> file for NSIS has a <A HREF="options.html#modeline">modeline</A>.
Solution:   Adjust the <A HREF="pattern.html#pattern">pattern</A> for sed. (Ken Takata)
Files:      runtime/doc/Makefile

Patch 8.0.1302
Problem:    Still too many old style tests.
Solution:   Convert a few more tests to new style. (Yegappan Lakshmanan,
            closes #2326)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_vms.mms, src/testdir/runtest.vim,
            src/testdir/test68.in, src/testdir/test68.ok,
            src/testdir/test73.in, src/testdir/test73.ok,
            src/testdir/test_close_count.in, src/testdir/test_close_count.ok,
            src/testdir/test_close_count.vim,
            src/testdir/test_erasebackword.in,
            src/testdir/test_erasebackword.ok,
            src/testdir/test_erasebackword.vim,
            src/testdir/test_find_complete.vim, src/testdir/test_fixeol.in,
            src/testdir/test_fixeol.ok, src/testdir/test_fixeol.vim,
            src/testdir/test_listchars.in, src/testdir/test_listchars.ok,
            src/testdir/test_listchars.vim, src/testdir/test_textformat.vim

Patch 8.0.1303
Problem:    <A HREF="options.html#'ttymouse'">'ttymouse'</A> is not set to &quot;sgr&quot; for Terminal.app and Iterm2.
Solution:   Recognize Iterm2 by the termresponse.
Files:      src/term.c

Patch 8.0.1304
Problem:    CTRL-G/CTRL-T don't work with incsearch and empty <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Use the last search <A HREF="pattern.html#pattern">pattern</A>. (Christian Brabandt, closes #2292)
Files:      src/ex_getln.c, src/proto/search.pro, src/search.c,
            src/testdir/test_search.vim

Patch 8.0.1305
Problem:    Writefile() never calls fsync().
Solution:   Follow the <A HREF="options.html#'fsync'">'fsync'</A> option with override to enable or disable.
Files:      src/fileio.c, src/evalfunc.c, runtime/doc/eval.txt, src/globals.h,
            src/testdir/test_writefile.vim

Patch 8.0.1306
Problem:    ASAN error stack trace is not useful.
Solution:   Add &quot;asan_symbolize&quot;. (James McCoy, closes #2344)
Files:      .travis.yml

Patch 8.0.1307 (after 8.0.1300)
Problem:    Compiler warning for ignoring return value of ftruncate(). (Tony
            Mechelynck)
Solution:   Assign returned value to &quot;ignore&quot;.
Files:      src/fileio.c

Patch 8.0.1308
Problem:    The &quot;Reading from stdin&quot; message may be undesired and there is no
            <A HREF="starting.html#easy">easy</A> way to skip <A HREF="motion.html#it">it</A>.
Solution:   Don't show the message with <A HREF="starting.html#--not-a-term">--not-a-term</A> was used.
Files:      src/fileio.c

Patch 8.0.1309
Problem:    Cannot use <A HREF="options.html#'balloonexpr'">'balloonexpr'</A> in a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add <A HREF="options.html#'balloonevalterm'">'balloonevalterm'</A> and add code to handle mouse movements in a
            <A HREF="terminal.html#terminal">terminal</A>. Initial implementation for <A HREF="os_unix.html#Unix">Unix</A> with <A HREF="gui.html#GUI">GUI</A>.
Files:      src/option.c, src/option.h, src/os_unix.c, src/proto/os_unix.pro,
            src/feature.h, src/misc2.c, src/keymap.h, src/edit.c,
            src/ex_getln.c, src/message.c, src/misc1.c, src/normal.c,
            src/terminal.c, src/getchar.c, src/ex_cmds2.c, src/gui_beval.c,
            src/proto/gui_beval.pro, src/evalfunc.c, src/popupmnu.c,
            src/proto/popupmnu.pro, src/version.c, src/globals.h, src/gui.c,
            runtime/doc/options.txt, src/term.c,
            runtime/pack/dist/opt/termdebug/plugin/termdebug.vim

Patch 8.0.1310
Problem:    Cproto generates <A HREF="message.html#errors">errors</A> because of missing type.
Solution:   Define _Float128 when generating prototypes.
Files:      src/vim.h

Patch 8.0.1311
Problem:    No test for <A HREF="eval.html#strpart()">strpart()</A>.
Solution:   Add a test. (Dominique Pelle, closes #2347)
Files:      src/testdir/test_functions.vim

Patch 8.0.1312 (after 8.0.1309)
Problem:    <A HREF="eval.html#balloon_show()">balloon_show()</A> only works in <A HREF="terminal.html#terminal">terminal</A> when compiled with the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Add FEAT_BEVAL_GUI and refactor to move common code out of the <A HREF="gui.html#GUI">GUI</A>
            specific file.
Files:      src/feature.h, src/evalfunc.c, src/gui.c, src/gui_athena.c,
            src/gui_beval.c, src/proto/gui_beval.pro, src/beval.c,
            src/proto/beval.pro, src/gui_motif.c, src/gui_w32.c,
            src/gui_x11.c, src/integration.c, src/workshop.c, src/menu.c,
            src/netbeans.c, src/option.c, src/os_unix.c, src/os_win32.c,
            src/syntax.c, src/version.c, src/gui.h, src/gui_beval.h,
            src/vim.h, src/beval.h, src/option.h, src/ex_cmds2.c, src/ui.c,
            src/getchar.c, src/normal.c, src/popupmnu.c, src/globals.h,
            src/Makefile, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/Make_vms.mms, Filelist

Patch 8.0.1313 (after 8.0.1312)
Problem:    Missing dependencies cause parallel make to fail.
Solution:   Update dependencies.
Files:      src/Makefile

Patch 8.0.1314 (after 8.0.1312)
Problem:    Build fails on <A HREF="os_mac.html#Mac">Mac</A>. (chdiza)
Solution:   Add #ifdef around <A HREF="gui.html#GUI">GUI</A> fields.
Files:      src/beval.h

Patch 8.0.1315 (after 8.0.1312)
Problem:    Build still fails on <A HREF="os_mac.html#Mac">Mac</A>. (chdiza)
Solution:   Remove bogus typedef.
Files:      src/os_macosx.m

Patch 8.0.1316 (after 8.0.1312)
Problem:    Build still still fails on <A HREF="os_mac.html#Mac">Mac</A>. (chdiza)
Solution:   Remove another bogus typedef.
Files:      src/os_mac_conv.c

Patch 8.0.1317
Problem:    Accessing freed memory in <A HREF="eval.html#term_wait()">term_wait()</A>. (Dominique Pelle)
Solution:   Check that the buffer still exists.
Files:      src/terminal.c

Patch 8.0.1318
Problem:    Terminal balloon only shows one line.
Solution:   Split into several lines in a clever way.  Add <A HREF="eval.html#balloon_split()">balloon_split()</A>.
            Make <A HREF="eval.html#balloon_show()">balloon_show()</A> accept a <A HREF="eval.html#list">list</A> in the <A HREF="terminal.html#terminal">terminal</A>.
Files:      src/popupmnu.c, src/proto/popupmnu.pro, src/evalfunc.c,
            src/beval.c, src/proto/beval.pro, src/testdir/test_popup.vim,
            runtime/doc/eval.txt,
            runtime/pack/dist/opt/termdebug/plugin/termdebug.vim

Patch 8.0.1319
Problem:    Can't build <A HREF="gui.html#GUI">GUI</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Don't define the <A HREF="eval.html#balloon_split()">balloon_split()</A> function in a GUI-only build.
Files:      src/evalfunc.c, runtime/doc/eval.txt

Patch 8.0.1320
Problem:    Popup test fails on GUI-only build.
Solution:   Don't test <A HREF="eval.html#balloon_split()">balloon_split()</A> when it's not available.
Files:      src/testdir/test_popup.vim

Patch 8.0.1321
Problem:    Can't build huge version with <A HREF="gui_x11.html#Athena">Athena</A>. (Mark Kelly)
Solution:   Move including beval.h to before structs.h. Include beval.pro like
            other proto files.
Files:      src/vim.h, src/beval.h, src/proto.h

Patch 8.0.1322
Problem:    Textformat test isn't run. (Yegappan Lakshmanan)
Solution:   Add target to the <A HREF="eval.html#list">list</A> of tests.
Files:      src/testdir/Make_all.mak

Patch 8.0.1323
Problem:    Mouse events in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> may cause endless loop.
Solution:   Adjust position computation.  Don't stuff a mouse event when
            coming from normal_cmd().
Files:      src/normal.c, src/terminal.c

Patch 8.0.1324
Problem:    Some xterm sends different mouse move codes.
Solution:   Also accept 0x80 <A HREF="motion.html#as">as</A> a move event.
Files:      src/term.c

Patch 8.0.1325
Problem:    More tests are not run.
Solution:   Add targets to the <A HREF="eval.html#list">list</A> of tests. (Yegappan Lakshmanan)
Files:      src/testdir/Make_all.mak

Patch 8.0.1326
Problem:    Largefile test fails on CI, glob test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Remove largefile test from <A HREF="eval.html#list">list</A> of all tests. Don't run
            Test_glob() on non-unix systems.  More cleanup. (Yegappan
            Lakshmanan, closes #2354)
Files:      src/testdir/Make_all.mak, src/testdir/test_escaped_glob.vim,
            src/testdir/test_plus_arg_edit.vim

Patch 8.0.1327
Problem:    New proto file missing from <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add <A HREF="motion.html#it">it</A>. (closes #2355)
Files:      Filelist

Patch 8.0.1328
Problem:    Trouble when using &quot;:term ++close&quot; with autocmd. (Gabriel Barta)
Solution:   Use aucmd_prepbuf() and aucmd_restbuf() instead of setting curbuf.
            (closes #2339)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1329
Problem:    When a flaky test fails <A HREF="motion.html#it">it</A> also often fails the second time.
Solution:   Sleep a couple of seconds before the second try.
Files:      src/testdir/runtest.vim

Patch 8.0.1330
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="channel.html#job">job</A> in <A HREF="terminal.html#terminal">terminal</A> can't get back to Vim.
Solution:   set VIM_SERVERNAME in the environment. (Yasuhiro Matsumoto, closes
            #2360)
Files:      runtime/doc/terminal.txt, src/os_win32.c, src/proto/os_win32.pro,
            src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1331
Problem:    Possible crash when <A HREF="windows.html#window">window</A> can be zero lines high. (Joseph
            Dornisch)
Solution:   Only set w_fraction if the <A HREF="windows.html#window">window</A> is at least two lines high.
Files:      src/window.c

Patch 8.0.1332
Problem:    Highlighting in <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> could be better. (Axel Bender)
Solution:   Use the qfSeparator highlight item. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.1333
Problem:    Some tests are run <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Invoked most <A HREF="mbyte.html#utf8">utf8</A> tests only from test_alot_utf8. (Yegappan
            Lakshmanan, closes #2369)
Files:      src/testdir/Make_all.mak, src/testdir/test_alot_utf8.vim,
            src/testdir/test_mksession_utf8.vim

Patch 8.0.1334
Problem:    Splitting a <A HREF="windows.html#window">window</A> with a <A HREF="gui.html#WinBar">WinBar</A> damages <A HREF="windows.html#window">window</A> layout.
            (Lifepillar)
Solution:   Take the winbar into account when computing the new <A HREF="windows.html#window">window</A>
            position.  Add WINBAR_HEIGHT().
Files:      src/vim.h, src/window.c

Patch 8.0.1335
Problem:    Writefile() using fsync() may give an error for a device.
            (Yasuhiro Matsumoto)
Solution:   Ignore fsync() failing. (closes #2373)
Files:      src/evalfunc.c

Patch 8.0.1336
Problem:    Cannot use imactivatefunc() unless compiled with <A HREF="various.html#+xim">+xim</A>.
Solution:   Allow using imactivatefunc() when not compiled with <A HREF="various.html#+xim">+xim</A>.
            (Yasuhiro Matsumoto, closes #2349)
Files:      runtime/doc/options.txt, runtime/doc/mbyte.txt, src/mbyte.c,
            src/option.c, src/option.h, src/structs.h,
            src/testdir/test_iminsert.vim, src/Makefile,
            src/testdir/Make_all.mak, src/vim.h

Patch 8.0.1337 (after 8.0.1336)
Problem:    Typo in #ifdef.
Solution:   Fix the #if line.
Files:      src/mbyte.c

Patch 8.0.1338 (after 8.0.1337)
Problem:    USE_IM_CONTROL is confusing and incomplete.
Solution:   Just use FEAT_MBYTE.  Call <A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A> also without <A HREF="gui.html#GUI">GUI</A>.
Files:      src/vim.h, src/edit.c, src/ex_getln.c, src/getchar.c, src/gui.c,
            src/gui_mac.c, src/gui_w32.c, src/mbyte.c, src/normal.c,
            src/option.c, src/ui.c, src/globals.h, src/option.h

Patch 8.0.1339
Problem:    No test for what 8.0.1335 fixes.
Solution:   Add a test. (Yasuhiro Matsumoto, closes #2373)
Files:      src/testdir/test_writefile.vim

Patch 8.0.1340
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot build <A HREF="gui.html#GUI">GUI</A> without <A HREF="mbyte.html#IME">IME</A>.
Solution:   Define im_get_status() and im_set_active() when <A HREF="mbyte.html#IME">IME</A> is not used.
Files:      src/mbyte.c

Patch 8.0.1341
Problem:    <A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the text.
Files:      src/testdir/test_iminsert.vim, runtime/doc/options.txt

Patch 8.0.1342
Problem:    Cannot build with <A HREF="gui_x11.html#Motif">Motif</A> and <A HREF="mbyte.html#multi-byte">multi-byte</A>. (Mohamed Boughaba)
Solution:   Use the right input method status flag. (closes #2374)
Files:      src/mbyte.c

Patch 8.0.1343
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: does not show colored emojis.
Solution:   Implement colored emojis. Improve drawing speed. Make 'taamode'
            work. (Taro Muraoka, Yasuhiro Matsumoto, Ken Takata, close #2375)
Files:      appveyor.yml, runtime/doc/options.txt, src/gui_dwrite.cpp,
            src/gui_dwrite.h, src/gui_w32.c, src/proto/gui_w32.pro

Patch 8.0.1344
Problem:    Using <A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A> in the <A HREF="gui.html#GUI">GUI</A> does not work.
Solution:   Do not use <A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A> and <A HREF="options.html#'imstatusfunc'">'imstatusfunc'</A> in the <A HREF="gui.html#GUI">GUI</A>.
Files:      runtime/doc/options.txt, src/mbyte.c,
            src/testdir/test_iminsert.vim

Patch 8.0.1345
Problem:    Race condition between stat() and open() for the <A HREF="starting.html#viminfo">viminfo</A> temp
            file. (Simon Ruderich)
Solution:   use open() with O_EXCL to atomically check if the file exists.
            Don't try using a temp file, renaming <A HREF="motion.html#it">it</A> will fail anyway.
Files:      src/ex_cmds.c

Patch 8.0.1346
Problem:    Crash when passing 50 char <A HREF="eval.html#string">string</A> to <A HREF="eval.html#balloon_split()">balloon_split()</A>.
Solution:   Fix off-by-one error.
Files:      src/testdir/test_popup.vim, src/popupmnu.c

Patch 8.0.1347
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: build broken by misplaced curly.
Solution:   Move curly after #endif.
Files:      src/ex_cmds.c

Patch 8.0.1348
Problem:    Make testclean deletes <A HREF="usr_41.html#script">script</A> file on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Rename file to avoid <A HREF="motion.html#it">it</A> starting with an &quot;<A HREF="change.html#x">x</A>&quot;.
Files:      src/testdir/xterm_ramp.vim, src/testdir/color_ramp.vim, Filelist

Patch 8.0.1349
Problem:    Options test fails when using <A HREF="gui_x11.html#Motif">Motif</A> or <A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#GUI">GUI</A>.
Solution:   Use &quot;fixed&quot; instead of &quot;fixedsys&quot; for <A HREF="os_unix.html#Unix">Unix</A>. Don't try &quot;xxx&quot; for
            guifonteset.  Don't set <A HREF="options.html#'termencoding'">'termencoding'</A> to anything but &quot;<A HREF="mbyte.html#utf-8">utf-8</A>&quot; for
            <A HREF="gui_x11.html#GTK">GTK</A>.  Give an error if <A HREF="options.html#'termencoding'">'termencoding'</A> can't be converted.
Files:      src/testdir/gen_opt_test.vim, src/option.c

Patch 8.0.1350
Problem:    Cannot build with <A HREF="various.html#+eval">+eval</A> and -multi_byte.
Solution:   Adjust #ifdefs. (John Marriott)  Always include the multi_byte
            feature when an input method feature is enabled.
Files:      src/mbyte.c, src/feature.h

Patch 8.0.1351
Problem:    Warning for unused <A HREF="eval.html#variables">variables</A> building with MinGW.
Solution:   Change a few #ifdefs (suggested by John Marriott). Remove
            superfluous checks of FEAT_MBYTE.
Files:      src/gui_w32.c

Patch 8.0.1352
Problem:    Dead URLs in the help go unnoticed.
Solution:   Add a <A HREF="usr_41.html#script">script</A> to check URLs in the help files. (Christian Brabandt)
Files:      runtime/doc/Makefile, runtime/doc/test_urls.vim, Filelist

Patch 8.0.1353
Problem:    <A HREF="autocmd.html#QuickFixCmdPost">QuickFixCmdPost</A> is not used consistently.
Solution:   Invoke <A HREF="autocmd.html#QuickFixCmdPost">QuickFixCmdPost</A> consistently after <A HREF="autocmd.html#QuickFixCmdPre">QuickFixCmdPre</A>.
            (Yegappan Lakshmanan, closes #2377)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1354
Problem:    Shift-Insert doesn't always work in <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   Handle K_NUL differently. (Yasuhiro Matsumoto, closes #2381)
Files:      src/os_win32.c

Patch 8.0.1355 (after 8.0.1354)
Problem:    Cursor keys don't work in <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   Revert the previous patch.  Also delete dead code.
Files:      src/os_win32.c

Patch 8.0.1356
Problem:    Using simalt in a <A HREF="autocmd.html#GUIEnter">GUIEnter</A> <A HREF="autocmd.html#autocommand">autocommand</A> inserts strange characters.
            (Chih-Long Chang)
Solution:   Ignore K_NOP in <A HREF="insert.html#Insert">Insert</A> mode. (closes #2379)
Files:      src/edit.c, src/ex_getln.c

Patch 8.0.1357
Problem:    Startup test fails on OpenBSD. (Edd Barrett)
Solution:   Check for &quot;BSD&quot; instead of &quot;FreeBSD&quot; being defined. (James McCoy,
            closes #2376, closes #2378)
Files:      src/vim.h

Patch 8.0.1358
Problem:    Undercurl is not used in the <A HREF="terminal.html#terminal">terminal</A>. (Kovid Goyal)
Solution:   Only fall back to <A HREF="syntax.html#underline">underline</A> when <A HREF="syntax.html#undercurl">undercurl</A> highlighting is not
            defined. (closes #1306)
Files:      src/screen.c

Patch 8.0.1359
Problem:    Libvterm ANSI colors can not always be recognized from the RGB
            values. The default color is wrong when <A HREF="term.html#t_RB">t_RB</A> is empty.
Solution:   Add the ANSI color index to VTermColor.
Files:      src/libvterm/include/vterm.h, src/libvterm/src/pen.c,
            src/terminal.c

Patch 8.0.1360
Problem:    The Terminal highlighting doesn't work in a <A HREF="terminal.html#terminal">terminal</A>. (Ozaki
            Kiichi)
Solution:   Use the Terminal highlighting when the cterm index is zero.
Files:      src/terminal.c

Patch 8.0.1361
Problem:    Some users don't want to <A HREF="diff.html#diff">diff</A> with hidden <A HREF="windows.html#buffers">buffers</A>.
Solution:   Add the &quot;hiddenoff&quot; item to <A HREF="options.html#'diffopt'">'diffopt'</A>. (Alisue, closes #2394)
Files:      runtime/doc/options.txt, src/buffer.c, src/diff.c,
            src/proto/diff.pro, src/testdir/test_diffmode.vim

Patch 8.0.1362
Problem:    Terminal <A HREF="windows.html#window">window</A> colors wrong when using Terminal highlighting.
Solution:   Set ansi_index when setting the default color.  Also cache the
            color index for Terminal. (Ozaki Kiichi, closes #2393)
Files:      src/libvterm/src/pen.c, src/proto/terminal.pro, src/syntax.c,
            src/terminal.c

Patch 8.0.1363
Problem:    Recovering does not work when swap file ends in .stz.
Solution:   Check for all possible swap file names. (Elfling, closes #2395,
            closes #2396)
Files:      src/memline.c

Patch 8.0.1364
Problem:    There is no <A HREF="starting.html#easy">easy</A> way to get the <A HREF="windows.html#window">window</A> position.
Solution:   Add <A HREF="eval.html#win_screenpos()">win_screenpos()</A>.
Files:      src/evalfunc.c, src/testdir/test_window_cmd.vim,
            runtime/doc/eval.txt

Patch 8.0.1365
Problem:    When one <A HREF="channel.html#channel">channel</A> test fails others fail <A HREF="motion.html#as">as</A> well.
Solution:   Stop the <A HREF="channel.html#job">job</A> after a failure.  Also add a couple of tests to the
            <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/test_channel.vim, src/testdir/runtest.vim

Patch 8.0.1366
Problem:    Balloon shows when cursor is in <A HREF="gui.html#WinBar">WinBar</A>.
Solution:   Don't show the balloon when row is negative.
Files:      src/beval.c

Patch 8.0.1367
Problem:    <A HREF="terminal.html#terminal">terminal</A> test hangs, executing abcde. (Stucki)
Solution:   Rename abcde to abxde.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1368
Problem:    Cannot drag status line or vertical separator of new <A HREF="terminal.html#terminal">terminal</A>
            <A HREF="windows.html#window">window</A>. (UncleBill)
Solution:   Adjust mouse row and column computation. (Yasuhiro Matsumoto,
            closes #2410)
Files:      src/terminal.c

Patch 8.0.1369
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: drawing <A HREF="syntax.html#underline">underline</A>, curl and <A HREF="syntax.html#strikethrough">strikethrough</A> is slow,
            mFallbackDC not properly updated.
Solution:   Several performance improvements. (Ken Takata, Taro Muraoka,
            Yasuhiro Matsumoto, closes #2401)
Files:      runtime/doc/options.txt, src/gui_dwrite.cpp, src/gui_dwrite.h,
            src/gui_w32.c

Patch 8.0.1370
Problem:    <A HREF="eval.html#Channel">Channel</A> test for callback is flaky.
Solution:   Add the test to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.1371
Problem:    Shift-Insert doesn't always work in <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   Handle K_NUL differently if the second character is more than one
            byte. (Yasuhiro Matsumoto, closes #2381)
Files:      src/os_win32.c

Patch 8.0.1372
Problem:    Profile log may be truncated halfway a character.
Solution:   Find the start of the character. (Ozaki Kiichi, closes #2385)
Files:      src/ex_cmds2.c, src/testdir/test_profile.vim

Patch 8.0.1373
Problem:    No error when setting <A HREF="options.html#'renderoptions'">'renderoptions'</A> to an invalid value before
            starting the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Always check the value. (Ken Takata, closes #2413)
Files:      src/gui_w32.c, src/option.c

Patch 8.0.1374
Problem:    <A HREF="change.html#CTRL-A">CTRL-A</A> does not work with an empty line. (Alex)
Solution:   Decrement the end only once. (Hirohito Higashi, closes #2387)
Files:      src/ops.c, src/testdir/test_increment.vim

Patch 8.0.1375
Problem:    Window size wrong after maximizing with <A HREF="gui.html#WinBar">WinBar</A>. (Lifepillar)
Solution:   Fix height computations. Redraw <A HREF="windows.html#window">window</A> when <A HREF="motion.html#it">it</A> is zero height but
            has a <A HREF="gui.html#WinBar">WinBar</A>. (closes #2356)
Files:      src/window.c, src/screen.c, src/vim.h

Patch 8.0.1376
Problem:    Cursor in <A HREF="terminal.html#terminal">terminal</A> not always updated.
Solution:   Call gui_mch_flush(). (Ken Takata)
Files:      src/terminal.c

Patch 8.0.1377
Problem:    Cannot call a <A HREF="eval.html#dict">dict</A> function in autoloaded <A HREF="eval.html#dict">dict</A>.
Solution:   Call get_lval() passing the read-only flag.
Files:      src/userfunc.c, src/eval.c, src/testdir/sautest/autoload/foo.vim,
            src/testdir/sautest/autoload/globone.vim,
            src/testdir/sautest/autoload/globtwo.vim,
            src/testdir/test_escaped_glob.vim, src/Makefile,
            src/testdir/test_autoload.vim, src/Makefile,
            src/testdir/Make_all.mak

Patch 8.0.1378
Problem:    Autoload <A HREF="usr_41.html#script">script</A> sources itself when defining function.
Solution:   Pass TFN_NO_AUTOLOAD to trans_function_name(). (Yasuhiro
            Matsumoto, closes #2423)
Files:      src/userfunc.c, src/testdir/test_autoload.vim,
            src/testdir/sautest/autoload/sourced.vim

Patch 8.0.1379
Problem:    Configure check for selinux does not check for header file.
Solution:   Add an AC_CHECK_HEADER(). (Benny Siegert)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1380
Problem:    When recovering a file with &quot;vim <A HREF="starting.html#-r">-r</A> swapfile&quot; the <A HREF="message.html#hit-enter">hit-enter</A> prompt
            is at the top of the <A HREF="windows.html#window">window</A>.
Solution:   Invalidate the cursor position.
Files:      src/term.c

Patch 8.0.1381
Problem:    <A HREF="eval.html#ch_readraw()">ch_readraw()</A> waits for NL if <A HREF="channel.html#channel">channel</A> mode is NL.
Solution:   Pass a &quot;raw&quot; flag to channel_read_block(). (Yasuhiro Matsumoto)
Files:      src/channel.c, src/proto/channel.pro,
            src/testdir/test_channel.vim, src/testdir/test_channel_pipe.py

Patch 8.0.1382
Problem:    Get &quot;no write since last change&quot; message if a <A HREF="terminal.html#terminal">terminal</A> is open.
            (Fritz mehner)
Solution:   Don't consider a buffer changed if it's a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Files:      src/ex_cmds.c, src/undo.c, src/proto/undo.pro

Patch 8.0.1383
Problem:    Local additions in help skips some files. (joshklod)
Solution:   Check the base file name length equals.
Files:      src/ex_cmds.c, src/testdir/test_help.vim

Patch 8.0.1384
Problem:    Not enough <A HREF="quickfix.html#quickfix">quickfix</A> help; confusing <A HREF="windows.html#winid">winid</A>.
Solution:   Add more examples in the help. When the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> is not
            present, return zero for <A HREF="eval.html#getqflist()">getqflist()</A> with '<A HREF="windows.html#winid">winid</A>'. Add more tests
            for jumping to <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> entries. (Yegappan Lakshmanan, closes
            #2427)
Files:      runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1385
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3.5 is getting old.
Solution:   Make <A HREF="if_pyth.html#Python">Python</A> 3.6 the default. (Ken Takata, closes #2429)
Files:      runtime/doc/if_pyth.txt, src/INSTALLpc.txt, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/bigvim.bat

Patch 8.0.1386
Problem:    Cannot select modified <A HREF="windows.html#buffers">buffers</A> with <A HREF="eval.html#getbufinfo()">getbufinfo()</A>.
Solution:   Add the &quot;bufmodified&quot; flag. (Yegappan Lakshmanan, closes #2431)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_bufwintabinfo.vim

Patch 8.0.1387
Problem:    Wordcount test is old style.
Solution:   Change into a new style test. (Yegappan Lakshmanan, closes #2434)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_vms.mms, src/testdir/test_wordcount.in,
            src/testdir/test_wordcount.ok, src/testdir/test_wordcount.vim

Patch 8.0.1388
Problem:    Char not overwritten with ambiguous width char, if the ambiguous
            char is single width but we reserve double-width space.
Solution:   First clear the screen cells. (Ozaki Kiichi, closes #2436)
Files:      src/screen.c

Patch 8.0.1389
Problem:    <A HREF="eval.html#getqflist()">getqflist()</A> items are missing if not set, that makes <A HREF="motion.html#it">it</A> more
            difficult to handle the values.
Solution:   When a value is not available return zero or another invalid
            value. (Yegappan Lakshmanan, closes #2430)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1390
Problem:    DirectX <A HREF="scroll.html#scrolling">scrolling</A> can be slow, vertical positioning is off.
Solution:   Make scroll slightly faster when using &quot;scrlines:1&quot;. Fix <A HREF="change.html#y">y</A>
            position of displayed text. Fix DirectX with non-utf8 encoding.
            (Ken Takata, closes #2440)
Files:      src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/gui_dwrite.cpp, src/gui_w32.c

Patch 8.0.1391
Problem:    Encoding empty <A HREF="eval.html#string">string</A> to JSON sometimes gives &quot;null&quot;.
Solution:   Handle NULL <A HREF="eval.html#string">string</A> <A HREF="motion.html#as">as</A> empty <A HREF="eval.html#string">string</A>. (closes #2446)
Files:      src/testdir/test_json.vim, src/json.c

Patch 8.0.1392
Problem:    Build fails with --with-features=huge --disable-channel.
Solution:   Don't enable the <A HREF="terminal.html#terminal">terminal</A> feature when the <A HREF="channel.html#channel">channel</A> feature is
            missing. (Dominique Pelle, closes #2453)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1393
Problem:    Too much highlighting with <A HREF="options.html#'hlsearch'">'hlsearch'</A> and <A HREF="options.html#'incsearch'">'incsearch'</A> set.
Solution:   Do not highlight matches when the <A HREF="pattern.html#pattern">pattern</A> matches everything.
Files:      src/ex_getln.c

Patch 8.0.1394
Problem:    Cannot intercept a <A HREF="change.html#yank">yank</A> command.
Solution:   Add the <A HREF="autocmd.html#TextYankPost">TextYankPost</A> <A HREF="autocmd.html#autocommand">autocommand</A> event. (Philippe Vaucher et al.,
            closes #2333)
Files:      runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/dict.c,
            src/eval.c, src/fileio.c, src/ops.c, src/proto/dict.pro,
            src/proto/eval.pro, src/proto/fileio.pro,
            src/testdir/test_autocmd.vim, src/vim.h

Patch 8.0.1395
Problem:    It is not <A HREF="starting.html#easy">easy</A> to see if a colorscheme is well written.
Solution:   Add a <A HREF="usr_41.html#script">script</A> that checks for common mistakes. (Christian Brabandt)
Files:      runtime/colors/check_colors.vim, runtime/colors/README.txt

Patch 8.0.1396
Problem:    Memory leak when <A HREF="editing.html#CTRL-G">CTRL-G</A> in search command line fails.
Solution:   Move restore_last_search_pattern to after &quot;if&quot;.
Files:      src/ex_getln.c

Patch 8.0.1397
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> with \&amp; following nothing gives an error.
Solution:   Emit an empty node when needed.
Files:      src/regexp_nfa.c, src/testdir/test_search.vim

Patch 8.0.1398
Problem:    <A HREF="repeat.html#:packadd">:packadd</A> does not load <A HREF="repeat.html#packages">packages</A> from the &quot;start&quot; directory.
            (Alejandro Hernandez)
Solution:   Make <A HREF="repeat.html#:packadd">:packadd</A> look in the &quot;start&quot; directory if those <A HREF="repeat.html#packages">packages</A> were
            not loaded on <A HREF="starting.html#startup">startup</A>.
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 8.0.1399
Problem:    Warnings and <A HREF="message.html#errors">errors</A> when building tiny version. (Tony Mechelynck)
Solution:   Add #ifdefs.
Files:      src/ex_getln.c, src/ops.c

Patch 8.0.1400
Problem:    Color scheme check <A HREF="usr_41.html#script">script</A> shows up <A HREF="motion.html#as">as</A> color scheme.
Solution:   Move <A HREF="motion.html#it">it</A> to the &quot;tools&quot; subdirectory. (closes #2457)
Files:      Filelist, runtime/colors/check_colors.vim,
            runtime/colors/tools/check_colors.vim, runtime/colors/README.txt

Patch 8.0.1401
Problem:    Cannot build with <A HREF="gui_x11.html#GTK">GTK</A> but without <A HREF="mbyte.html#XIM">XIM</A>. (Guido)
Solution:   Adjust #ifdef. (closes #2461)
Files:      src/gui.c

Patch 8.0.1402
Problem:    Crash with nasty <A HREF="autocmd.html#autocommand">autocommand</A>. (gy741, Dominique Pelle)
Solution:   Check that the new current buffer isn't wiped out. (closes #2447)
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 8.0.1403
Problem:    Using freed buffer in <A HREF="quickfix.html#grep">grep</A> command. (gy741, Dominique Pelle)
Solution:   Lock the dummy buffer to avoid <A HREF="autocmd.html#autocommands">autocommands</A> wiping <A HREF="motion.html#it">it</A> out.
Files:      src/quickfix.c, src/testdir/test_autocmd.vim

Patch 8.0.1404
Problem:    Invalid memory access on exit when <A HREF="autocmd.html#autocommands">autocommands</A> wipe out a buffer.
            (gy741, Dominique Pelle)
Solution:   Check if the buffer is still valid. (closes #2449)
Files:      src/main.c

Patch 8.0.1405
Problem:    Duplicated code for getting a typed character. <A HREF="autocmd.html#CursorHold">CursorHold</A> is
            called too often in the <A HREF="gui.html#GUI">GUI</A>. (lilydjwg)
Solution:   Refactor code to move code up from mch_inchar().  Don't fire
            <A HREF="autocmd.html#CursorHold">CursorHold</A> if <A HREF="eval.html#feedkeys()">feedkeys()</A> was used. (closes #2451)
Files:      src/gui.c, src/proto/gui.pro, src/main.c, src/ui.c,
            src/proto/ui.pro, src/os_unix.c

Patch 8.0.1406
Problem:    Difficult to track changes to a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Add a &quot;changedtick&quot; value. (Yegappan Lakshmanan, closes #2460)
Files:      runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1407
Problem:    <A HREF="gui.html#GUI">GUI</A>: <A HREF="autocmd.html#CursorHold">CursorHold</A> may trigger before <A HREF="options.html#'updatetime'">'updatetime'</A> when using <A HREF="eval.html#timers">timers</A>.
Solution:   Check that <A HREF="options.html#'updatetime'">'updatetime'</A> has passed.
Files:      src/gui.c

Patch 8.0.1408
Problem:    Crash in <A HREF="eval.html#setqflist()">setqflist()</A>.
Solution:   Check for <A HREF="eval.html#string">string</A> to be NULL. (Dominique Pelle, closes #2464)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1409
Problem:    Buffer overflow in <A HREF="tagsrch.html#:tags">:tags</A> command.
Solution:   Use vim_snprintf(). (Dominique Pelle, closes #2471, closes #2475)
            Add a test.
Files:      src/testdir/test_taglist.vim, src/tag.c

Patch 8.0.1410
Problem:    Hang when using <A HREF="eval.html#count()">count()</A> with an empty <A HREF="eval.html#string">string</A>.
Solution:   Return zero for an empty <A HREF="eval.html#string">string</A>. (Dominique Pelle, closes #2465)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_functions.vim

Patch 8.0.1411
Problem:    Reading invalid memory with <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="cmdline.html#:.">:.</A>
Solution:   Correct the command characters. (closes #2469)
Files:      src/normal.c, src/testdir/test_window_cmd.vim, src/ops.c

Patch 8.0.1412
Problem:    Using free memory using <A HREF="eval.html#setloclist()">setloclist()</A>. (Dominique Pelle)
Solution:   <A HREF="motion.html#Mark">Mark</A> location <A HREF="eval.html#list">list</A> context <A HREF="motion.html#as">as</A> still in use when needed. (Yegappan
            Lakshmanan, closes #2462)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1413
Problem:    Accessing freed memory in <A HREF="quickfix.html#:cbuffer">:cbuffer</A>.
Solution:   Get <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> after executing autocmds. (closes #2470)
Files:      src/quickfix.c, src/testdir/test_autocmd.vim

Patch 8.0.1414
Problem:    Accessing freed memory in <A HREF="quickfix.html#:lfile">:lfile</A>.
Solution:   Get the current <A HREF="windows.html#window">window</A> after executing <A HREF="autocmd.html#autocommands">autocommands</A>. (Yegappan
            Lakshmanan, closes #2473)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1415
Problem:    Warning for unused function without <A HREF="eval.html#timers">timers</A> feature.
Solution:   Add #ifdef. (John Marriott)
Files:      src/gui.c

Patch 8.0.1416
Problem:    Crash when searching for a <A HREF="motion.html#sentence">sentence</A>.
Solution:   Return NUL when getting character at MAXCOL. (closes #2468)
Files:      src/misc1.c, src/misc2.c, src/testdir/test_search.vim,
            src/ex_docmd.c

Patch 8.0.1417
Problem:    Test doesn't search for a <A HREF="motion.html#sentence">sentence</A>. Still fails when searching for
            start of <A HREF="motion.html#sentence">sentence</A>. (Dominique Pelle)
Solution:   Add paren. Check for MAXCOL in dec().
Files:      src/testdir/test_search.vim, src/misc2.c

Patch 8.0.1418
Problem:    No test for expanding backticks.
Solution:   Add a test. (Dominique Pelle, closes #2479)
Files:      src/testdir/test_normal.vim

Patch 8.0.1419
Problem:    Cursor column is not updated after <A HREF="spell.html#]s">]s</A>. (Gary Johnson)
Solution:   Set the curswant flag.
Files:      src/testdir/test_spell.vim, src/normal.c, src/evalfunc.c

Patch 8.0.1420
Problem:    Accessing freed memory in vimgrep.
Solution:   Check that the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> is still valid. (Yegappan Lakshmanan,
            closes #2474)
Files:      src/quickfix.c, src/testdir/test_autocmd.vim,
            src/testdir/test_quickfix.vim

Patch 8.0.1421
Problem:    Accessing invalid memory with overlong byte sequence.
Solution:   Check for NUL character. (test by Dominique Pelle, closes #2485)
Files:      src/misc2.c, src/testdir/test_functions.vim

Patch 8.0.1422
Problem:    No fallback to <A HREF="syntax.html#underline">underline</A> when <A HREF="syntax.html#undercurl">undercurl</A> is not set. (Ben Jackson)
Solution:   Check for the value to be empty instead of NULL. (closes #2424)
Files:      src/screen.c

Patch 8.0.1423
Problem:    Error in return not caught by try/catch.
Solution:   Call update_force_abort(). (Yasuhiro Matsumoto, closes #2483)
Files:      src/testdir/test_eval.in, src/testdir/test_eval_stuff.vim,
            src/Makefile, src/testdir/Make_all.mak, src/userfunc.c

Patch 8.0.1424
Problem:    The timer_pause test is flaky on Travis.
Solution:   Accept a longer sleep time on <A HREF="os_mac.html#Mac">Mac</A>.
Files:      src/testdir/test_timers.vim

Patch 8.0.1425
Problem:    <A HREF="eval.html#execute()">execute()</A> does not work in completion of user command. (thinca)
Solution:   Switch off redir_off and restore <A HREF="motion.html#it">it</A>. (Ozaki Kiichi, closes #2492)
Files:      src/evalfunc.c, src/testdir/test_usercommands.vim

Patch 8.0.1426
Problem:    &quot;<A HREF="editing.html#gf">gf</A>&quot; and <A HREF="cmdline.html#&lt;cfile&gt;">&lt;cfile&gt;</A> don't accept ? and <A HREF="change.html#&amp;">&amp;</A> in URL. (Dmitrii Tcyganok)
Solution:   Check for a URL and allow for extra characters. (closes #2493)
Files:      src/window.c, src/testdir/test_gf.vim

Patch 8.0.1427
Problem:    The <A HREF="windows.html#:leftabove">:leftabove</A> modifier doesn't work for <A HREF="quickfix.html#:copen">:copen</A>.
Solution:   Respect the split modifier. (Yegappan Lakshmanan, closes #2496)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1428
Problem:    Compiler warning on 64 bit <A HREF="os_win32.html#MS-Windows">MS-Windows</A> system.
Solution:   Change type from &quot;int&quot; to &quot;size_t&quot;. (Mike Williams)
Files:      src/ex_getln.c

Patch 8.0.1429
Problem:    Crash when calling <A HREF="eval.html#term_start()">term_start()</A> with empty argument.
Solution:   Check for invalid argument. (Yasuhiro Matsumoto, closes #2503)
            Fix memory leak.
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1430 (after 8.0.1429)
Problem:    Crash when <A HREF="eval.html#term_start()">term_start()</A> fails.
Solution:   Initialize winpty_err.
Files:      src/terminal.c

Patch 8.0.1431
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="usr_01.html#vimtutor">vimtutor</A> fails if &#37;TMP&#37; has special chars.
Solution:   Add <A HREF="quotes.html#quotes">quotes</A>. (Tamce, closes #2561)
Files:      vimtutor.bat

Patch 8.0.1432
Problem:    After &quot;<A HREF="quickfix.html#:copen">:copen</A>&quot; can't get the <A HREF="windows.html#window-ID">window-ID</A> of the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>.
            (FalacerSelene)
Solution:   Make <A HREF="motion.html#it">it</A> work without a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.  Add a test. (Yegappan
            Lakshmanan, closes #2541)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1433
Problem:    Illegal memory access after <A HREF="undo.html#undo">undo</A>. (Dominique Pelle)
Solution:   Avoid the column becomes negative. (Christian Brabandt,
            closes #2533)
Files:      src/mbyte.c, src/testdir/test_undo.vim

Patch 8.0.1434
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: :promtfind does not put focus on text input. (Adam Novak)
Solution:   When re-opening the <A HREF="gui_w32.html#dialog">dialog</A> put focus on the text input. (Kazunobu
            Kuriyama, closes #2563)
Files:      src/gui_gtk.c

Patch 8.0.1435
Problem:    Memory leak in test_arabic.
Solution:   Free the from and to parts. (Christian Brabandt, closes #2569)
Files:      src/buffer.c, src/digraph.c, src/proto/digraph.pro

Patch 8.0.1436
Problem:    Not enough information about what <A HREF="if_pyth.html#Python">Python</A> version may work.
Solution:   Add &quot;python_compiled&quot;, &quot;python3_compiled&quot;, &quot;python_dynamic&quot; and
            &quot;python3_dynamic&quot; values for <A HREF="eval.html#has()">has()</A>.
Files:      src/evalfunc.c, runtime/doc/eval.txt

Patch 8.0.1437
Problem:    Pkg-config doesn't work with cross compiling.
Solution:   Use AC_PATH_TOOL() instead of AC_PATH_PROG(). (James McCoy,
            closes #2513)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1438
Problem:    Filetype detection test not updated for change.
Solution:   Update the test.
Files:      src/testdir/test_filetype.vim

Patch 8.0.1439
Problem:    If <A HREF="if_cscop.html#cscope">cscope</A> fails a search Vim may hang.
Solution:   Bail out when a search error is encountered. (Safouane Baroudi,
            closes #2598)
Files:      src/if_cscope.c

Patch 8.0.1440
Problem:    Terminal <A HREF="windows.html#window">window</A>: some vterm responses are delayed.
Solution:   After <A HREF="editing.html#writing">writing</A> input. check if there is output to read. (Ozaki
            Kiichi, closes #2594)
Files:      src/terminal.c, src/testdir/test_search.vim,
            src/testdir/test_terminal.vim

Patch 8.0.1441
Problem:    Using &quot;<A HREF="undo.html#:undo">:undo</A> 0&quot; leaves <A HREF="undo.html#undo">undo</A> in wrong state.
Solution:   Instead of searching for state 1 and go above, just use the start.
            (Ozaki Kiichi, closes #2595)
Files:      src/undo.c, src/testdir/test_undo.vim

Patch 8.0.1442 (after 8.0.1439)
Problem:    Using pointer before <A HREF="motion.html#it">it</A> is set.
Solution:   Search in whole buffer instead of next token.
Files:      src/if_cscope.c

Patch 8.0.1443 (after 8.0.1441)
Problem:    Compiler complains about uninitialized variable. (Tony Mechelynck)
Solution:   Assign a value to the variable.
Files:      src/undo.c

Patch 8.0.1444
Problem:    Missing -D_FILE_OFFSET_BITS=64 may cause problems if a library is
            compiled with <A HREF="motion.html#it">it</A>.
Solution:   Include -D_FILE_OFFSET_BITS if some CFLAGS has <A HREF="motion.html#it">it</A>. (James McCoy,
            closes #2600)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1445
Problem:    Cannot act on edits in the command line.
Solution:   Add the <A HREF="autocmd.html#CmdlineChanged">CmdlineChanged</A> <A HREF="autocmd.html#autocommand">autocommand</A> event. (xtal8, closes #2603,
            closes #2524)
Files:      runtime/doc/autocmd.txt, src/ex_getln.c, src/fileio.c,
            src/testdir/test_autocmd.vim, src/vim.h

Patch 8.0.1446
Problem:    Accessing freed memory after <A HREF="windows.html#window">window</A> command in auto command.
            (gy741)
Solution:   Adjust the pointer in the parent frame. (Christian Brabandt,
            closes #2467)
Files:      src/window.c, src/testdir/test_window_cmd.vim

Patch 8.0.1447
Problem:    Still too many old style tests.
Solution:   Turn a few tests into new style. (Yegappan Lakshmanan,
            closes #2509)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/main.aap, src/testdir/test15.in,
            src/testdir/test15.ok, src/testdir/test36.in,
            src/testdir/test36.ok, src/testdir/test50.in,
            src/testdir/test50.ok, src/testdir/test_regex_char_classes.vim,
            src/testdir/test_shortpathname.vim,
            src/testdir/test_textformat.vim

Patch 8.0.1448
Problem:    Segmentation fault when <A HREF="if_ruby.html#Ruby">Ruby</A> throws an exception inside <A HREF="if_ruby.html#:rubyfile">:rubyfile</A>
            command.
Solution:   Use rb_protect() instead of rb_load_protect(). (ujihisa,
            closes #2147, greywolf, closes #2512, #2511)
Files:      src/if_ruby.c, src/testdir/test_ruby.vim

Patch 8.0.1449
Problem:    Slow redrawing with DirectX.
Solution:   Avoid calling gui_mch_flush() unnecessarily, especially when
            updating the cursor. (Ken Takata, closes #2560)
Files:      runtime/doc/options.txt, src/channel.c, src/edit.c, src/getchar.c,
            src/gui.c, src/gui_dwrite.cpp, src/gui_dwrite.h, src/gui_w32.c,
            src/macros.h, src/main.c, src/message.c, src/netbeans.c,
            src/proto/gui.pro, src/proto/term.pro, src/screen.c, src/search.c,
            src/term.c, src/ui.c

Patch 8.0.1450
Problem:    Endless loop when gui_mch_stop_blink() is called while blink_state
            is BLINK_OFF. (zdohnal)
Solution:   Avoid calling gui_update_cursor() recursively.
Files:      src/gui.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,
            src/gui_mac.c, src/proto/gui_mac.pro, src/gui_photon.c,
            src/proto/gui_photon.pro, src/gui_w32.c, src/proto/gui_w32.pro,
            src/gui_x11.c, src/proto/gui_x11.pro

Patch 8.0.1451
Problem:    It is difficult to set the <A HREF="if_pyth.html#python">python</A> home directory properly for
            <A HREF="if_pyth.html#Python">Python</A> 2.7 and 3.5 since both use $PYTHONHOME.
Solution:   Add the <A HREF="options.html#'pythonhome'">'pythonhome'</A> and <A HREF="options.html#'pythonthreehome'">'pythonthreehome'</A> <A HREF="options.html#options">options</A>. (Kazuki
            Sakamoto, closes #1266)
Files:      runtime/doc/options.txt, runtime/doc/quickref.txt,
            runtime/optwin.vim, src/if_python.c, src/if_python3.c,
            src/option.c, src/option.h

Patch 8.0.1452
Problem:    Terminal test fails on some systems. (jonathonf)
Solution:   Use &quot;cat&quot; instead of <A HREF="if_pyth.html#Python">Python</A> to produce the input.  Add a delay.
            (closes #2607)
Files:      src/testdir/test_terminal.vim

Patch 8.0.1453
Problem:    Terminal test fails on some slow terminals.
Solution:   Increase timeout to 10 seconds.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1454
Problem:    When in silent mode too much output is buffered.
Solution:   Use line buffering instead of fully buffered. (Brian <A HREF="motion.html#M">M</A>. Carlson,
            closes #2537)
Files:      src/main.c

Patch 8.0.1455
Problem:    If $SHELL contains a space then the default value of <A HREF="options.html#'shell'">'shell'</A> is
            incorrect. (Matthew Horan)
Solution:   Escape spaces in $SHELL. (Christian Brabandt, closes #459)
Files:      src/option.c, runtime/doc/options.txt,
            src/testdir/test_startup.vim

Patch 8.0.1456
Problem:    Timer test on travis <A HREF="os_mac.html#Mac">Mac</A> is still flaky.
Solution:   Increase time range a bit more.
Files:      src/testdir/test_timers.vim

Patch 8.0.1457
Problem:    Clojure now supports a shebang line.
Solution:   Detect clojure <A HREF="usr_41.html#script">script</A> from the shebang line. (David Burgin,
            closes #2570)
Files:      runtime/scripts.vim

Patch 8.0.1458
Problem:    Filetype detection test does not check all scripts.
Solution:   Add most scripts to the test
Files:      src/testdir/test_filetype.vim

Patch 8.0.1459
Problem:    Cannot handle change of directory.
Solution:   Add the <A HREF="autocmd.html#DirChanged">DirChanged</A> <A HREF="autocmd.html#autocommand">autocommand</A> event. (Andy Massimino,
            closes #888)  Avoid <A HREF="change.html#changing">changing</A> directory for <A HREF="options.html#'autochdir'">'autochdir'</A> too often.
Files:      runtime/doc/autocmd.txt, src/buffer.c, src/ex_docmd.c,
            src/fileio.c, src/main.c, src/vim.h, src/proto/misc2.pro,
            src/gui_mac.c, src/netbeans.c, src/os_win32.c,
            src/testdir/test_autocmd.vim

Patch 8.0.1460 (after 8.0.1459)
Problem:    Missing file in patch.
Solution:   Add changes to missing file.
Files:      src/misc2.c

Patch 8.0.1461 (after 8.0.1459)
Problem:    Missing another file in patch.
Solution:   Add changes to missing file.
Files:      src/ex_cmds.c

Patch 8.0.1462 (after 8.0.1459)
Problem:    Missing yet another file in patch.
Solution:   Add changes to missing file.
Files:      src/gui.c

Patch 8.0.1463
Problem:    Test fails without <A HREF="options.html#'autochdir'">'autochdir'</A> option.
Solution:   Skip test if <A HREF="options.html#'autochdir'">'autochdir'</A> is not supported.
Files:      src/testdir/test_autocmd.vim

Patch 8.0.1464
Problem:    Completing directory after <A HREF="editing.html#:find">:find</A> does not add slash.
Solution:   Adjust the flags for <A HREF="eval.html#globpath()">globpath()</A>. (Genki Sky)
Files:      src/misc1.c, src/testdir/test_find_complete.vim

Patch 8.0.1465
Problem:    Python2 and <A HREF="if_pyth.html#python3">python3</A> detection not tested. (Matej Cepl)
Solution:   Add test for detecting python2 and <A HREF="if_pyth.html#python3">python3</A>.  Also detect a <A HREF="usr_41.html#script">script</A>
            using &quot;js&quot; <A HREF="motion.html#as">as</A> javascript.
Files:      runtime/scripts.vim, src/testdir/test_filetype.vim

Patch 8.0.1466
Problem:    Older <A HREF="gui_x11.html#GTK">GTK</A> versions don't have gtk_entry_get_text_length().
Solution:   Add a function with #ifdefs to take care of <A HREF="gui_x11.html#GTK">GTK</A> version
            differences. (Kazunobu Kuriyama, closes #2605)
Files:      src/gui_gtk.c

Patch 8.0.1467
Problem:    Libvterm doesn't handle illegal byte sequence correctly.
Solution:   After the invalid code check if there is space to store another
            character.  Allocate one more character. (zhykzhykzhyk, closes
            #2614, closes #2613)
Files:      src/libvterm/src/encoding.c, src/libvterm/src/state.c

Patch 8.0.1468
Problem:    Illegal memory access in del_bytes().
Solution:   Check for negative byte <A HREF="intro.html#count">count</A>. (Christian Brabandt, closes #2466)
Files:      src/message.c, src/misc1.c

Patch 8.0.1469
Problem:    When package path is a symlink adding <A HREF="motion.html#it">it</A> to <A HREF="options.html#'runtimepath'">'runtimepath'</A> happens
            at the end.
Solution:   Do not resolve symlinks before locating the position in
            <A HREF="options.html#'runtimepath'">'runtimepath'</A>. (Ozaki Kiichi, closes #2604)
Files:      src/ex_cmds2.c, src/testdir/test_packadd.vim

Patch 8.0.1470
Problem:    Integer overflow when using <A HREF="pattern.html#regexp">regexp</A> <A HREF="pattern.html#pattern">pattern</A>. (geeknik)
Solution:   Use a long instead of int. (Christian Brabandt, closes #2251)
Files:      src/regexp_nfa.c

Patch 8.0.1471 (after 8.0.1401)
Problem:    On <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="mbyte.html#CursorIM">CursorIM</A> highlighting no longer works.
Solution:   Adjust #if statements. (Ken Takata)
Files:      src/gui.c

Patch 8.0.1472
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: nsis installer is a bit slow.
Solution:   Use ReserveFile for vimrc.ini. (Ken Takata, closes #2522)
Files:      nsis/gvim.nsi

Patch 8.0.1473
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: D&amp;D fails between 32 and 64 bit apps.
Solution:   Add the /HIGHENTROPYVA:NO linker option. (Ken Takata, closes #2504)
Files:      src/Make_mvc.mak

Patch 8.0.1474
Problem:    <A HREF="visual.html#Visual">Visual</A> C 2017 has multiple MSVCVER numbers.
Solution:   Assume the 2017 version if MSVCVER &gt;= 1910. (Leonardo Valeri
            Manera, closes #2619)
Files:      src/Make_mvc.mak

Patch 8.0.1475
Problem:    Invalid memory access in read_redo(). (gy741)
Solution:   Convert the replacement character back from a negative number to
            CR or NL. (hint by Dominique Pelle, closes #2616)
Files:      src/testdir/test_undo.vim, src/normal.c, src/vim.h, src/ops.c

Patch 8.0.1476
Problem:    Screen isn't always updated right away.
Solution:   Adjust #ifdef: Call out_flush() when not running the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/screen.c

Patch 8.0.1477
Problem:    Redraw flicker when moving the mouse outside of <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Instead of updating the cursor color and shape every time leaving
            and entering a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>, only update when different from
            the previously used cursor.
Files:      src/terminal.c

Patch 8.0.1478
Problem:    Unnecessary condition for &quot;len&quot; being zero.
Solution:   Remove the condition. (Dominique Pelle)
Files:      src/regexp_nfa.c

Patch 8.0.1479
Problem:    <A HREF="insert.html#Insert">Insert</A> mode completion state is confusing.
Solution:   Move ctrl_x_mode into edit.c.  Add CTRL_X_NORMAL for zero.
Files:      src/edit.c, src/globals.h, src/proto/edit.pro, src/search.c,
            src/getchar.c

Patch 8.0.1480 (after 8.0.1479)
Problem:    Patch missing change.
Solution:   Add missing change.
Files:      src/evalfunc.c

Patch 8.0.1481
Problem:    Clearing a pointer takes two lines.
Solution:   Add vim_clear() to free and clear the pointer.
Files:      src/misc2.c, src/proto/misc2.pro, src/edit.c

Patch 8.0.1482
Problem:    Using <A HREF="eval.html#feedkeys()">feedkeys()</A> does not work to test <A HREF="insert.html#Insert">Insert</A> mode completion.
            (Lifepillar)
Solution:   Do not check for typed keys when executing <A HREF="various.html#:normal">:normal</A> or <A HREF="eval.html#feedkeys()">feedkeys()</A>.
            Fix thesaurus completion not working when <A HREF="options.html#'complete'">'complete'</A> is empty.
Files:      src/edit.c, src/testdir/test_ins_complete.vim,
            src/testdir/test_popup.vim, src/testdir/test_edit.vim

Patch 8.0.1483
Problem:    Searchpair() might return an invalid value on timeout.
Solution:   When the second search times out, <A HREF="diff.html#do">do</A> not accept a match from the
            first search. (Daniel Hahler, closes #2552)
Files:      src/search.c

Patch 8.0.1484
Problem:    Redundant conditions.
Solution:   Remove them. (Dominique Pelle)
Files:      src/terminal.c

Patch 8.0.1485
Problem:    Weird autocmd may cause <A HREF="editing.html#arglist">arglist</A> to be changed recursively.
Solution:   Prevent recursively <A HREF="change.html#changing">changing</A> the argument <A HREF="eval.html#list">list</A>. (Christian
            Brabandt, closes #2472)
Files:      src/ex_docmd.c, src/globals.h

Patch 8.0.1486
Problem:    Accessing invalid memory with &quot;<A HREF="motion.html#it">it</A>&quot;. (Dominique Pelle)
Solution:   Avoid going over the end of the line. (Christian Brabandt,
            closes #2532)
Files:      src/search.c, src/testdir/test_textobjects.vim

Patch 8.0.1487 (after 8.0.1486)
Problem:    Test 14 fails.
Solution:   Fix of-by-one error.
Files:      src/search.c

Patch 8.0.1488 (after 8.0.1218)
Problem:    Emacs <A HREF="tagsrch.html#tags">tags</A> no longer work. (zdohnal)
Solution:   Do not skip over end of line.
Files:      src/tag.c, src/testdir/test_tagjump.vim

Patch 8.0.1489
Problem:    There is no <A HREF="starting.html#easy">easy</A> way to get the global directory, esp. if some
            <A HREF="windows.html#windows">windows</A> have a local directory.
Solution:   Make getcwd(-1) return the global directory. (Andy Massimino,
            closes #2606)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_getcwd.vim

Patch 8.0.1490
Problem:    <A HREF="eval.html#Number">Number</A> of <A HREF="spell.html#spell">spell</A> regions is spread out through the code.
Solution:   Define MAXREGIONS.
Files:      src/spell.h, src/spellfile.c

Patch 8.0.1491
Problem:    The minimum width of the popup menu is hard coded.
Solution:   Add the <A HREF="options.html#'pumwidth'">'pumwidth'</A> option. (Christian Brabandt, James McCoy,
            closes #2314)
Files:      runtime/doc/options.txt, src/option.c, src/option.h,
            src/popupmnu.c

Patch 8.0.1492
Problem:    Memory leak in <A HREF="eval.html#balloon_split()">balloon_split()</A>.
Solution:   Free the balloon lines. Free the balloon when <A HREF="starting.html#exiting">exiting</A>.
Files:      src/misc2.c, src/evalfunc.c

Patch 8.0.1493
Problem:    Completion items cannot be annotated.
Solution:   Add a &quot;user_data&quot; entry to the completion item. (Ben Jackson,
            closes #2608, closes #2508)
Files:      runtime/doc/insert.txt, src/edit.c, src/structs.h,
            src/testdir/test_ins_complete.vim

Patch 8.0.1494
Problem:    No autocmd triggered in <A HREF="insert.html#Insert">Insert</A> mode with visible popup menu.
Solution:   Add <A HREF="autocmd.html#TextChangedP">TextChangedP</A>. (Prabir Shrestha, Christian Brabandt,
            closes #2372, closes #1691)
            Fix that the <A HREF="autocmd.html#TextChanged">TextChanged</A> <A HREF="autocmd.html#autocommands">autocommands</A> are not always triggered
            when sourcing a <A HREF="usr_41.html#script">script</A>.
Files:      runtime/doc/autocmd.txt, src/edit.c, src/globals.h, src/structs.h,
            src/fileio.c, src/proto/fileio.pro, src/vim.h, src/main.c,
            src/testdir/test_autocmd.vim

Patch 8.0.1495
Problem:    Having <A HREF="options.html#'pumwidth'">'pumwidth'</A> default to zero has no merit.
Solution:   Make the default 15, <A HREF="motion.html#as">as</A> the actual default value.
Files:      src/popupmnu.c, src/option.c

Patch 8.0.1496
Problem:    Clearing a pointer takes two lines.
Solution:   Add VIM_CLEAR() and replace vim_clear(). (Hirohito Higashi,
            closes #2629)
Files:      src/buffer.c, src/channel.c, src/crypt.c, src/edit.c, src/eval.c,
            src/evalfunc.c, src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/ex_getln.c, src/fileio.c, src/gui_gtk_x11.c, src/gui_photon.c,
            src/gui_w32.c, src/gui_x11.c, src/hardcopy.c, src/if_cscope.c,
            src/macros.h, src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,
            src/memline.c, src/menu.c, src/message.c, src/misc1.c,
            src/misc2.c, src/netbeans.c, src/normal.c, src/ops.c,
            src/option.c, src/os_amiga.c, src/os_mac_conv.c, src/os_mswin.c,
            src/os_unix.c, src/os_win32.c, src/popupmnu.c,
            src/proto/misc2.pro, src/quickfix.c, src/regexp.c,
            src/regexp_nfa.c, src/screen.c, src/search.c, src/spell.c,
            src/spellfile.c, src/syntax.c, src/tag.c, src/term.c,
            src/terminal.c, src/ui.c, src/undo.c, src/userfunc.c, src/window.c

Patch 8.0.1497
Problem:    Getting the jump <A HREF="eval.html#list">list</A> requires parsing the output of <A HREF="motion.html#:jumps">:jumps</A>.
Solution:   Add <A HREF="eval.html#getjumplist()">getjumplist()</A>. (Yegappan Lakshmanan, closes #2609)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/Makefile,
            src/evalfunc.c, src/list.c, src/proto/list.pro,
            src/testdir/Make_all.mak, src/testdir/test_jumplist.vim

Patch 8.0.1498 (after 8.0.1497)
Problem:    Getjumplist() returns duplicate entries. (lacygoill)
Solution:   Call cleanup_jumplist(). (Yegappan Lakshmanan)
Files:      src/evalfunc.c, src/mark.c, src/proto/mark.pro,
            src/testdir/test_jumplist.vim

Patch 8.0.1499
Problem:    Out-of-memory situation not correctly handled. (Coverity)
Solution:   Check for NULL value.
Files:      src/terminal.c

Patch 8.0.1500
Problem:    Possible NULL pointer dereference. (Coverity)
Solution:   Check for the pointer not being NULL.
Files:      src/quickfix.c

Patch 8.0.1501
Problem:    Out-of-memory situation not correctly handled. (Coverity)
Solution:   Check for NULL value.
Files:      src/ops.c

Patch 8.0.1502
Problem:    In out-of-memory situation character is not restored. (Coverity)
Solution:   Restore the character in all situations.
Files:      src/ex_getln.c

Patch 8.0.1503
Problem:    Access memory beyond end of <A HREF="eval.html#string">string</A>. (Coverity)
Solution:   Keep allocated memory in separate pointer.  Avoid outputting the
            NUL character.
Files:      src/hardcopy.c

Patch 8.0.1504
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: the screen may be cleared on <A HREF="starting.html#startup">startup</A>.
Solution:   Only call shell_resized() when the size actually changed. (Ken
            Takata, closes #2527)
Files:      src/os_win32.c

Patch 8.0.1505
Problem:    Debugger can't break on a condition. (Charles Campbell)
Solution:   Add &quot;<A HREF="repeat.html#:breakadd">:breakadd</A> expr&quot;. (Christian Brabandt, closes #859)
Files:      runtime/doc/repeat.txt, src/eval.c, src/evalfunc.c,
            src/userfunc.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/proto/eval.pro, src/proto/ex_cmds2.pro, src/structs.h

Patch 8.0.1506
Problem:    New version of HP NonStop (Tandem) doesn't like the default header
            for setenv().
Solution:   Put a #ifdef around the setenv() entry. (Joachim Schmitz)
Files:      src/osdef2.h.in

Patch 8.0.1507
Problem:    Timer test is a bit flaky.
Solution:   Add <A HREF="motion.html#it">it</A> to the <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.1508
Problem:    The <A HREF="windows.html#:drop">:drop</A> command is not always available.
Solution:   Include <A HREF="windows.html#:drop">:drop</A> in all builds. (Yasuhiro Matsumoto, closes #2639)
Files:      runtime/doc/windows.txt, src/ex_cmds.c, src/ex_cmds2.c,
            src/ex_docmd.c, src/testdir/test_normal.vim,
            src/testdir/test_tabpage.vim

Patch 8.0.1509 (after 8.0.1508)
Problem:    Test for failing <A HREF="gui.html#drag-n-drop">drag-n-drop</A> command no longer fails.
Solution:   Check for the &quot;dnd&quot; feature.
Files:      src/testdir/test_normal.vim

Patch 8.0.1510
Problem:    Cannot test if a command causes a beep.
Solution:   Add <A HREF="eval.html#assert_beeps()">assert_beeps()</A>.
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/eval.c,
            src/proto/eval.pro, src/misc1.c, src/globals.h,
            src/testdir/test_normal.vim, src/testdir/test_assert.vim

Patch 8.0.1511 (after 8.0.1505)
Problem:    Some code for the debugger watch <A HREF="eval.html#expression">expression</A> is clumsy.
Solution:   Clean up the code.
Files:      src/ex_cmds2.c, src/eval.c, src/proto/eval.pro

Patch 8.0.1512
Problem:    Warning for possibly using NULL pointer. (Coverity)
Solution:   Skip using the pointer if it's NULL.
Files:      src/ex_cmds.c

Patch 8.0.1513
Problem:    The <A HREF="motion.html#jumplist">jumplist</A> is not always properly cleaned up.
Solution:   Call fname2fnum() before cleanup_jumplist(). (Yegappan Lakshmanan)
Files:      src/evalfunc.c, src/mark.c, src/proto/mark.pro

Patch 8.0.1514
Problem:    Getting the <A HREF="eval.html#list">list</A> of changes is not <A HREF="starting.html#easy">easy</A>.
Solution:   Add the <A HREF="eval.html#getchangelist()">getchangelist()</A> function. (Yegappan Lakshmanan,
            closes #2634)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/testdir/Make_all.mak, src/testdir/test_changelist.vim,
            src/Makefile

Patch 8.0.1515
Problem:    <A HREF="autocmd.html#BufWinEnter">BufWinEnter</A> event fired when opening hidden <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Do not fire <A HREF="autocmd.html#BufWinEnter">BufWinEnter</A> when the <A HREF="terminal.html#terminal">terminal</A> is hidden and does not
            open a <A HREF="windows.html#window">window</A>. (Kenta Sato, closes #2636)
Files:      src/terminal.c

Patch 8.0.1516
Problem:    Errors for <A HREF="channel.html#job">job</A> <A HREF="options.html#options">options</A> are not very specific.
Solution:   Add more specific error <A HREF="message.html#messages">messages</A>.
Files:      src/channel.c, src/globals.h

Patch 8.0.1517
Problem:    Invalid memory access with <A HREF="pattern.html#pattern">pattern</A> using look-behind match.
            (Dominique Pelle)
Solution:   Get a pointer to the right line.
Files:      src/regexp.c

Patch 8.0.1518
Problem:    Error <A HREF="message.html#messages">messages</A> suppressed after &quot;<A HREF="various.html#:silent!">:silent!</A> try&quot;. (Ben Reilly)
Solution:   Restore emsg_silent before executing <A HREF="eval.html#:try">:try</A>. (closes #2531)
Files:      src/ex_docmd.c, src/testdir/test_eval_stuff.vim

Patch 8.0.1519
Problem:    Getchangelist() does not use argument <A HREF="motion.html#as">as</A> <A HREF="eval.html#bufname()">bufname()</A>.
Solution:   Use get_buf_tv(). (Yegappan Lakshmanan, closes #2641)
Files:      src/evalfunc.c, src/testdir/test_changelist.vim

Patch 8.0.1520
Problem:    Cursor is in the wrong line when using a <A HREF="gui.html#WinBar">WinBar</A> in a Terminal
            <A HREF="windows.html#window">window</A>.
Solution:   Adjust the row number. (Christian Brabandt, closes #2362)
Files:      src/screen.c, src/terminal.c

Patch 8.0.1521
Problem:    Shift-Tab does not work in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Recognize Shift-Tab key press. (Jsees Luehrs, closes #2644)
Files:      src/terminal.c

Patch 8.0.1522 (after 8.0.1491)
Problem:    Popup menu is positioned in the wrong place. (Davit Samvelyan,
            Boris Staletic)
Solution:   Correct computation of the column and the conditions for that.
            (Hirohito Higashi, closes #2640)
Files:      src/popupmnu.c

Patch 8.0.1523
Problem:    Cannot write and read <A HREF="terminal.html#terminal">terminal</A> screendumps.
Solution:   Add <A HREF="eval.html#term_dumpwrite()">term_dumpwrite()</A>, term_dumpread() and <A HREF="eval.html#term_dumpdiff()">term_dumpdiff()</A>.
            Also add <A HREF="eval.html#assert_equalfile()">assert_equalfile()</A>.
Files:      src/terminal.c, src/proto/terminal.pro, src/evalfunc.c,
            src/normal.c, src/eval.c, src/proto/eval.pro,
            runtime/doc/eval.txt, src/testdir/test_assert.vim

Patch 8.0.1524 (after 8.0.1523)
Problem:    Compiler warnings for uninitialized <A HREF="eval.html#variables">variables</A>. (Tony Mechelynck)
Solution:   Initialize <A HREF="eval.html#variables">variables</A>.
Files:      src/terminal.c

Patch 8.0.1525
Problem:    Using <A HREF="editing.html#:wqa">:wqa</A> exits even if a <A HREF="channel.html#job">job</A> runs in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (Jason
            Felice)
Solution:   Check if a <A HREF="terminal.html#terminal">terminal</A> has a running <A HREF="channel.html#job">job</A>. (closes #2654)
Files:      src/ex_cmds2.c, src/buffer.c, src/proto/buffer.pro, src/ex_cmds.c,
            src/testdir/test_terminal.vim

Patch 8.0.1526
Problem:    No test using a screen dump yet.
Solution:   Add a test for C <A HREF="syntax.html#syntax">syntax</A> highlighting.  Add helper <A HREF="eval.html#functions">functions</A>.
Files:      src/terminal.c, src/testdir/test_syntax.vim,
            src/testdir/shared.vim, src/testdir/screendump.vim,
            src/testdir/dumps/Test_syntax_c_01.dump, runtime/doc/terminal.txt,
            src/testdir/README.txt

Patch 8.0.1527 (after 8.0.1526)
Problem:    Screen dump test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip dump test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> for now.
Files:      src/testdir/test_syntax.vim

Patch 8.0.1528
Problem:    Dead code found.
Solution:   Remove the useless lines. (CodeAi, closes #2656)
Files:      src/screen.c, src/spell.c, src/syntax.c, src/window.c

Patch 8.0.1529
Problem:    Assert_equalfile() does not close file descriptors. (Coverity)
Solution:   Close the file descriptors.
Files:      src/eval.c

Patch 8.0.1530
Problem:    Dump test fails when using a shadow directory.
Solution:   Add the directory to the <A HREF="eval.html#list">list</A> of symlinks to make (Elimar
            Riesebieter)
Files:      src/Makefile

Patch 8.0.1531
Problem:    Cannot use 24 bit colors in <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   Add support for vcon. (Nobuhiro Takasaki, Ken Takata,
            fixes #1270, fixes #2060)
Files:      runtime/doc/options.txt, src/misc1.c, src/option.c,
            src/evalfunc.c, src/os_win32.c, src/proto/os_win32.pro,
            src/feature.h, src/proto/term.pro, src/screen.c, src/syntax.c,
            src/term.c, src/testdir/gen_opt_test.vim, src/version.c

Patch 8.0.1532
Problem:    Compiler warnings without termguicolors feature.
Solution:   Add #ifdef. (John Marriott)  Cleanup the code a bit.
Files:      src/term.c

Patch 8.0.1533
Problem:    Libterm doesn't support requesting fg and bg color.
Solution:   Implement <A HREF="term.html#t_RF">t_RF</A> and <A HREF="term.html#t_RB">t_RB</A>.
Files:      src/libvterm/src/vterm_internal.h, src/libvterm/src/state.c,
            src/libvterm/src/vterm.c

Patch 8.0.1534
Problem:    C <A HREF="syntax.html#syntax">syntax</A> test fails when using <A HREF="starting.html#gvim">gvim</A>
Solution:   Force running in a <A HREF="terminal.html#terminal">terminal</A>.  Check that <A HREF="options.html#'background'">'background'</A> is correct
            even when $COLORFGBG is set.
Files:      src/testdir/test_syntax.vim, src/testdir/screendump.vim

Patch 8.0.1535 (after 8.0.1534)
Problem:    C <A HREF="syntax.html#syntax">syntax</A> test still fails when using <A HREF="starting.html#gvim">gvim</A>.
Solution:   Clear <A HREF="intro.html#Normal">Normal</A> cterm highlighting instead of setting <A HREF="motion.html#it">it</A>.
Files:      src/testdir/test_syntax.vim, src/testdir/screendump.vim,
            src/testdir/dumps/Test_syntax_c_01.dump

Patch 8.0.1536
Problem:    Quotestar test is flaky when using the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Add check that the <A HREF="pattern.html#star">star</A> <A HREF="sponsor.html#register">register</A> arrived at the server.  Increase
            timeouts.
Files:      src/testdir/test_quotestar.vim

Patch 8.0.1537
Problem:    Xxd does not skip NUL lines when using ebcdic.
Solution:   Check for a NUL before converting a character for ebcdic. (Tim
            Sell, closes #2668)
Files:      src/xxd/xxd.c

Patch 8.0.1538
Problem:    Popupmenu is too far left when completion is long. (Linwei)
Solution:   Adjust column computations. (Hirohito Higashi, closes #2661)
Files:      src/popupmnu.c

Patch 8.0.1539
Problem:    No test for the popup menu positioning.
Solution:   Add a screendump test for the popup menu.
Files:      src/terminal.c, src/testdir/test_syntax.vim,
            src/testdir/screendump.vim,
            src/testdir/test_popup.vim,
            src/testdir/dumps/Test_popup_position_01.dump,
            src/testdir/dumps/Test_popup_position_02.dump,
            src/testdir/dumps/Test_popup_position_03.dump,
            runtime/doc/eval.txt

Patch 8.0.1540
Problem:    Popup menu positioning fails with longer <A HREF="eval.html#string">string</A>.
Solution:   Only align with right side of <A HREF="windows.html#window">window</A> when width is <A HREF="various.html#less">less</A> than
            <A HREF="options.html#'pumwidth'">'pumwidth'</A> (closes #2661)
Files:      src/popupmnu.c, src/testdir/screendump.vim,
            src/testdir/test_popup.vim,
            src/testdir/dumps/Test_popup_position_04.dump

Patch 8.0.1541
Problem:    synpat_T is taking too much memory.
Solution:   Reorder members to reduce padding. (Dominique Pelle, closes #2671)
Files:      src/syntax.c

Patch 8.0.1542
Problem:    Terminal screen dump does not include cursor position.
Solution:   <A HREF="motion.html#Mark">Mark</A> the cursor position in the dump.
Files:      src/terminal.c,
            src/testdir/dumps/Test_popup_position_01.dump,
            src/testdir/dumps/Test_popup_position_02.dump,
            src/testdir/dumps/Test_popup_position_03.dump,
            src/testdir/dumps/Test_popup_position_04.dump,
            src/testdir/dumps/Test_syntax_c_01.dump

Patch 8.0.1543
Problem:    With <A HREF="options.html#'termguicolors'">'termguicolors'</A> <A HREF="intro.html#Normal">Normal</A> color doesn't work correctly.
Solution:   Set cterm_normal_bg_gui_color and cterm_normal_fg_color always.
            (Kazunobu Kuriyama, closes #981, closes #2332)
Files:      src/syntax.c

Patch 8.0.1544
Problem:    When using <A HREF="options.html#'termguicolors'">'termguicolors'</A> SpellBad doesn't show.
Solution:   When the <A HREF="gui.html#GUI">GUI</A> colors are not set fall back to the cterm colors.
Files:      src/syntax.c, src/screen.c, src/gui.h, src/structs.h

Patch 8.0.1545
Problem:    Screen dumps not included in <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add dumps to the <A HREF="eval.html#list">list</A> of distributed files.
Files:      Filelist

Patch 8.0.1546
Problem:    Using <A HREF="eval.html#feedkeys()">feedkeys()</A> in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> may trigger mappings.
            (Charles Sheridan)
Solution:   Avoid triggering a <A HREF="map.html#mapping">mapping</A> when peeking for a key.
Files:      src/getchar.c, src/terminal.c

Patch 8.0.1547
Problem:    Undo in the <A HREF="options.html#options">options</A> <A HREF="windows.html#window">window</A> makes <A HREF="motion.html#it">it</A> empty.
Solution:   Set <A HREF="options.html#'undolevels'">'undolevels'</A> while filling the buffer. (Yasuhiro Matsumoto,
            closes #2645)
Files:      runtime/optwin.vim

Patch 8.0.1548
Problem:    Screen dump test <A HREF="usr_41.html#script">script</A> not included in <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add the <A HREF="usr_41.html#script">script</A> to the <A HREF="eval.html#list">list</A> of distributed files.
Files:      Filelist

Patch 8.0.1549
Problem:    Various small problems in test files.
Solution:   Include small changes.
Files:      src/testdir/test_channel.py, src/testdir/shared.vim,
            src/testdir/test_gui.vim, src/testdir/test_gui_init.vim

Patch 8.0.1550
Problem:    Various small problems in source files.
Solution:   Fix the problems.
Files:      src/README.txt, src/beval.c, src/json_test.c, src/mbyte.c,
            src/libvterm/include/vterm_keycodes.h, src/Makefile,
            src/gui_gtk.c, src/if_xcmdsrv.c, src/pty.c, src/if_python.c,
            src/if_py_both.h, uninstal.txt, src/dosinst.c, src/iscygpty.c,
            src/vimrun.c, src/os_vms.c

Patch 8.0.1551
Problem:    On <A HREF="os_mac.html#Mac">Mac</A> <A HREF="options.html#'maxmemtot'">'maxmemtot'</A> is set to a weird value.
Solution:   For <A HREF="os_mac.html#Mac">Mac</A> use total memory and subtract system memory. For other
            systems accept both a 32 bit and 64 bit result. (Ozaki Kiichi,
            closes #2646)
Files:      src/os_unix.c

Patch 8.0.1552
Problem:    May leak file descriptors when executing <A HREF="channel.html#job">job</A>.
Solution:   Close more file descriptors. (Ozaki Kiichi, closes #2651)
Files:      src/os_unix.c, src/testdir/test_channel.vim

Patch 8.0.1553
Problem:    Cannot see what <A HREF="digraph.html#digraph">digraph</A> is used to insert a character.
Solution:   Show the <A HREF="digraph.html#digraph">digraph</A> with the &quot;<A HREF="various.html#ga">ga</A>&quot; command. (Christian Brabandt)
Files:      runtime/doc/various.txt, src/digraph.c, src/ex_cmds.c,
            src/proto/digraph.pro, src/testdir/shared.vim,
            src/testdir/test_matchadd_conceal.vim,
            src/testdir/test_digraph.vim, src/testdir/test_ga.vim,
            src/testdir/test_arabic.vim

Patch 8.0.1554
Problem:    Custom plugins loaded with <A HREF="starting.html#--clean">--clean</A>.
Solution:   Do not include the home directory in <A HREF="options.html#'runtimepath'">'runtimepath'</A>.
Files:      src/option.c, src/main.c, src/proto/option.pro, src/structs.h,
            src/os_unix.h, src/os_amiga.h, src/os_dos.h, src/os_mac.h,
            runtime/doc/starting.txt

Patch 8.0.1555
Problem:    Build error for some combination of features.
Solution:   Declare variable in more situations.
Files:      src/main.c

Patch 8.0.1556
Problem:    May not parse the <A HREF="term.html#t_RS">t_RS</A> response correctly, resulting in wrong
            characters in the input stream.
Solution:   When the <A HREF="term.html#t_RS">t_RS</A> response is partly received wait for more
            characters.
Files:      src/term.c

Patch 8.0.1557
Problem:    <A HREF="eval.html#printf()">printf()</A> does not work with only one argument. (Daniel Hahler)
Solution:   Allow using just the format. (Ken Takata, closes #2687)
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 8.0.1558
Problem:    No right-click menu in a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Implement the right click menu for the <A HREF="terminal.html#terminal">terminal</A>.
Files:      src/popupmnu.c, src/proto/popupmnu.pro, src/normal.c, src/menu.c,
            src/proto/menu.pro, src/feature.h

Patch 8.0.1559
Problem:    Build failure without <A HREF="gui.html#GUI">GUI</A>.
Solution:   Adjust #ifdef for get_fpos_of_mouse().
Files:      src/ui.c

Patch 8.0.1560
Problem:    Build failure without <A HREF="gui.html#GUI">GUI</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Adjust #ifdef for vcol2col().
Files:      src/ui.c

Patch 8.0.1561
Problem:    Crash with <A HREF="ft_rust.html#rust">rust</A> <A HREF="syntax.html#syntax">syntax</A> highlighting. (Edd Barrett)
Solution:   Avoid going past the end of an empty line.
Files:      src/syntax.c

Patch 8.0.1562
Problem:    The <A HREF="terminal.html#terminal">terminal</A> debugger can't set a breakpoint with the mouse.
Solution:   Add popup menu entries.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/terminal.txt

Patch 8.0.1563
Problem:    Timeout of <A HREF="eval.html#getwinposx()">getwinposx()</A> can be too short. (lilydjwg)
Solution:   Add <A HREF="eval.html#getwinpos()">getwinpos()</A>. (closes #2689)
Files:      src/evalfunc.c, src/term.c, src/proto/term.pro, runtime/doc/eval.txt

Patch 8.0.1564
Problem:    Too many #ifdefs.
Solution:   Graduate the <A HREF="various.html#+autocmd">+autocmd</A> feature. Takes away 450 #ifdefs and
            increases code size of tiny Vim by only 40 Kbyte.
Files:      src/buffer.c, src/diff.c, src/edit.c, src/eval.c, src/evalfunc.c,
            src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c,
            src/fileio.c, src/getchar.c, src/globals.h, src/gui.c,
            src/if_cscope.c, src/if_xcmdsrv.c, src/main.c, src/mbyte.c,
            src/memline.c, src/menu.c, src/misc1.c, src/gui_mac.c,
            src/misc2.c, src/move.c, src/netbeans.c, src/normal.c, src/ops.c,
            src/option.c, src/option.h, src/feature.h, src/vim.h,
            src/os_amiga.c, src/os_mswin.c, src/os_unix.c, src/os_win32.c,
            src/quickfix.c, src/screen.c, src/search.c, src/spell.c,
            src/structs.h, src/syntax.c, src/tag.c, src/term.c,
            src/terminal.c, src/ui.c, src/undo.c, src/userfunc.c,
            src/version.c, src/window.c

Patch 8.0.1565
Problem:    Can't build <A HREF="os_mac.html#Mac">Mac</A> version without <A HREF="gui.html#GUI">GUI</A>.
Solution:   Adjust when IME_WITHOUT_XIM is defined.
Files:      src/vim.h

Patch 8.0.1566
Problem:    Too many #ifdefs.
Solution:   Graduate FEAT_SCROLLBIND and FEAT_CURSORBIND.
Files:      src/buffer.c, src/diff.c, src/edit.c, src/evalfunc.c,
            src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/gui.c,
            src/main.c, src/move.c, src/normal.c, src/option.c, src/term.c,
            src/version.c, src/window.c, src/globals.h, src/macros.h,
            src/option.h, src/structs.h

Patch 8.0.1567
Problem:    Cannot build <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A> without <A HREF="mbyte.html#IME">IME</A>. (John Marriott)
Solution:   Adjust when IME_WITHOUT_XIM and HAVE_INPUT_METHOD are defined and
            use <A HREF="motion.html#it">it</A> in a few more places.
Files:      src/vim.h, src/gui.c

Patch 8.0.1568
Problem:    Can't build on older <A HREF="os_mac.html#Mac">Mac</A>, header file is missing.
Solution:   Remove the header file. (Ozaki Kiichi, closes #2691)
Files:      src/os_unix.c

Patch 8.0.1569
Problem:    Warning for uninitialized variable from gcc.
Solution:   Initialize the variable.
Files:      src/quickfix.c

Patch 8.0.1570
Problem:    Can't use <A HREF="gui.html#:popup">:popup</A> for a menu in the <A HREF="terminal.html#terminal">terminal</A>. (Wei Zhang)
Solution:   Make <A HREF="gui.html#:popup">:popup</A> work in the <A HREF="terminal.html#terminal">terminal</A>.  Also fix that entries were
            included that don't work in the current state.
Files:      src/ex_docmd.c, src/popupmnu.c, src/proto/popupmnu.pro,
            src/menu.c, src/proto/menu.pro

Patch 8.0.1571 (after 8.0.1571)
Problem:    Can't build without <A HREF="gui.html#GUI">GUI</A>.
Solution:   Adjust #ifdef for gui_find_menu().
Files:      src/menu.c

Patch 8.0.1572
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: getting memory size doesn't work everywhere.
Solution:   Use MACOS_X instead of MACOS_X_DARWIN. (Kazunobu Kuriyama)
Files:      src/os_unix.c

Patch 8.0.1573
Problem:    getwinpos(1) may cause response to be handled <A HREF="motion.html#as">as</A> command.
Solution:   Handle any cursor position report once one was requested. (partly
	    by Hirohito Higashi)
Files:      src/term.c

Patch 8.0.1574
Problem:    Show cursor in wrong place when using popup menu. (Wei Zhang)
Solution:   Force updating the cursor position.  Fix skipping over unused
            entries.
Files:      src/screen.c, src/proto/screen.pro, src/popupmnu.c

Patch 8.0.1575
Problem:    Crash when using virtual replace.
Solution:   Adjust orig_line_count.  Add more tests. (Christian Brabandt)
Files:      src/edit.c, src/testdir/test_visual.vim

Patch 8.0.1576
Problem:    <A HREF="if_perl.html#Perl">Perl</A> VIM::Buffers() does not find every buffer.
Solution:   Also find unlisted buffer by number or name. (Chris Weyl,
            closes #2692)
Files:      src/if_perl.xs

Patch 8.0.1577
Problem:    Virtual replace test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Make adding a <A HREF="term.html#termcap">termcap</A> entry work for a builtin <A HREF="terminal.html#terminal">terminal</A>.
            Restore <A HREF="terminal.html#terminal">terminal</A> keys in a better way.
Files:      src/term.c, src/testdir/test_visual.vim

Patch 8.0.1578
Problem:    No test for <A HREF="gui.html#:popup">:popup</A> in <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add a screen dump test.
Files:      src/testdir/test_popup.vim,
            src/testdir/dumps/Test_popup_command_01.dump,
            src/testdir/dumps/Test_popup_command_02.dump,
            src/testdir/dumps/Test_popup_command_03.dump

Patch 8.0.1579
Problem:    Virtual replace test fails in <A HREF="gui.html#GUI">GUI</A>.
Solution:   Don't save key <A HREF="options.html#options">options</A> if they were not set.
Files:      src/testdir/test_visual.vim

Patch 8.0.1580
Problem:    FEAT_CURSORBIND and FEAT_SCROLLBIND are unused.
Solution:   Delete them.
Files:      src/feature.h

Patch 8.0.1581
Problem:    Cannot build <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A> without <A HREF="various.html#+eval">+eval</A>.
Solution:   Define HAVE_INPUT_METHOD without <A HREF="various.html#+eval">+eval</A>. (Ken Takata)
Files:      src/vim.h

Patch 8.0.1582
Problem:    In the <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console mouse <A HREF="intro.html#movement">movement</A> is not used.
Solution:   Pass mouse <A HREF="intro.html#movement">movement</A> events when useful.
Files:      src/os_win32.c, src/proto/os_win32.pro, src/feature.h

Patch 8.0.1583
Problem:    Using <A HREF="develop.html#C99">C99</A> comment.
Solution:   Use old style comment. (Kazunobu Kuriyama)
Files:      src/quickfix.c

Patch 8.0.1584
Problem:    Using <A HREF="develop.html#C99">C99</A> in <A HREF="os_mac.html#Mac">Mac</A> file gives compiler warning <A HREF="message.html#messages">messages</A>.
Solution:   Add #pragmas to avoid the warnings. (Kazunobu Kuriyama)
Files:      src/os_macosx.m

Patch 8.0.1585
Problem:    Enabling beval_term feature in <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A>.
Solution:   Only enable beval_term in <A HREF="os_win32.html#Win32">Win32</A> console.
Files:      src/feature.h

Patch 8.0.1586
Problem:    Imactivatefunc does not work on non-GUI <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Fix logic in #ifdef.
Files:      src/vim.h

Patch 8.0.1587
Problem:    <A HREF="insert.html#inserting">inserting</A> from the <A HREF="gui.html#clipboard">clipboard</A> doesn't work literally
Solution:   When pasting from the &#42; or + <A HREF="sponsor.html#register">register</A> always assume literally.
Files:      src/ops.c, src/proto/ops.pro, src/testdir/test_paste.vim

Patch 8.0.1588
Problem:    Popup menu hangs after typing <A HREF="pattern.html#CTRL-C">CTRL-C</A>.
Solution:   Make <A HREF="pattern.html#CTRL-C">CTRL-C</A> exit the loop. (Ozaki Kiichi, closes #2697)
Files:      src/popupmnu.c

Patch 8.0.1589
Problem:    Error for setting <A HREF="options.html#'modifiable'">'modifiable'</A> when resetting <A HREF="motion.html#it">it</A>.
Solution:   Check if <A HREF="options.html#'modifiable'">'modifiable'</A> was actually set.
Files:      src/option.c

Patch 8.0.1590
Problem:    Padding in <A HREF="eval.html#list">list</A> type wastes memory.
Solution:   Reorder struct members to optimize padding. (Dominique Pelle,
            closes #2704)
Files:      src/structs.h

Patch 8.0.1591
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: when reparsing the arguments <A HREF="options.html#'wildignore'">'wildignore'</A> matters.
Solution:   Save and reset <A HREF="options.html#'wildignore'">'wildignore'</A>. (Yasuhiro Matsumoto, closes #2702)
Files:      src/os_win32.c

Patch 8.0.1592
Problem:    Terminal <A HREF="windows.html#windows">windows</A> in a session are not properly restored.
Solution:   Add &quot;<A HREF="terminal.html#terminal">terminal</A>&quot; in <A HREF="options.html#'sessionoptions'">'sessionoptions'</A>.  When possible restore the
            command running in a <A HREF="terminal.html#terminal">terminal</A>.
Files:      src/option.c, src/option.h, src/ex_docmd.c, src/terminal.c,
            src/proto/terminal.pro, src/evalfunc.c, src/structs.h,
            src/channel.c, src/testdir/test_terminal.vim,
            src/testdir/shared.vim, src/testdir/test_mksession.vim

Patch 8.0.1593
Problem:    <A HREF="editing.html#:qall">:qall</A> never exits with an active <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add a way to kill a <A HREF="channel.html#job">job</A> in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Files:      src/ex_cmds2.c, src/terminal.c, src/proto/terminal.pro,
            src/structs.h, src/channel.c, src/evalfunc.c,
            src/testdir/test_terminal.vim, runtime/doc/terminal.txt,
            runtime/doc/eval.txt

Patch 8.0.1594
Problem:    <A HREF="editing.html#:confirm">:confirm</A> qall not tested with active <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add a test.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1595
Problem:    No <A HREF="autocmd.html#autocommand">autocommand</A> triggered before <A HREF="starting.html#exiting">exiting</A>.
Solution:   Add the <A HREF="autocmd.html#ExitPre">ExitPre</A> <A HREF="autocmd.html#autocommand">autocommand</A> event.
Files:      src/ex_docmd.c, src/fileio.c, src/vim.h,
            src/testdir/test_exit.vim, src/Makefile, src/testdir/Make_all.mak,
            runtime/doc/autocmd.txt

Patch 8.0.1596
Problem:    No <A HREF="autocmd.html#autocommand">autocommand</A> specifically for opening a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add <A HREF="autocmd.html#TerminalOpen">TerminalOpen</A>. (Yasuhiro Matsumoto, closes #2484)
Files:      runtime/doc/autocmd.txt, src/fileio.c, src/terminal.c,
            src/testdir/test_terminal.vim, src/vim.h

Patch 8.0.1597
Problem:    Autocommand events are not sorted.
Solution:   Sort the <A HREF="autocmd.html#autocommand">autocommand</A> events.
Files:      src/vim.h

Patch 8.0.1598
Problem:    Cannot select text in a <A HREF="terminal.html#terminal">terminal</A> with the mouse.
Solution:   When a <A HREF="channel.html#job">job</A> in a <A HREF="terminal.html#terminal">terminal</A> is not consuming mouse events, use them
            for modeless selection.  Also stop <A HREF="insert.html#Insert">Insert</A> mode when clicking in a
            <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Files:      src/libvterm/include/vterm.h, src/libvterm/src/state.c,
            src/libvterm/src/vterm_internal.h, src/terminal.c,
            src/proto/terminal.pro, src/ui.c

Patch 8.0.1599
Problem:    No error message when <A HREF="debug.html#gdb">gdb</A> does not support the <A HREF="terminal.html#terminal">terminal</A> debugger.
Solution:   Check for the response to open the Machine Interface.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim

Patch 8.0.1600
Problem:    Crash when setting <A HREF="term.html#t_Co">t_Co</A> to zero when <A HREF="options.html#'termguicolors'">'termguicolors'</A> is set.
Solution:   Use IS_CTERM instead of checking the number of colors.
            (closes #2710)
Files:      src/screen.c, src/testdir/test_highlight.vim

Patch 8.0.1601
Problem:    Highlight test fails on <A HREF="os_win32.html#Win32">Win32</A>.
Solution:   Check for vtp and vcon support.
Files:      src/evalfunc.c, src/testdir/test_highlight.vim

Patch 8.0.1602
Problem:    Crash in parsing JSON.
Solution:   Fail when using array or <A HREF="eval.html#dict">dict</A> <A HREF="motion.html#as">as</A> <A HREF="eval.html#dict">dict</A> key. (Damien)
Files:      src/json.c, src/testdir/test_json.vim

Patch 8.0.1603
Problem:    Cannot build with <A HREF="various.html#+terminal">+terminal</A> but without <A HREF="various.html#+menu">+menu</A>.
Solution:   Add #ifdef. (Damien)
Files:      src/terminal.c

Patch 8.0.1604
Problem:    Paste test may fail if $DISPLAY is not set.
Solution:   Add WorkingClipboard() and use <A HREF="motion.html#it">it</A> in the paste test.
Files:      src/testdir/shared.vim, src/testdir/test_paste.vim

Patch 8.0.1605
Problem:    Terminal test is a bit flaky.
Solution:   Check for the shell prompt.  Use more <A HREF="eval.html#lambda">lambda</A> <A HREF="eval.html#functions">functions</A>.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1606
Problem:    Singular/plural variants not translated.
Solution:   Add NGETTEXT argument to xgettext. (Sergey Alyoshin)
Files:      src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak,
            src/po/Makefile

Patch 8.0.1607
Problem:    <A HREF="starting.html#--clean">--clean</A> loads user settings from <A HREF="gui.html#.gvimrc">.gvimrc</A>.
Solution:   Behave like &quot;<A HREF="starting.html#-U">-U</A> NONE&quot; was used. (Ken Takata)
Files:      src/main.c, runtime/doc/starting.txt

Patch 8.0.1608
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: directx not enabled by default.
Solution:   Change Makefile to enable directx by default. (Ken Takata)
Files:      runtime/doc/various.txt, src/Make_cyg_ming.mak,
            src/Make_mvc.mak

Patch 8.0.1609
Problem:    Shell commands in the <A HREF="gui.html#GUI">GUI</A> use a dumb <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add the &quot;<A HREF="change.html#!">!</A>&quot; flag to <A HREF="options.html#'guioptions'">'guioptions'</A> to execute system commands in a
            special <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.  Only for <A HREF="os_unix.html#Unix">Unix</A> now.
Files:      src/os_unix.c, src/option.h, src/evalfunc.c, src/terminal.c,
            src/proto/terminal.pro, src/channel.c, src/proto/channel.pro,
            src/vim.h, runtime/doc/options.txt

Patch 8.0.1610 (after 8.0.1609)
Problem:    Cannot build without <A HREF="gui.html#GUI">GUI</A>.
Solution:   Add #ifdef.
Files:      src/terminal.c

Patch 8.0.1611
Problem:    <A HREF="index.html#CTRL-W">CTRL-W</A> in system <A HREF="terminal.html#terminal">terminal</A> does not go to <A HREF="channel.html#job">job</A>.
Solution:   Do not use <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="motion.html#as">as</A> a <A HREF="terminal.html#terminal">terminal</A> command in a system <A HREF="terminal.html#terminal">terminal</A>.
Files:      src/terminal.c

Patch 8.0.1612
Problem:    Need to close <A HREF="terminal.html#terminal">terminal</A> after shell stopped.
Solution:   Make <A HREF="terminal.html#:terminal">:terminal</A> without argument close the <A HREF="windows.html#window">window</A> by default.
Files:      src/terminal.c, src/testdir/test_terminal.vim,
            runtime/doc/terminal.txt

Patch 8.0.1613
Problem:    Warning for unused variable in tiny build. (Tony Mechelynck)
Solution:   Move declaration to inner block.
Files:      src/os_unix.c

Patch 8.0.1614
Problem:    &quot;make tags&quot; doesn't include libvterm.
Solution:   Add the libvterm sources to the <A HREF="tagsrch.html#tags">tags</A> command.
Files:      src/Makefile

Patch 8.0.1615
Problem:    <A HREF="eval.html#term_dumpload()">term_dumpload()</A> does not use the right colors.
Solution:   Initialize colors when not using create_vterm().
Files:      src/terminal.c

Patch 8.0.1616
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: shell commands in the <A HREF="gui.html#GUI">GUI</A> open a new console.
Solution:   Use a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> for interactive use when <A HREF="options.html#'guioptions'">'guioptions'</A>
            contains &quot;<A HREF="change.html#!">!</A>&quot;.
Files:      src/os_win32.c

Patch 8.0.1617 (after 8.0.1616)
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: <A HREF="various.html#:shell">:shell</A> command in the <A HREF="gui.html#GUI">GUI</A> crashes.
Solution:   Handle the situation that &quot;cmd&quot; is NULL. (Yasuhiro Matsumoto,
            closes #2721)
Files:      src/os_win32.c

Patch 8.0.1618
Problem:    Color Grey50, used for ToolbarLine, is missing in the compiled-in
            table.
Solution:   Add the color to the <A HREF="eval.html#list">list</A>. (Kazunobu Kuriyama)
Files:      src/term.c

Patch 8.0.1619
Problem:    <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A>: crash when winpty is not installed and trying to use
            <A HREF="various.html#:shell">:shell</A> in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Check for NULL return form <A HREF="eval.html#term_start()">term_start()</A>. (Yasuhiro Matsumoto,
            closes #2727)
Files:      src/os_win32.c

Patch 8.0.1620
Problem:    Reading <A HREF="spell.html#spell">spell</A> file has no good EOF detection.
Solution:   Check for EOF at every character read for a length field.
Files:      src/misc2.c

Patch 8.0.1621
Problem:    Using invalid default value for highlight attribute.
Solution:   Use zero instead of -1.
Files:      src/syntax.c

Patch 8.0.1622
Problem:    Possible NULL pointer dereferencey. (Coverity)
Solution:   Reverse the check for a NULL pointer.
Files:      src/quickfix.c

Patch 8.0.1623
Problem:    Terminal kill tests are flaky.
Solution:   Instead of running Vim in a <A HREF="terminal.html#terminal">terminal</A>, run <A HREF="motion.html#it">it</A> <A HREF="motion.html#as">as</A> a normal command.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1624
Problem:    Options for <A HREF="eval.html#term_dumpdiff()">term_dumpdiff()</A> and <A HREF="eval.html#term_dumpload()">term_dumpload()</A> not implemented
            yet.
Solution:   Implement the relevant <A HREF="options.html#options">options</A>.
Files:      src/terminal.c, runtime/doc/eval.txt

Patch 8.0.1625
Problem:    Test_quotestar is flaky when run in <A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#GUI">GUI</A>.
Solution:   Do not call lose_selection when invoked from
            selection_clear_event().
Files:      src/gui_gtk_x11.c

Patch 8.0.1626
Problem:    Compiler warning for possible loss of data.
Solution:   Use size_t instead of int. (Christian Brabandt)
Files:      src/terminal.c

Patch 8.0.1627
Problem:    Compiler warning for visibility attribute not supported on MinGW
            builds.
Solution:   Don't add the attribute when we don't expect <A HREF="motion.html#it">it</A> to work.
            (Christian Brabandt)
Files:      src/libvterm/src/vterm_internal.h

Patch 8.0.1628
Problem:    <A HREF="eval.html#Channel">Channel</A> log doesn't mention <A HREF="starting.html#exiting">exiting</A>.
Solution:   Add a <A HREF="eval.html#ch_log()">ch_log()</A> call in getout().
Files:      src/main.c

Patch 8.0.1629
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: getpagesize() is deprecated.
Solution:   Use sysconf() instead. (Ozaki Kiichi, closes #2741)
Files:      src/os_unix.c

Patch 8.0.1630
Problem:    Trimming white space is not that <A HREF="starting.html#easy">easy</A>.
Solution:   Add the <A HREF="eval.html#trim()">trim()</A> function. (Bukn, Yasuhiro Matsumoto, closes #1280)
Files:      src/evalfunc.c, runtime/doc/eval.txt,
            src/testdir/test_functions.vim

Patch 8.0.1631
Problem:    Testing with Vim running in <A HREF="terminal.html#terminal">terminal</A> is a bit flaky.
Solution:   Delete any .swp file so that later tests don't fail.
Files:      src/testdir/screendump.vim

Patch 8.0.1632
Problem:    In a <A HREF="terminal.html#terminal">terminal</A> dump NUL and space considered are different,
            although they are displayed the same.
Solution:   When encountering NUL handle <A HREF="motion.html#it">it</A> like space.
Files:      src/terminal.c

Patch 8.0.1633
Problem:    A <A HREF="autocmd.html#TextChanged">TextChanged</A> autocmd triggers when <A HREF="motion.html#it">it</A> is defined after creating a
            buffer.
Solution:   Set b_last_changedtick when opening a buffer. (Hirohito Higashi,
            closes #2742)
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 8.0.1634
Problem:    The ex_vimgrep() function is too long.
Solution:   Split <A HREF="motion.html#it">it</A> in smaller <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.1635
Problem:    Undefining _POSIX_THREADS causes problems with <A HREF="if_pyth.html#Python">Python</A> 3. (Micah
            Bucy, closes #2748)
Solution:   Remove the lines.
Files:      src/if_python3.c

Patch 8.0.1636
Problem:    No test for <A HREF="eval.html#term_dumpload()">term_dumpload()</A> and <A HREF="eval.html#term_dumpdiff()">term_dumpdiff()</A>.
Solution:   Add tests.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1637
Problem:    No test for <A HREF="eval.html#term_dumpdiff()">term_dumpdiff()</A> <A HREF="options.html#options">options</A> argument.
Solution:   Add a test.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1638
Problem:    Popup test fails depending on environment variable.
Solution:   Reset $COLORFGBG when running Vim in a <A HREF="terminal.html#terminal">terminal</A>. (closes #2693)
Files:      src/testdir/screendump.vim

Patch 8.0.1639
Problem:    Libvterm code lags behind master.
Solution:   Sync to head, solve <A HREF="diff.html#merge">merge</A> problems.
Files:      src/libvterm/README, src/libvterm/bin/unterm.c,
            src/libvterm/bin/vterm-ctrl.c, src/libvterm/bin/vterm-dump.c,
            src/libvterm/doc/URLs, src/libvterm/doc/seqs.txt,
            src/libvterm/include/vterm.h,
            src/libvterm/include/vterm_keycodes.h, src/libvterm/src/mouse.c,
            src/libvterm/src/parser.c, src/libvterm/src/pen.c,
            src/libvterm/src/screen.c, src/libvterm/src/state.c,
            src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h,
            src/libvterm/t/10state_putglyph.test,
            src/libvterm/t/25state_input.test, src/libvterm/t/harness.c,
            src/libvterm/t/26state_query.test

Patch 8.0.1640
Problem:    Test_cwd() is flaky.
Solution:   Add to <A HREF="eval.html#list">list</A> of flaky tests.
Files:      src/testdir/runtest.vim

Patch 8.0.1641
Problem:    <A HREF="eval.html#Job">Job</A> in <A HREF="terminal.html#terminal">terminal</A> can't communicate with Vim.
Solution:   Add the <A HREF="terminal.html#terminal">terminal</A> API.
Files:      src/terminal.c, src/buffer.c, src/testdir/test_terminal.vim,
            src/testdir/screendump.vim, runtime/doc/terminal.txt

Patch 8.0.1642
Problem:    Running Vim in <A HREF="terminal.html#terminal">terminal</A> fails with two <A HREF="windows.html#windows">windows</A>.
Solution:   Pass the number of rows to RunVimInTerminal().
Files:      src/testdir/screendump.vim, src/testdir/test_terminal.vim

Patch 8.0.1643
Problem:    Terminal API tests fail.
Solution:   Explicitly set <A HREF="options.html#'title'">'title'</A>.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1644
Problem:    Terminal API tests still fail.
Solution:   Explicitly set <A HREF="options.html#'title'">'title'</A> in the <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A>. (Ozaki Kiichi,
            closes #2750)
Files:      src/testdir/test_terminal.vim, src/testdir/screendump.vim

Patch 8.0.1645
Problem:    Test for <A HREF="terminal.html#terminal">terminal</A> response to <A HREF="intro.html#escape">escape</A> sequence fails for some
            people. (toothpik)
Solution:   Run &quot;cat&quot; and let <A HREF="motion.html#it">it</A> echo the characters.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1646
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: executable contains unreferenced <A HREF="eval.html#functions">functions</A> and data.
Solution:   Add /opt:ref to the compiler command. (Ken Takata)
Files:      src/Make_mvc.mak

Patch 8.0.1647
Problem:    Terminal API may call a function not meant to be called by this
            API.
Solution:   Require the function to start with Tapi_.
Files:      runtime/doc/terminal.txt, src/terminal.c,
            src/testdir/test_terminal.vim

Patch 8.0.1648
Problem:    Resource <A HREF="os_unix.html#fork">fork</A> tool doesn't work on <A HREF="if_pyth.html#Python">Python</A> 3.
Solution:   Use &quot;print()&quot; instead of &quot;print&quot;. (Marius Gedminas)
Files:      src/dehqx.py

Patch 8.0.1649
Problem:    No completion for argument <A HREF="eval.html#list">list</A> commands.
Solution:   Add <A HREF="editing.html#arglist">arglist</A> completion. (Yegappan Lakshmanan, closes #2706)
Files:      runtime/doc/eval.txt, runtime/doc/map.txt, src/ex_cmds2.c,
            src/ex_docmd.c, src/ex_getln.c, src/proto/ex_cmds2.pro,
            src/testdir/test_cmdline.vim, src/vim.h

Patch 8.0.1650
Problem:    Too many #ifdefs.
Solution:   Graduate FEAT_LISTCMDS, no reason to leave out buffer commands.
Files:      runtime/doc/various.txt, src/buffer.c, src/charset.c,
            src/evalfunc.c, src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/version.c, src/feature.h

Patch 8.0.1651
Problem:    Cannot <A HREF="change.html#filter">filter</A> <A HREF="windows.html#:ls">:ls</A> output for <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#buffers">buffers</A>.
Solution:   Add flags for <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#buffers">buffers</A>. (Marcin Szamotulski, closes #2751)
Files:      runtime/doc/windows.txt, src/buffer.c,
            src/testdir/test_terminal.vim

Patch 8.0.1652
Problem:    <A HREF="eval.html#term_dumpwrite()">term_dumpwrite()</A> does not output composing characters.
Solution:   Use the cell index.
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1653
Problem:    Screen dump is made too soon.
Solution:   Wait until the ruler is displayed. (Ozaki Kiichi, closes #2755)
Files:      src/testdir/dumps/Test_popup_command_01.dump,
            src/testdir/dumps/Test_popup_command_02.dump,
            src/testdir/screendump.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_terminal.vim

Patch 8.0.1654
Problem:    Warnings for conversion of void to function pointer.
Solution:   Use a temp variable that is a function pointer.
Files:      src/if_python.c, src/if_python3.c

Patch 8.0.1655
Problem:    Outdated <A HREF="debug.html#gdb">gdb</A> message in <A HREF="terminal.html#terminal">terminal</A> debugger unclear.
Solution:   Specifically mention the required <A HREF="debug.html#gdb">gdb</A> version.  Avoid getting
            stuck on pagination.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim

Patch 8.0.1656
Problem:    No option to have xxd produce upper <A HREF="change.html#case">case</A> variable names.
Solution:   Add the <A HREF="starting.html#-C">-C</A> argument. (Matt Panaro, closes #2772)
Files:      src/xxd/xxd.c

Patch 8.0.1657
Problem:    Crash when reading a <A HREF="channel.html#channel">channel</A>.
Solution:   Clear the write flag before <A HREF="editing.html#writing">writing</A>. (idea by Shinya Ohyanagi,
            closes #2769).
Files:      src/channel.c

Patch 8.0.1658
Problem:    Capitalize argument not available in long form.
Solution:   Recognize -capitalize.  Update man page.
Files:      src/xxd/xxd.c, runtime/doc/xxd.1, runtime/doc/xxd.man

Patch 8.0.1659
Problem:    Scroll events not recognized for some xterm emulators.
Solution:   Recognize mouse codes 0x40 and 0x41 <A HREF="motion.html#as">as</A> scroll events.
Files:      src/term.c

Patch 8.0.1660
Problem:    The <A HREF="terminal.html#terminal">terminal</A> API &quot;drop&quot; command doesn't support <A HREF="options.html#options">options</A>.
Solution:   Implement the <A HREF="options.html#options">options</A>.
Files:      src/terminal.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/ex_cmds.h, src/eval.c, src/misc2.c, src/fileio.c,
            src/testdir/test_terminal.vim, runtime/doc/terminal.txt

Patch 8.0.1661
Problem:    Warnings from 64 bit compiler.
Solution:   Add type casts. (Mike Williams)
Files:      src/terminal.c

Patch 8.0.1662
Problem:    Showing dump <A HREF="diff.html#diff">diff</A> doesn't mention both file names.
Solution:   Add the file name in the separator line.
Files:      src/terminal.c

Patch 8.0.1663 (after 8.0.1660)
Problem:    Cannot build without <A HREF="mbyte.html#multi-byte">multi-byte</A> feature.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.0.1664
Problem:    Test failure because of not allocating enough space.
Solution:   Allocate more bytes.
Files:      src/terminal.c

Patch 8.0.1665
Problem:    When running a <A HREF="terminal.html#terminal">terminal</A> from the <A HREF="gui.html#GUI">GUI</A> <A HREF="options.html#'term'">'term'</A> is not useful.
Solution:   Use $TERM in the <A HREF="gui.html#GUI">GUI</A> if <A HREF="motion.html#it">it</A> starts with &quot;xterm&quot;. (closes #2776)
Files:      src/os_unix.c, runtime/doc/terminal.txt

Patch 8.0.1666
Problem:    <A HREF="motion.html#&#37;">&#37;</A> argument in <A HREF="eval.html#ch_log()">ch_log()</A> causes trouble.
Solution:   Use <A HREF="eval.html#string">string</A> <A HREF="motion.html#as">as</A> third argument in internal <A HREF="eval.html#ch_log()">ch_log()</A>. (Dominique
            Pelle, closes #2784)
Files:      src/evalfunc.c, src/testdir/test_channel.vim

Patch 8.0.1667
Problem:    Terminal <A HREF="windows.html#window">window</A> tests are flaky.
Solution:   Increase the waiting time for Vim to start.
Files:      src/testdir/screendump.vim

Patch 8.0.1668
Problem:    Terminal debugger: can't re-open source code <A HREF="windows.html#window">window</A>.
Solution:   Add the <A HREF="terminal.html#:Source">:Source</A> command.  Also create the <A HREF="windows.html#window">window</A> if needed when
            <A HREF="debug.html#gdb">gdb</A> stops at a source line.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/terminal.txt

Patch 8.0.1669
Problem:    <A HREF="quickfix.html#:vimgrep">:vimgrep</A> may add entries to the wrong <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A>.
Solution:   Use the <A HREF="eval.html#list">list</A> identifier. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1670
Problem:    Terminal <A HREF="windows.html#window">window</A> tests are still a bit flaky.
Solution:   Increase the waiting time for the buffer to be created.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1671
Problem:    Crash when passing non-dict argument <A HREF="motion.html#as">as</A> env to <A HREF="eval.html#job_start()">job_start()</A>.
Solution:   Check for valid argument. (Ozaki Kiichi, closes #2765)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 8.0.1672
Problem:    Error during completion causes command to be cancelled.
Solution:   Reset did_emsg before waiting for another character. (Tom <A HREF="motion.html#M">M</A>.)
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.0.1673
Problem:    Terminal <A HREF="windows.html#window">window</A> tests are still a bit flaky.
Solution:   Increase the waiting time even more. (Elimar Riesebieter)
Files:      src/testdir/test_terminal.vim

Patch 8.0.1674
Problem:    Libvterm can't handle a long OSC <A HREF="eval.html#string">string</A> that is split.
Solution:   When an incomplete OSC <A HREF="eval.html#string">string</A> is received copy <A HREF="motion.html#it">it</A> to the parser
            buffer. Increase the size of the parser buffer to be able to
            handle longer strings.
Files:      src/libvterm/src/parser.c, src/libvterm/src/vterm.c

Patch 8.0.1675
Problem:    Unused <A HREF="map.html#macro">macro</A> argument in libvterm. (Randall <A HREF="motion.html#W">W</A>. Morris)
Solution:   Remove the argument.
Files:      src/libvterm/src/parser.c

Patch 8.0.1676
Problem:    No compiler warning for wrong printf format.
Solution:   Add a printf attribute for gcc. Fix reported problems. (Dominique
            Pelle, closes #2789)
Files:      src/channel.c, src/vim.h, src/proto/channel.pro

Patch 8.0.1677
Problem:    No compiler warning for wrong format in vim_snprintf().
Solution:   Add printf attribute for gcc.  Fix reported problems.
Files:      src/vim.h, src/proto.h, src/eval.c, src/fileio.c, src/mbyte.c,
            src/ops.c, src/spellfile.c, src/undo.c, src/json.c

Patch 8.0.1678
Problem:    Errorformat &quot;&#37;r&quot; implies &quot;&#37;&gt;&quot;. (Jan Gosmann)
Solution:   Jump to before setting fmt_ptr. (Yegappan Lakshmanan,
            closes #2785)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1679
Problem:    Compiler warning for printf format. (Chdiza)
Solution:   Change type to &quot;long long&quot;. (closes #2791)
Files:      src/ops.c

Patch 8.0.1680
Problem:    Memory allocated by libvterm does not show up in <A HREF="repeat.html#profile">profile</A>.
Solution:   Pass allocator <A HREF="eval.html#functions">functions</A> to vterm_new().
Files:      src/terminal.c

Patch 8.0.1681
Problem:    The format attribute fails with MinGW. (John Marriott)
Solution:   Don't use the format attribute with MinGW.
Files:      src/vim.h, src/proto.h, src/channel.c

Patch 8.0.1682
Problem:    Auto indenting breaks <A HREF="insert.html#inserting">inserting</A> a block.
Solution:   Do not check for cursor <A HREF="intro.html#movement">movement</A> if indent was changed. (Christian
            Brabandt, closes #2778)
Files:      src/testdir/test_blockedit.vim, src/testdir/Make_all.mak,
            src/Makefile, src/ops.c

Patch 8.0.1683
Problem:    <A HREF="if_pyth.html#Python">Python</A> upgrade breaks Vim when defining PYTHON_HOME.
Solution:   Do not define PYTHON_HOME and PYTHON3_HOME in configure. (Naoki
            Inada, closes #2787)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1684
Problem:    ml_get <A HREF="message.html#errors">errors</A> when using <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> for shell command.
            (Blay263)
Solution:   Do not change the size of the current <A HREF="windows.html#window">window</A>.
Files:      src/terminal.c

Patch 8.0.1685
Problem:    Can't set ANSI colors of a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add <A HREF="eval.html#term_setansicolors()">term_setansicolors()</A>, <A HREF="eval.html#term_getansicolors()">term_getansicolors()</A> and
            g:term_ansi_colors. (Andy Massimino, closes #2747)
Files:      runtime/doc/eval.txt, runtime/doc/terminal.txt, src/channel.c,
            src/evalfunc.c, src/proto/terminal.pro, src/structs.h,
            src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1686 (after 8.0.1683)
Problem:    <A HREF="if_pyth.html#Python">Python</A> does not work when configuring with specific dir. (Rajdeep)
Solution:   Do define PYTHON_HOME and PYTHON3_HOME in configure if the <A HREF="if_pyth.html#Python">Python</A>
            config dir was specified.
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1687
Problem:    64 bit compiler warnings.
Solution:   change type, add type cast. (Mike Williams)
Files:      src/terminal.c

Patch 8.0.1688
Problem:    Some macros are used without a semicolon, causing auto-indent to be
            wrong.
Solution:   Use the do-while(0) trick. (Ozaki Kiichi, closes #2729)
Files:      src/buffer.c, src/dosinst.c, src/ex_cmds.c, src/gui_at_sb.c,
            src/macros.h, src/main.c, src/memline.c, src/option.c,
            src/os_vms.c, src/screen.c, src/window.c

Patch 8.0.1689
Problem:    No tests for xxd.
Solution:   Add a test. (Christian Brabandt)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Makefile,
            src/testdir/test_xxd.vim, src/testdir/runtest.vim

Patch 8.0.1690
Problem:    Not <A HREF="starting.html#easy">easy</A> to run one test with <A HREF="starting.html#gvim">gvim</A> instead of vim.
Solution:   Add VIMTESTTARGET in Makefile.
Files:      src/Makefile

Patch 8.0.1691
Problem:    Xxd test sometimes fails.
Solution:   Wipe out the XXDfile buffer.
Files:      src/testdir/test_xxd.vim

Patch 8.0.1692 (after 8.0.1686)
Problem:    <A HREF="if_pyth.html#Python">Python</A> may not work when using statically linked library.
Solution:   Do not define PYTHON_HOME and PYTHON3_HOME in configure if the
            <A HREF="if_pyth.html#Python">Python</A> library is linked statically.
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1693
Problem:    Xxd is excluded from coverage statistics.
Solution:   Don't skip the xxd directory. (Christian Brabandt)
Files:      .travis.yml

Patch 8.0.1694
Problem:    Terminal API test is a bit flaky.
Solution:   Wait longer for Vim to stop.
Files:      src/testdir/screendump.vim

Patch 8.0.1695
Problem:    Xxd test not run on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use xxd.exe if <A HREF="motion.html#it">it</A> exists.
Files:      src/testdir/test_xxd.vim

Patch 8.0.1696
Problem:    Coverage statistics don't work.
Solution:   Include the xxd directory. (Christian Brabandt)
Files:      .travis.yml

Patch 8.0.1697
Problem:    Various tests are still a bit flaky.
Solution:   Increase the default wait time to five seconds.
Files:      src/testdir/shared.vim, src/testdir/screendump.vim,
            src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_quotestar.vim, src/testdir/test_terminal.vim

Patch 8.0.1698
Problem:    Coverage statistics don't work on coveralls.
Solution:   Use curly braces for $SRCDIR.
Files:      .travis.yml

Patch 8.0.1699
Problem:    Leftover stuff for <A HREF="if_pyth.html#Python">Python</A> 1.4.
Solution:   Remove outdated <A HREF="if_pyth.html#Python">Python</A> 1.4 stuff. (Naoki Inada, closes #2794)
Files:      src/Makefile, src/config.aap.in, src/config.mk.in,
            src/configure.ac, src/auto/configure

Patch 8.0.1700
Problem:    Coverage statistics still don't work on coveralls.
Solution:   Exclude the xxd directory again.
Files:      .travis.yml

Patch 8.0.1701
Problem:    Can disable COLOR_EMOJI with MSVC but not MinGW.
Solution:   Add COLOR_EMOJI flag.  Also add some empty lines for readability.
Files:      src/Make_cyg_ming.mak

Patch 8.0.1702
Problem:    Leaking memory when <A HREF="autocmd.html#autocommands">autocommands</A> make a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> invalid.
Solution:   Call FreeWild(). (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.1703
Problem:    In the <A HREF="usr_01.html#tutor">tutor</A> <A HREF="options.html#'showcmd'">'showcmd'</A> is not set.
Solution:   Set <A HREF="options.html#'showcmd'">'showcmd'</A> in the <A HREF="usr_01.html#vimtutor">vimtutor</A> <A HREF="usr_41.html#script">script</A>. (Ken Takata, closes #2792)
Files:      src/vimtutor

Patch 8.0.1704
Problem:    <A HREF="options.html#'backupskip'">'backupskip'</A> default doesn't work for <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Use &quot;/private/tmp&quot;. (Rainer Mller, closes #2793)
Files:      src/option.c, src/testdir/test_options.vim,
            runtime/doc/options.txt

Patch 8.0.1705
Problem:    When making a vertical split the mode message isn't always
            updated, &quot;VISUAL&quot; remains. (Alexei Averchenko)
Solution:   Only reset clear_cmdline when filling all columns of the last
            screen line. (Tom <A HREF="motion.html#M">M</A>. closes #2611)
Files:      src/screen.c, src/testdir/test_window_cmd.vim

Patch 8.0.1706
Problem:    Cannot send CTRL-\ to a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Make <A HREF="index.html#CTRL-W">CTRL-W</A> CTRL-\ send CTRL-\ to a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Files:      src/terminal.c, runtime/doc/terminal.txt

Patch 8.0.1707
Problem:    When <A HREF="options.html#'wfh'">'wfh'</A> is set &quot;<A HREF="windows.html#:bel">:bel</A> 10new&quot; scrolls <A HREF="windows.html#window">window</A>. (Andrew Pyatkov)
Solution:   Set the fraction before <A HREF="change.html#changing">changing</A> the <A HREF="windows.html#window">window</A> height. (closes #2798)
Files:      src/window.c

Patch 8.0.1708
Problem:    Mkdir with '<A HREF="change.html#p">p</A>' flag fails on existing directory, which is
            different from the mkdir shell command.
Solution:   Don't fail if the directory already exists. (James McCoy,
            closes #2775)
Files:      src/evalfunc.c, src/testdir/test_eval_stuff.vim,
            runtime/doc/eval.txt

Patch 8.0.1709
Problem:    Some non-C89 code may slip through.
Solution:   Enforce <A HREF="develop.html#C89">C89</A> in configure. Fix detected problems. (James McCoy,
            closes #2735)
Files:      src/channel.c, src/configure.ac, src/auto/configure,
            src/gui_gtk_x11.c, src/if_python3.c

Patch 8.0.1710
Problem:    Building with <A HREF="if_ruby.html#Ruby">Ruby</A> fails.
Solution:   Don't add -ansi when building with <A HREF="if_ruby.html#Ruby">Ruby</A>.
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1711
Problem:    Term_setsize() is not implemented yet.
Solution:   Implement <A HREF="motion.html#it">it</A>.
Files:      src/evalfunc.c, src/terminal.c, src/proto/terminal.pro,
            src/testdir/test_terminal.vim, runtime/doc/eval.txt

Patch 8.0.1712
Problem:    Terminal scrollback is not limited.
Solution:   Add the 'terminalscroll' option.
Files:      src/terminal.c, src/option.h, src/option.c,
            runtime/doc/options.txt, runtime/doc/terminal.txt

Patch 8.0.1713
Problem:    Terminal debugger doesn't handle arguments.
Solution:   Use <A HREF="map.html#&lt;f-args&gt;">&lt;f-args&gt;</A> and pass all the arguments to <A HREF="debug.html#gdb">gdb</A>, e.g. the core file
            or process number. (suggested by Christian Brabandt) Disallow
            starting the debugger <A HREF="if_cscop.html#twice">twice</A>.
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/terminal.txt

Patch 8.0.1714
Problem:    Term_setsize() does not give an error in a normal buffer.
Solution:   Add an error message.
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1715
Problem:    Terminal buffer can be 1 more than 'terminalscroll' lines.
Solution:   Change <A HREF="change.html#&gt;">&gt;</A> to &gt;=.
Files:      src/terminal.c

Patch 8.0.1716
Problem:    Test for <A HREF="eval.html#term_setsize()">term_setsize()</A> does not give a good error message.
Solution:   use <A HREF="eval.html#assert_inrange()">assert_inrange()</A>.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1717
Problem:    <A HREF="develop.html#C89">C89</A> check causes too much trouble.
Solution:   Remove enforcing <A HREF="develop.html#C89">C89</A> for now.
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1718
Problem:    Terminal scrollback test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Check for the last line of output anticipating there might be an
            empty line below <A HREF="motion.html#it">it</A>.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1719
Problem:    Cannot specify which <A HREF="if_pyth.html#Python">Python</A> executable configure should use.
Solution:   Add --with-python-command and --with-python3-command.
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1720
Problem:    When a <A HREF="eval.html#timer">timer</A> is running a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> may not close after a
            shell has exited.
Solution:   Call <A HREF="eval.html#job_status()">job_status()</A> more often.
Files:      src/terminal.c

Patch 8.0.1721
Problem:    No test for using the 'termsize' option.
Solution:   Add a test.
Files:      src/testdir/screendump.vim, src/testdir/test_terminal.vim

Patch 8.0.1722
Problem:    Cannot specify a minimal size for a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Support the &quot;rows*cols&quot; format for 'winsize'.
Files:      src/terminal.c, src/testdir/test_terminal.vim, src/option.c,
            runtime/doc/options.txt

Patch 8.0.1723
Problem:    Using one item array size declaration is misleading.
Solution:   Instead of using &quot;[1]&quot; and actually using a larger array, use
            &quot;<A HREF="motion.html#[]">[]</A>&quot;.  This is to verify that this <A HREF="develop.html#C99">C99</A> feature works for all
            compilers.
Files:      src/structs.h, src/getchar.c

Patch 8.0.1724
Problem:    Declarations cannot be halfway a block.
Solution:   Move one declaration to check if this works for all compilers.
Files:      src/main.c

Patch 8.0.1725
Problem:    Terminal debugger doesn't handle command arguments.
Solution:   Add the <A HREF="terminal.html#:TermdebugCommand">:TermdebugCommand</A> command.  Use a ! to execute right away.
            (Christian Brabandt)
Files:      runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            runtime/doc/terminal.txt

Patch 8.0.1726 (after 8.0.1724)
Problem:    Older MSVC doesn't support declarations halfway a block.
Solution:   Move the declaration back to the start of the block.
Files:      src/main.c

Patch 8.0.1727
Problem:    qf_get_properties() function is too long.
Solution:   Refactor the code. (Yegappan Lakshmanan, closes #2807)
Files:      src/quickfix.c

Patch 8.0.1728
Problem:    Condition always false, useless code.
Solution:   Remove the code. (Nikolai Pavlov, closes #2808)
Files:      src/message.c

Patch 8.0.1729
Problem:    No comma after last enum item.
Solution:   Add a few commas to check if this works for all compilers.  Also
            add a few <A HREF="version7.html#//">//</A> comments.
Files:      src/structs.h

Patch 8.0.1730
Problem:    No configure check for the used <A HREF="develop.html#C99">C99</A> features.
Solution:   Add a compilation check.  Tentatively document <A HREF="develop.html#C99">C99</A> features.
Files:      src/configure.ac, src/auto/configure, runtime/doc/develop.txt

Patch 8.0.1731
Problem:    Characters deleted on completion. (Adri Farrs)
Solution:   Also check the last item for the ORIGINAL_TEXT flag. (Christian
            Brabandt, closes #1645)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.1732
Problem:    Crash when <A HREF="terminal.html#terminal">terminal</A> API call deletes the buffer.
Solution:   Lock the buffer while calling a function. (closes #2813)
Files:      src/buffer.c, src/terminal.c, src/testdir/test_terminal.vim,
            src/testdir/test_autocmd.vim

Patch 8.0.1733
Problem:    Incomplete <A HREF="eval.html#testing">testing</A> for completion fix. (Lifepillar)
Solution:   Add a test with <A HREF="motion.html#CTRL-P">CTRL-P</A>.
Files:      src/testdir/test_popup.vim

Patch 8.0.1734
Problem:    Package directory not added to <A HREF="options.html#'rtp'">'rtp'</A> if prefix matches.
Solution:   Check the match is a full match. (Ozaki Kiichi, closes #2817)
            Also handle different ways of spelling a path.
Files:      src/testdir/test_packadd.vim, src/ex_cmds2.c

Patch 8.0.1735 (after 8.0.1723 and 8.0.1730)
Problem:    Flexible array member feature not supported by HP-UX. (John
            Marriott)
Solution:   Do not use the flexible array member feature of <A HREF="develop.html#C99">C99</A>.
Files:      src/configure.ac, src/auto/configure, src/structs.h,
            src/getchar.c, runtime/doc/develop.txt

Patch 8.0.1736
Problem:    Check for <A HREF="develop.html#C99">C99</A> features is incomplete.
Solution:   Use AC_PROG_CC_C99 and when <A HREF="develop.html#C99">C99</A> isn't fully supported check the
            features we need. (James McCoy, closes #2820)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1737
Problem:    fchown() used when <A HREF="motion.html#it">it</A> is not supported.
Solution:   Add #ifdef.
Files:      src/fileio.c

Patch 8.0.1738
Problem:    &quot;<A HREF="editing.html#:args">:args</A>&quot; output is hard to read.
Solution:   Make columns with the names if the output is more than one line.
Files:      src/ex_cmds2.c, src/version.c, src/proto/version.pro,
            src/testdir/test_arglist.vim

Patch 8.0.1739
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with msys2 cannot build <A HREF="if_ruby.html#Ruby">Ruby</A> statically.
Solution:   Define RUBY_VERSION. (Gray Wolf, closes #2826)
Files:      src/Make_cyg_ming.mak

Patch 8.0.1740
Problem:    Warning for signed-unsigned incompatibility.
Solution:   Change type from &quot;char *&quot; to &quot;char_u *&quot;. (John Marriott)
Files:      src/ex_cmds2.c

Patch 8.0.1741
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with msys2 cannot build <A HREF="if_ruby.html#Ruby">Ruby</A> statically.
Solution:   Add RUBY_VERSION to CFLAGS later. (Gray Wolf, closes #2833)
Files:      src/Make_cyg_ming.mak

Patch 8.0.1742
Problem:    Cannot get a <A HREF="eval.html#list">list</A> of all the jobs.  Cannot get the command of
            the <A HREF="channel.html#job">job</A>.
Solution:   When <A HREF="eval.html#job_info()">job_info()</A> is called without an argument return a <A HREF="eval.html#list">list</A> of
            jobs.  Otherwise, include the command that the <A HREF="channel.html#job">job</A> is running.
            (Yegappan Lakshmanan)
Files:      runtime/doc/eval.txt, src/channel.c, src/evalfunc.c,
            src/proto/channel.pro, src/structs.h, src/testdir/test_channel.vim

Patch 8.0.1743
Problem:    Terminal <A HREF="windows.html#window">window</A> <A HREF="options.html#options">options</A> are named inconsistently.
Solution:   prefix <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> <A HREF="options.html#options">options</A> with &quot;termwin&quot;.  Keep the old names
            for now <A HREF="motion.html#as">as</A> an alias.
Files:      src/option.c, src/option.h, src/structs.h, src/terminal.c,
            src/testdir/test_terminal.vim, src/testdir/gen_opt_test.vim,
            runtime/doc/options.txt, runtime/doc/quickref.txt,
            runtime/doc/terminal.txt, runtime/optwin.vim

Patch 8.0.1744
Problem:    On some systems /dev/stdout isn't writable.
Solution:   Skip test if <A HREF="editing.html#writing">writing</A> is not possible. (James McCoy, closes #2830)
Files:      src/testdir/test_writefile.vim

Patch 8.0.1745
Problem:    Build failure on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Build <A HREF="channel.html#job">job</A> arguments for <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. Fix allocating <A HREF="channel.html#job">job</A> <A HREF="if_cscop.html#twice">twice</A>.
Files:      src/structs.h, src/channel.c, src/os_unix.c, src/misc2.c,
            src/terminal.c, src/proto/misc2.pro

Patch 8.0.1746
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="channel.html#channel">channel</A> tests fail.
Solution:   Make a copy of the command before splitting <A HREF="motion.html#it">it</A>.
Files:      src/channel.c

Patch 8.0.1747
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="eval.html#term_start()">term_start()</A> does not set <A HREF="eval.html#job_info()">job_info()</A> cmd.
Solution:   Share the code from <A HREF="eval.html#job_start()">job_start()</A> to set jv_argv.
Files:      src/testdir/test_terminal.vim, src/channel.c, src/misc2.c,
            src/proto/misc2.pro, src/terminal.c

Patch 8.0.1748
Problem:    <A HREF="autocmd.html#CmdlineEnter">CmdlineEnter</A> command uses <A HREF="intro.html#backslash">backslash</A> instead of slash.
Solution:   Don't treat the character <A HREF="motion.html#as">as</A> a file name. (closes #2837)
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 8.0.1749
Problem:    <A HREF="os_vms.html#VMS">VMS</A>: 100&#37; CPU use, redefining mch_open() and mch_fopen() fails.
Solution:   Do not wait indefinitely in RealWaitForChar(). (Neil Rieck)
            Do not redefine mch_open() and mch_fopen() on <A HREF="os_vms.html#VMS">VMS</A>. (Zoltan
            Arpadffy)
Files:      src/os_vms.c, src/vim.h

Patch 8.0.1750
Problem:    Crash when clearing location <A HREF="eval.html#list">list</A> in <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Check if &quot;qi&quot; equals &quot;ql_info&quot;. (Yegappan Lakshmanan)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1751
Problem:    #ifdef causes bad highlighting.
Solution:   Move code around. (Ozaki Kiichi, closes #2731)
Files:      src/ui.c

Patch 8.0.1752
Problem:    qf_set_properties() is to long.
Solution:   Refactor the function.  Define INVALID_QFIDX. (Yegappan
            Lakshmanan, closes #2812)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1753
Problem:    Various warnings from a static analyser
Solution:   Add type casts, remove unneeded conditions. (Christian Brabandt,
            closes #2770)
Files:      src/evalfunc.c, src/ex_cmds2.c, src/fileio.c, src/getchar.c,
            src/normal.c, src/os_unix.c, src/search.c, src/term.c

Patch 8.0.1754
Problem:    ex_helpgrep() is too long.
Solution:   Refactor the function. (Yegappan Lakshmanan, closes #2766)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1755
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: high <A HREF="mbyte.html#unicode">unicode</A> char received <A HREF="motion.html#as">as</A> two utf-16 words.
Solution:   Keep the first <A HREF="motion.html#word">word</A> until the second <A HREF="motion.html#word">word</A> is received. (Chris
            Morgan, closes #2800)
Files:      src/gui_w32.c

Patch 8.0.1756
Problem:    <A HREF="gui.html#GUI">GUI</A>: after prompting for a number the mouse shape is sometimes
            wrong.
Solution:   Call setmouse() after setting &quot;State&quot;. (Hirohito Higashi,
            closes #2709)
Files:      src/misc1.c

Patch 8.0.1757
Problem:    Unnecessary changes in libvterm.
Solution:   Bring back <A HREF="version7.html#//">//</A> comments and trailing comma in enums.
Files:      src/libvterm/bin/unterm.c, src/libvterm/bin/vterm-ctrl.c,
            src/libvterm/bin/vterm-dump.c, src/libvterm/include/vterm.h,
            src/libvterm/include/vterm_keycodes.h,
            src/libvterm/src/encoding.c, src/libvterm/src/keyboard.c,
            src/libvterm/src/parser.c, src/libvterm/src/pen.c,
            src/libvterm/src/screen.c, src/libvterm/src/state.c,
            src/libvterm/src/unicode.c, src/libvterm/src/utf8.h,
            src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h

Patch 8.0.1758
Problem:    open_line() returns TRUE/FALSE for success/failure.
Solution:   Return OK or FAIL.
Files:      src/misc1.c, src/normal.c, src/edit.c

Patch 8.0.1759
Problem:    Memory leak from duplicate <A HREF="options.html#options">options</A>. (Yegappan Lakshmanan)
Solution:   Don't set the default value <A HREF="if_cscop.html#twice">twice</A>.
Files:      src/option.c

Patch 8.0.1760
Problem:    Wrong number of arguments to vms_read().
Solution:   Drop the first argument. (Ozaki Kiichi)
Files:      src/ui.c

Patch 8.0.1761
Problem:    <A HREF="eval.html#Job">Job</A> in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> with no output <A HREF="channel.html#channel">channel</A> is killed.
Solution:   Keep the <A HREF="channel.html#job">job</A> running when the input is a tty. (Ozaki Kiichi,
            closes #2734)
Files:      src/channel.c, src/os_unix.c, src/testdir/test_channel.vim

Patch 8.0.1762
Problem:    Terminal debug logging is a bit complicated.
Solution:   Make log_tr() use variable arguments (Ozaki Kiichi, closes #2730)
Files:      src/term.c

Patch 8.0.1763
Problem:    <A HREF="editing.html#:argedit">:argedit</A> does not reuse an empty unnamed buffer.
Solution:   Add the BLN_CURBUF flag and fix all the side effects. (Christian
            Brabandt, closes #2713)
Files:      src/buffer.c, src/ex_cmds2.c, src/proto/buffer.pro,
            src/testdir/test_arglist.vim, src/testdir/test_command_count.vim

Patch 8.0.1764
Problem:    Lgtm considers tutor.es to be EcmaScript.
Solution:   Add a config file for lgtm. (Bas van Schaik, closes #2844)
Files:      .lgtm.yml, Filelist

Patch 8.0.1765
Problem:    <A HREF="editing.html#CTRL-G">CTRL-G</A> <A HREF="motion.html#j">j</A> in <A HREF="insert.html#Insert">Insert</A> mode is incorrect when <A HREF="options.html#'virtualedit'">'virtualedit'</A> is set.
Solution:   Take coladd into account. (Christian Brabandt, closes #2743)
Files:      src/charset.c, src/testdir/test_virtualedit.vim

Patch 8.0.1766 (after 8.0.1758)
Problem:    Expanding abbreviation doesn't work. (Tooth Pik)
Solution:   Return OK instead of <A HREF="eval.html#FALSE">FALSE</A> and FAIL instead of <A HREF="eval.html#TRUE">TRUE</A>. (Christian
            Brabandt)
Files:      src/edit.c, src/testdir/test_mapping.vim

Patch 8.0.1767
Problem:    With <A HREF="options.html#'incsearch'">'incsearch'</A> text may jump up and down. ()
Solution:   Besides w_botline also save and restore w_empty_rows.
            (closes #2530)
Files:      src/ex_getln.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_incsearch_scrolling_01.dump

Patch 8.0.1768
Problem:    SET_NO_HLSEARCH() used in a wrong way.
Solution:   Make <A HREF="motion.html#it">it</A> a function. (suggested by Dominique Pelle,
            closes #2850)
Files:      src/vim.h, src/ex_docmd.c, src/proto/ex_docmd.pro, src/search.c,
            src/ex_getln.c, src/option.c, src/screen.c, src/tag.c

Patch 8.0.1769
Problem:    Repeated saving and restoring viewstate for <A HREF="options.html#'incsearch'">'incsearch'</A>.
Solution:   Use a structure.
Files:      src/ex_getln.c

Patch 8.0.1770
Problem:    Assert <A HREF="eval.html#functions">functions</A> don't return anything.
Solution:   Return non-zero when the assertion fails.
Files:      src/evalfunc.c, src/eval.c, src/proto/eval.pro,
            src/testdir/test_assert.vim, runtime/doc/eval.txt

Patch 8.0.1771
Problem:    In tests, when WaitFor() fails <A HREF="motion.html#it">it</A> doesn't say why. (James McCoy)
Solution:   Add WaitForAssert(), which produces an assert error when <A HREF="motion.html#it">it</A> fails.
Files:      src/testdir/shared.vim, src/testdir/test_terminal.vim,
            src/testdir/screendump.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_job_fails.vim

Patch 8.0.1772
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A>: mixup of <A HREF="eval.html#FALSE">FALSE</A> and FAIL, returning -1.
Solution:   Use FAIL and INVALID_QFIDX. (Yegappan Lakshmanan)
Files:      src/quickfix.c

Patch 8.0.1773
Problem:    Dialog <A HREF="message.html#messages">messages</A> are not translated.
Solution:   Add N_() and _() where needed. (Sergey Alyoshin)
Files:      src/diff.c, src/ex_cmds2.c, src/ex_docmd.c, src/message.c,
            src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak,
            src/po/Makefile, src/quickfix.c, src/vim.h

Patch 8.0.1774
Problem:    Reading very long lines can be slow.
Solution:   Read up to 1 Mbyte at a time to avoid a lot of <A HREF="uganda.html#copying">copying</A>.  Add a
            check for going over the column limit.
Files:      src/fileio.c

Patch 8.0.1775
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: warning for unused variable.
Solution:   Move declaration inside #ifdef. (Mike Williams)
Files:      src/channel.c

Patch 8.0.1776
Problem:    In tests, when WaitFor() fails <A HREF="motion.html#it">it</A> doesn't say why.
Solution:   Turn a few more WaitFor() into WaitForAssert().
Files:      src/testdir/test_popup.vim, src/testdir/test_quotestar.vim,
            src/testdir/test_search.vim, src/testdir/test_terminal.vim,
            src/testdir/test_timers.vim

Patch 8.0.1777
Problem:    Cannot cleanup before loading another colorscheme.
Solution:   Add the <A HREF="autocmd.html#ColorSchemePre">ColorSchemePre</A> <A HREF="autocmd.html#autocommand">autocommand</A> event.
Files:      src/fileio.c, src/syntax.c, src/vim.h, src/testdir/test_gui.vim,
            runtime/colors/README.txt

Patch 8.0.1778
Problem:    Script to check translations does not always work.
Solution:   Go to first line before searching for MIME.
Files:      src/po/check.vim

Patch 8.0.1779
Problem:    Deleting in a block selection causes problems.
Solution:   Check the length of the line before adding bd.textcol and
            bd.textlen. (Christian Brabandt, closes #2825)
Files:      src/ops.c, src/testdir/test_blockedit.vim

Patch 8.0.1780
Problem:    Test fails because Vim in a <A HREF="terminal.html#terminal">terminal</A> uses wrong <A HREF="options.html#'encoding'">'encoding'</A>.
Solution:   Set encoding in the test where <A HREF="motion.html#it">it</A> matters. (James McCoy,
            closes #2847)
Files:      src/testdir/test_terminal.vim

Patch 8.0.1781
Problem:    File names in <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> are not always shortened.
Solution:   Shorten the file name when opening the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>. (Yegappan
            Lakshmanan, closes #2851, closes #2846)
Files:      src/testdir/test_quickfix.vim, src/fileio.c, src/proto/fileio.pro,
            src/quickfix.c

Patch 8.0.1782
Problem:    No simple way to label <A HREF="quickfix.html#quickfix">quickfix</A> entries.
Solution:   Add the &quot;module&quot; item, to be used instead of the file name for
            display purposes. (Marcin Szamotulski, closes #1757)
Files:      runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/alloc.h,
            src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1783
Problem:    Cannot use 256 colors in a <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   Add 256 color support. (Nobuhiro Takasaki, closes #2821)
Files:      src/misc1.c, src/option.c, src/os_win32.c, src/proto/os_win32.pro,
            src/term.c, src/proto/term.pro, src/terminal.c

Patch 8.0.1784 (after 8.0.1782)
Problem:    Gvim test gets stuck in <A HREF="gui_w32.html#dialog">dialog</A>.
Solution:   Rename the file used.
Files:      src/testdir/test_quickfix.vim

Patch 8.0.1785 (after 8.0.1783)
Problem:    Missing symbol in <A HREF="os_win32.html#Win32">Win32</A> small build.
Solution:   Define VTERM_ANSI_INDEX_NONE without the <A HREF="terminal.html#terminal">terminal</A> feature. Also
            fix unused function with #ifdef.
Files:      src/term.c, src/os_win32.c

Patch 8.0.1786
Problem:    No test for <A HREF="options.html#'termwinkey'">'termwinkey'</A>.
Solution:   Add a test.  Make <A HREF="eval.html#feedkeys()">feedkeys()</A> handle terminal_loop() returning
            before characters are consumed.
Files:      src/testdir/test_terminal.vim, src/terminal.c, src/evalfunc.c,
            src/ex_docmd.c, src/getchar.c, src/keymap.h

Patch 8.0.1787
Problem:    Cannot insert the whole cursor line.
Solution:   Make <A HREF="undo.html#CTRL-R">CTRL-R</A> <A HREF="various.html#CTRL-L">CTRL-L</A> work. (Andy Massimino, closes #2857)
Files:      runtime/doc/cmdline.txt, src/ex_getln.c, src/ops.c,
            src/testdir/test_cmdline.vim

Patch 8.0.1788
Problem:    Tool to check a color scheme is not installed.
Solution:   Update the <A HREF="usr_90.html#install">install</A> rule. (Christian Brabandt)
Files:      src/Makefile

Patch 8.0.1789
Problem:    <A HREF="autocmd.html#BufWinEnter">BufWinEnter</A> does not work well for a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Do not trigger <A HREF="autocmd.html#BufWinEnter">BufWinEnter</A> when opening a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Files:      src/terminal.c, runtime/doc/autocmd.txt,
            src/testdir/test_terminal.vim

Patch 8.0.1790
Problem:    <A HREF="options.html#'winfixwidth'">'winfixwidth'</A> is not always respected by <A HREF="windows.html#:close">:close</A>.
Solution:   Prefer a frame without <A HREF="options.html#'winfixwidth'">'winfixwidth'</A> or <A HREF="options.html#'winfixheight'">'winfixheight'</A>. (Jason
            Franklin)
Files:      src/window.c, src/testdir/test_winbuf_close.vim

Patch 8.0.1791
Problem:    Using uint8_t does not work everywhere.
Solution:   Use char_u instead.
Files:      src/term.c, src/proto/term.pro, src/os_win32.c

Patch 8.0.1792
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> users expect <A HREF="starting.html#-?">-?</A> to work like <A HREF="starting.html#--help">--help</A>.
Solution:   Add <A HREF="starting.html#-?">-?</A>. (Christian Brabandt, closes #2867)
Files:      src/main.c

Patch 8.0.1793
Problem:    No test for &quot;vim -g&quot;.
Solution:   Add a test for &quot;<A HREF="starting.html#-g">-g</A>&quot; and &quot;<A HREF="starting.html#-y">-y</A>&quot;.
Files:      src/testdir/shared.vim, src/testdir/test_gui.vim

Patch 8.0.1794
Problem:    Duplicate term <A HREF="options.html#options">options</A> after renaming.
Solution:   Remove the old names 'termkey', 'termsize' and 'terminalscroll'.
Files:      src/option.c, src/terminal.c, src/option.h,
            src/testdir/gen_opt_test.vim, src/testdir/screendump.vim

Patch 8.0.1795
Problem:    Lose contact with jobs when <A HREF="gui_x11.html#:gui">:gui</A> forks.
Solution:   Don't <A HREF="os_unix.html#fork">fork</A> when there is a running <A HREF="channel.html#job">job</A>. Make log message for a
            died <A HREF="channel.html#job">job</A> clearer.  Also close the <A HREF="terminal.html#terminal">terminal</A> when stderr and stdout
            are the same FD.
Files:      src/gui.h, src/gui.c, src/channel.c, src/proto/channel.pro,
            src/os_unix.c, src/terminal.c

Patch 8.0.1796
Problem:    <A HREF="gui.html#GUI">GUI</A>: click on <A HREF="intro.html#tab">tab</A> fails when the focus is in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Handle K_TABLINE.
Files:      src/terminal.c

Patch 8.0.1797
Problem:    Terminal <A HREF="windows.html#window">window</A> is redrawn too often and <A HREF="scroll.html#scrolling">scrolling</A> is repeated.
Solution:   Don't scroll immediately but only when redrawing.  Avoid redrawing
            the whole <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> on every change.
Files:      src/terminal.c, src/screen.c, src/proto/terminal.pro

Patch 8.0.1798
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: file considered read-only when another program has
            opened <A HREF="motion.html#it">it</A>.
Solution:   Pass file sharing flag to CreateFile(). (Linwei, closes #2860)
Files:      src/os_win32.c

Patch 8.0.1799
Problem:    No test for <A HREF="change.html#:registers">:registers</A> command.
Solution:   Add a test. (Dominique Pelle, closes #2880)
Files:      src/testdir/test_registers.vim

Patch 8.0.1800
Problem:    <A HREF="options.html#X11">X11</A>: getting color is slow.
Solution:   Avoid using sprintf() and XParseColor(), put the RGB values in
            XColor directly.
Files:      src/gui_x11.c

Patch 8.0.1801
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: redirecting <A HREF="terminal.html#terminal">terminal</A> output does not work.
Solution:   Intercept the text written to the <A HREF="terminal.html#terminal">terminal</A> and write <A HREF="motion.html#it">it</A> to the
            file.
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1802 (after 8.0.1802)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="terminal.html#terminal">terminal</A> test fails.
Solution:   Close redirected output file earlier.
Files:      src/terminal.c

Patch 8.0.1803
Problem:    Warning for uninitialized variable. (Tony Mechelynck)
Solution:   Initialize <A HREF="motion.html#it">it</A>.
Files:      src/terminal.c

Patch 8.0.1804
Problem:    Using <A HREF="various.html#:normal">:normal</A> in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> causes problems. (Dominique
            Pelle)
Solution:   Don't call terminal_loop() for <A HREF="various.html#:normal">:normal</A>. (closes #2886)
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/evalfunc.c

Patch 8.0.1805
Problem:    qf_parse_line() is too long.
Solution:   Split <A HREF="motion.html#it">it</A> in parts.  Properly handle vim_realloc() failing.
            (Yegappan Lakshmanan, closes #2881)
Files:      src/quickfix.c

Patch 8.0.1806
Problem:    <A HREF="autocmd.html#InsertCharPre">InsertCharPre</A> causes problems for autocomplete. (Lifepillar)
Solution:   Check for <A HREF="autocmd.html#InsertCharPre">InsertCharPre</A> before calling vpeekc(). (Christian
            Brabandt, closes #2876)
Files:      src/edit.c, src/testdir/test_popup.vim

Patch 8.0.1807
Problem:    Function to set <A HREF="terminal.html#terminal">terminal</A> name is too long.
Solution:   Refactor the function.  Fix typo in test.
Files:      src/term.c, src/testdir/test_options.vim

Patch 8.0.1808 (after 8.0.1807)
Problem:    Can't build without TGETENT.
Solution:   Add #ifdef
Files:      src/term.c

Patch 8.0.1809
Problem:    Various typos.
Solution:   Correct the mistakes, change &quot;cursur&quot; to &quot;cursor&quot;. (closes #2887)
Files:      src/edit.c, src/normal.c, src/screen.c, src/proto/screen.pro,
            src/ui.c

Patch 8.0.1810
Problem:    Buffer of a <A HREF="terminal.html#terminal">terminal</A> only updated in <A HREF="terminal.html#Terminal-Normal">Terminal-Normal</A> mode.
Solution:   Copy the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> content to the buffer when in
            <A HREF="terminal.html#Terminal-Job">Terminal-Job</A> mode.
Files:      src/terminal.c, src/proto/terminal.pro, src/ex_cmds2.c,
            src/proto/ex_cmds2.pro

Patch 8.0.1811
Problem:    No test for <A HREF="eval.html#winrestcmd()">winrestcmd()</A>.
Solution:   Add a test. (Dominique Pelle, closes #2894)
Files:      src/testdir/test_window_cmd.vim

Patch 8.0.1812
Problem:    The qf_jump_to_usable_window() function is too long.
Solution:   Split <A HREF="motion.html#it">it</A> in parts. (Yegappan Lakshmanan, closes #2891)
Files:      src/quickfix.c

Patch 8.0.1813
Problem:    Windows installer doesn't <A HREF="usr_90.html#install">install</A> <A HREF="terminal.html#terminal">terminal</A> debugger.
Solution:   Add the package to the <A HREF="eval.html#list">list</A> of files to <A HREF="usr_90.html#install">install</A>.
Files:      nsis/gvim.nsi

Patch 8.0.1814
Problem:    Crash with <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> and with <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> set. (Antoine)
Solution:   Check the <A HREF="terminal.html#terminal">terminal</A> still exists after update_screen().
Files:      src/terminal.c

Patch 8.0.1815 (after 8.0.1814)
Problem:    Still a crash with <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> and with <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> set.
            (Antoine)
Solution:   Do not wipe out the buffer when updating the screen.
Files:      src/terminal.c, src/proto/terminal.pro, src/screen.c,
            src/proto/screen.pro, src/ui.c

Patch 8.0.1816
Problem:    No test for <A HREF="eval.html#setcmdpos()">setcmdpos()</A>.
Solution:   Add a test. (Dominique Pelle, closes #2901)
Files:      src/testdir/test_cmdline.vim

Patch 8.0.1817
Problem:    A <A HREF="eval.html#timer">timer</A> may change <A HREF="eval.html#v:count">v:count</A> unexpectedly.
Solution:   Save and restore <A HREF="eval.html#v:count">v:count</A> and similar <A HREF="eval.html#variables">variables</A> when a <A HREF="eval.html#timer">timer</A>
            callback is invoked. (closes #2897)
Files:      src/eval.c, src/proto/eval.pro, src/ex_cmds2.c, src/structs.h,
            src/testdir/test_timers.vim

Patch 8.0.1818 (after 8.0.1810)
Problem:    Lines remove from wrong buffer when using <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Make sure to use tl_buffer.
Files:      src/terminal.c

Patch 8.0.1819
Problem:    Swap file warning for a file in a non-existing directory, if there
            is another with the same file name. (Juergen Weigert)
Solution:   When expanding the file name fails compare the file names.
Files:      src/testdir/test_swap.vim, src/memline.c

Patch 8.0.1820
Problem:    Terminal <A HREF="windows.html#window">window</A> redirecting stdout does not show stderr. (Mato
            Zanibelli)
Solution:   When stdout is not connected to pty_master_fd then use <A HREF="motion.html#it">it</A> for
            stderr. (closes #2903)
Files:      src/os_unix.c, src/testdir/test_terminal.vim

Patch 8.0.1821
Problem:    Cursor in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> moves when pressing <A HREF="index.html#CTRL-W">CTRL-W</A>. (Dominique
            Pelle)
Solution:   Do not more the cursor or redraw when not in <A HREF="terminal.html#Terminal-Normal">Terminal-Normal</A> mode.
            (closes #2904)
Files:      src/terminal.c

Patch 8.0.1822
Problem:    Make uninstall does not remove colors/tools.
Solution:   Add a line to delete the tools directory. (Kazunobu Kuriyama)
Files:      src/Makefile

Patch 8.0.1823
Problem:    Test for <A HREF="terminal.html#terminal">terminal</A> stdout redirection is flaky.
Solution:   Wait for the <A HREF="channel.html#job">job</A> to finish.
Files:      src/testdir/test_terminal.vim

Patch 8.0.1824
Problem:    Coverity warns for variable that may be uninitialized.
Solution:   Initialize the variable.
Files:      src/terminal.c

Patch 8.0.1825
Problem:    Might use NULL pointer when out of memory. (Coverity)
Solution:   Handle NULL pointer better.
Files:      src/getchar.c

Patch 8.0.1826
Problem:    Configure uses old compiler flag.
Solution:   Remove _DARWIN_C_SOURCE. (Kazunobu Kuriyama)
Files:      src/configure.ac, src/auto/configure

Patch 8.0.1827
Problem:    Compiler warning for signed/unsigned char pointers. (Cesar Romani)
Solution:   Change the type of jv_argv.
Files:      src/channel.c, src/structs.h

Patch 8.0.1828
Problem:    Get no clue why <A HREF="gui_x11.html#:gui">:gui</A> does not <A HREF="os_unix.html#fork">fork</A>.
Solution:   Add a <A HREF="channel.html#channel">channel</A> log message.
Files:      src/channel.c

Patch 8.0.1829
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="usr_41.html#script">script</A> for <A HREF="diff.html#vimdiff">vimdiff</A> can't handle ! chars.
Solution:   Escape the ! chars. (Hans Ginzel, closes #2896)
Files:      src/dosinst.c

Patch 8.0.1830
Problem:    Switching to <A HREF="terminal.html#Terminal-Normal">Terminal-Normal</A> mode does not redraw. (Dominique
            Pelle)
Solution:   Also redraw when not updating the snapshot. (closes #2904)
Files:      src/terminal.c

Patch 8.0.1831
Problem:    Sometimes the <A HREF="quickfix.html#quickfix">quickfix</A> title is incorrectly prefixed with '<A HREF="cmdline.html#:">:</A>'.
Solution:   Prepend the colon in another way. (Yegappan Lakshmanan, closes
            #2905)
Files:      src/evalfunc.c, src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.0.1832
Problem:    Cannot use <A HREF="eval.html#:unlet">:unlet</A> for an environment variable.
Solution:   Make <A HREF="motion.html#it">it</A> work.  Use unsetenv() if available. (Yasuhiro Matsumoto,
            closes #2855)
Files:      runtime/doc/eval.txt, src/config.h.in, src/configure.ac,
            src/auto/configure, src/eval.c, src/misc1.c, src/proto/misc1.pro,
            src/testdir/test_unlet.vim

Patch 8.0.1833
Problem:    <A HREF="options.html#X11">X11</A>: &quot;<A HREF="eval.html#:echo">:echo</A> 3.14&quot; gives <A HREF="eval.html#E806">E806</A>.
Solution:   set LC_NUMERIC to &quot;<A HREF="change.html#C">C</A>&quot;. (Dominique Pelle, closes #2368)
Files:      src/gui_x11.c

Patch 8.0.1834
Problem:    <A HREF="gui.html#GUI">GUI</A>: find/replace <A HREF="gui_w32.html#dialog">dialog</A> does not handle some chars properly.
Solution:   Escape '<A HREF="pattern.html#?">?</A>' when needed.  Always <A HREF="intro.html#escape">escape</A> <A HREF="intro.html#backslash">backslash</A>. (closes #2418,
            closes #2435)
Files:      src/gui.c

Patch 8.0.1835
Problem:    Print document name does not support <A HREF="mbyte.html#multi-byte">multi-byte</A>.
Solution:   Use StartDocW() if needed. (Yasuhiro Matsumoto, closes #2478)
Files:      src/os_mswin.c

Patch 8.0.1836
Problem:    Buffer-local <A HREF="windows.html#window">window</A> <A HREF="options.html#options">options</A> may not be recent if the buffer is
            still open in another <A HREF="windows.html#window">window</A>.
Solution:   Copy the <A HREF="options.html#options">options</A> from the <A HREF="windows.html#window">window</A> instead of the outdated <A HREF="windows.html#window">window</A>
            <A HREF="options.html#options">options</A>. (Bjorn Linse, closes #2336)
Files:      src/buffer.c, src/testdir/test_options.vim

Patch 8.0.1837
Problem:    One character cmdline abbreviation not triggered after '&lt;,'&gt;.
Solution:   Skip over the special range. (Christian Brabandt, closes #2320)
Files:      src/ex_getln.c, src/testdir/test_mapping.vim

Patch 8.0.1838
Problem:    Cursor in wrong position when switching to <A HREF="terminal.html#Terminal-Normal">Terminal-Normal</A> mode.
            (Dominique Pelle)
Solution:   Move to the end of the line if coladvance() fails.  Do not take a
            snapshot a second time.
Files:      src/terminal.c

Patch 8.0.1839
Problem:    Script to check .po file doesn't check for plural header.
Solution:   Add a check that the plural header is present when needed.
Files:      src/po/check.vim

Patch 8.0.1840
Problem:    <A HREF="eval.html#getwinpos()">getwinpos()</A> is not tested.
Solution:   Add a test. (Dominique Pelle, closes #2911)
Files:      src/testdir/test_gui.vim

Patch 8.0.1841
Problem:    HP-UX does not have setenv().
Solution:   Use vim_setenv(). (John Marriott)
Files:      src/misc1.c

Patch 8.0.1842
Problem:    Popup menu inside <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> isn't cleared.
Solution:   Use NOT_VALID in pum_undisplay(). (suggested by Christian
            Brabandt, closes #2908)
Files:      src/popupmnu.c

Patch 8.0.1843
Problem:    Entry for <A HREF="options.html#'wrap'">'wrap'</A> in <A HREF="options.html#options">options</A> <A HREF="windows.html#window">window</A> is wrong. (John Little)
Solution:   Make the change apply locally.
Files:      runtime/optwin.vim

Patch 8.0.1844
Problem:    Superfluous <A HREF="quickfix.html#quickfix">quickfix</A> code, missing examples.
Solution:   Remove unneeded code.  Add a few examples.  Add a bit more
            <A HREF="eval.html#testing">testing</A>. (Yegappan Lakshmanan, closes #2916)
Files:      runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.0.1845
Problem:    Various comment updates needed, missing white space.
Solution:   Update comments, add white space.
Files:      src/getchar.c, src/testdir/test_cscope.vim, src/gui_mac.c

Patch 8.0.1846
Problem:    <A HREF="if_pyth.html#Python">Python</A> interface is incompatible with lldb.
Solution:   For OutputType set the base to be PyFile_Type. (Boxu Zhang)
            Partly disabled to avoid a crash.
Files:      src/if_py_both.h, src/if_python.c, src/if_python3.c

Patch 8.0.1847
Problem:    Some build <A HREF="options.html#options">options</A> don't have an example.
Solution:   Add a couple more examples and compiler flags.
Files:      src/Makefile

Patch 8.0.1848
Problem:    <A HREF="options.html#'termwinscroll'">'termwinscroll'</A> does not work properly. (Dominique Pelle)
Solution:   Subtract removed scrollback from the scrollback <A HREF="intro.html#count">count</A>.  Add a test
            for <A HREF="options.html#'termwinscroll'">'termwinscroll'</A>. (closes #2909)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.0.1849
Problem:    Compiler warning for unused arguments and missing prototype.
Solution:   Add UNUSED.  Add static.
Files:      src/mbyte.c, src/if_ruby.c

Patch 8.0.1850
Problem:    Todo items in source code not visible for users.
Solution:   Move the <A HREF="todo.html#todo">todo</A> items to the help file.
Files:      src/terminal.c


<A HREF="#top">top</A> - <A HREF="index.html">main help file</A>
</PRE>
</BODY>


</HTML>
